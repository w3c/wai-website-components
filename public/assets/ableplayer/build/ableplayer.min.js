/*! ableplayer V3.2.0 */
"use strict";!function(a){a(document).ready(function(){a("video, audio").each(function(b,c){void 0!==a(c).data("able-player")&&new AblePlayer(a(this),a(c))})}),window.onYouTubeIframeAPIReady=function(){AblePlayer.youtubeIframeAPIReady=!0,a("body").trigger("youtubeIframeAPIReady",[])},a(window).keydown(function(a){1===AblePlayer.nextIndex&&AblePlayer.lastCreated.onPlayerKeyPress(a)}),window.AblePlayer=function(b){if(AblePlayer.lastCreated=this,this.media=b,0===a(b).length)return void this.provideFallback();if(void 0!==a(b).attr("autoplay")?this.autoplay=!0:this.autoplay=!1,void 0!==a(b).attr("loop")?this.loop=!0:this.loop=!1,void 0!==a(b).attr("playsinline")?this.playsInline="1":this.playsInline="0",void 0!==a(b).data("start-time")&&a.isNumeric(a(b).data("start-time"))?this.startTime=a(b).data("start-time"):this.startTime=0,void 0!==a(b).data("debug")&&a(b).data("debug")!==!1?this.debug=!0:this.debug=!1,void 0!==a(b).data("root-path")?this.rootPath=a(b).data("root-path").replace(/\/?$/,"/"):this.rootPath=this.getRootPath(),this.defaultVolume=7,void 0!==a(b).data("volume")&&""!==a(b).data("volume")){var c=a(b).data("volume");c>=0&&10>=c&&(this.defaultVolume=c)}if(this.volume=this.defaultVolume,void 0!==a(b).data("use-chapters-button")&&a(b).data("use-chapters-button")===!1?this.useChaptersButton=!1:this.useChaptersButton=!0,void 0!==a(b).data("use-descriptions-button")&&a(b).data("use-descriptions-button")===!1?this.useDescriptionsButton=!1:this.useDescriptionsButton=!0,void 0!==a(b).data("heading-level")&&""!==a(b).data("heading-level")){var d=a(b).data("heading-level");/^[0-6]*$/.test(d)&&(this.playerHeadingLevel=d)}if(this.transcriptType=null,void 0!==a(b).data("transcript-src")?(this.transcriptSrc=a(b).data("transcript-src"),this.transcriptSrcHasRequiredParts()?this.transcriptType="manual":this.transcriptType=null):a(b).find('track[kind="captions"], track[kind="subtitles"]').length>0&&(void 0!==a(b).data("transcript-div")&&""!==a(b).data("transcript-div")?(this.transcriptDivLocation=a(b).data("transcript-div"),this.transcriptType="external"):void 0!==a(b).data("include-transcript")?a(b).data("include-transcript")!==!1&&(this.transcriptType="popup"):this.transcriptType="popup"),void 0!==a(b).data("lyrics-mode")&&a(b).data("lyrics-mode")!==!1?this.lyricsMode=!0:this.lyricsMode=!1,void 0!==a(b).data("transcript-title")&&""!==a(b).data("transcript-title")&&(this.transcriptTitle=a(b).data("transcript-title")),"overlay"===a(b).data("captions-position")?this.defaultCaptionsPosition="overlay":this.defaultCaptionsPosition="below",void 0!==a(b).data("chapters-div")&&""!==a(b).data("chapters-div")&&(this.chaptersDivLocation=a(b).data("chapters-div")),void 0!==a(b).data("chapters-title")&&(this.chaptersTitle=a(b).data("chapters-title")),void 0!==a(b).data("chapters-default")&&""!==a(b).data("chapters-default")?this.defaultChapter=a(b).data("chapters-default"):this.defaultChapter=null,"chapter"===a(b).data("prevnext-unit")||"chapters"===a(b).data("prevnext-unit")?this.prevNextUnit="chapter":"playlist"===a(b).data("prevnext-unit")?this.prevNextUnit="playlist":this.prevNextUnit=!1,"arrows"===a(b).data("speed-icons")?this.speedIcons="arrows":this.speedIcons="animals","chapter"===a(b).data("seekbar-scope")||"chapters"===a(b).data("seekbar-scope")?this.seekbarScope="chapter":this.seekbarScope="video",void 0!==a(b).data("youtube-id")&&""!==a(b).data("youtube-id")&&(this.youTubeId=a(b).data("youtube-id")),void 0!==a(b).data("youtube-desc-id")&&""!==a(b).data("youtube-desc-id")&&(this.youTubeDescId=a(b).data("youtube-desc-id")),void 0!==a(b).data("youtube-nocookie")&&a(b).data("youtube-nocookie")?this.youTubeNoCookie=!0:this.youTubeNoCookie=!1,this.iconType="font",this.forceIconType=!1,void 0!==a(b).data("icon-type")&&""!==a(b).data("icon-type")){var e=a(b).data("icon-type");("font"===e||"image"==e||"svg"==e)&&(this.iconType=e,this.forceIconType=!0)}if(void 0!==a(b).data("allow-fullscreen")&&a(b).data("allow-fullscreen")===!1?this.allowFullScreen=!1:this.allowFullScreen=!0,this.defaultSeekInterval=10,this.useFixedSeekInterval=!1,void 0!==a(b).data("seek-interval")&&""!==a(b).data("seek-interval")){var f=a(b).data("seek-interval");/^[1-9][0-9]*$/.test(f)&&(this.seekInterval=f,this.useFixedSeekInterval=!0)}if(void 0!==a(b).data("show-now-playing")&&a(b).data("show-now-playing")===!1?this.showNowPlaying=!1:this.showNowPlaying=!0,void 0!==a(b).data("use-ttml")?(this.useTtml=!0,this.convert=require("xml-js")):this.useTtml=!1,this.fallback=null,this.fallbackPath=null,this.fallbackJwKey=null,this.testFallback=!1,void 0!==a(b).data("fallback")&&""!==a(b).data("fallback")){var g=a(b).data("fallback");"jw"===g&&(this.fallback=g)}if("jw"===this.fallback){if(void 0!==a(b).data("fallback-path")&&a(b).data("fallback-path")!==!1){this.fallbackPath=a(b).data("fallback-path");var h=a(b).data("fallback-path"),i="jwplayer.js";h.endsWith(i)&&(h=h.slice(0,h.length-i.length)),this.fallbackPath=h}else this.fallbackPath=this.rootPath+"thirdparty/";void 0!==a(b).data("fallback-jwkey")&&(this.fallbackJwKey=a(b).data("fallback-jwkey")),void 0!==a(b).data("test-fallback")&&a(b).data("test-fallback")!==!1&&(this.testFallback=!0)}if(this.lang="en",void 0!==a(b).data("lang")&&""!==a(b).data("lang")){var j=a(b).data("lang");2==j.length&&(this.lang=j)}void 0!==a(b).data("force-lang")&&a(b).data("force-lang")!==!1?this.forceLang=!0:this.forceLang=!1,void 0!==a(b).data("meta-type")&&""!==a(b).data("meta-type")&&(this.metaType=a(b).data("meta-type")),void 0!==a(b).data("meta-div")&&""!==a(b).data("meta-div")&&(this.metaDiv=a(b).data("meta-div")),void 0!==a(b).data("search")&&""!==a(b).data("search")&&(void 0!==a(b).data("search-div")&&""!==a(b).data("search-div")&&(this.searchString=a(b).data("search"),this.searchDiv=a(b).data("search-div")),void 0!==a(b).data("search-lang")&&""!==a(b).data("search-lang")?this.searchLang=a(b).data("search-lang"):this.searchLang=null,void 0!==a(b).data("search-div")&&""!==a(b).data("search-div")&&(this.searchString=a(b).data("search"),this.searchDiv=a(b).data("search-div"))),void 0!==a(b).data("hide-controls")&&a(b).data("hide-controls")!==!1?this.hideControls=!0:this.hideControls=!1,this.setDefaults(),this.ableIndex=AblePlayer.nextIndex,AblePlayer.nextIndex+=1,this.title=a(b).attr("title"),this.tt={};var k=this;a.when(this.getTranslationText()).then(function(){k.countProperties(k.tt)>50?k.setup():k.provideFallback()})},AblePlayer.nextIndex=0,AblePlayer.prototype.setup=function(){var a=this;this.reinitialize().then(function(){a.player?a.setupInstance().then(function(){a.recreatePlayer()}):a.provideFallback()})},AblePlayer.getActiveDOMElement=function(){for(var a=document.activeElement;a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a},AblePlayer.localGetElementById=function(b,c){return a(b.getRootNode?b.getRootNode().querySelector("#"+c):document.getElementById(c))},AblePlayer.youtubeIframeAPIReady=!1,AblePlayer.loadingYoutubeIframeAPI=!1}(jQuery),function(a){AblePlayer.prototype.setDefaults=function(){this.playing=!1,this.clickedPlay=!1,this.getUserAgent(),this.setIconColor(),this.setButtonImages()},AblePlayer.prototype.getRootPath=function(){var a,b,c,d,e,f,g,h;for(a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(c=a[b].src,d=c.substr(c.lastIndexOf("/")),-1!==d.indexOf("ableplayer")){e=c.split("?")[0];break}return f=e.split("/").slice(0,-1).join("/"),g=f.lastIndexOf("/"),h=f.substring(0,g)+"/"},AblePlayer.prototype.setIconColor=function(){var b,c,d,e,f,g,h,i,j,k;for(b=["controller","toolbar"],c=0;c<b.length;c++)"controller"==b[c]?d=a("<div>",{"class":"able-controller"}).hide():"toolbar"===b[c]&&(d=a("<div>",{"class":"able-window-toolbar"}).hide()),a("body").append(d),e=d.css("background-color"),f=e.replace(/[^\d,]/g,"").split(","),g=f[0],h=f[1],i=f[2],j=.2126*g+.7152*h+.0722*i,k=125>j?"white":"black","controller"===b[c]?this.iconColor=k:"toolbar"===b[c]&&(this.toolbarIconColor=k),d.remove()},AblePlayer.prototype.setButtonImages=function(){this.imgPath=this.rootPath+"button-icons/"+this.iconColor+"/",this.playButtonImg=this.imgPath+"play.png",this.pauseButtonImg=this.imgPath+"pause.png",this.restartButtonImg=this.imgPath+"restart.png",this.rewindButtonImg=this.imgPath+"rewind.png",this.forwardButtonImg=this.imgPath+"forward.png",this.previousButtonImg=this.imgPath+"previous.png",this.nextButtonImg=this.imgPath+"next.png","arrows"===this.speedIcons?(this.fasterButtonImg=this.imgPath+"slower.png",this.slowerButtonImg=this.imgPath+"faster.png"):"animals"===this.speedIcons&&(this.fasterButtonImg=this.imgPath+"rabbit.png",this.slowerButtonImg=this.imgPath+"turtle.png"),this.captionsButtonImg=this.imgPath+"captions.png",this.chaptersButtonImg=this.imgPath+"chapters.png",this.signButtonImg=this.imgPath+"sign.png",this.transcriptButtonImg=this.imgPath+"transcript.png",this.descriptionsButtonImg=this.imgPath+"descriptions.png",this.fullscreenExpandButtonImg=this.imgPath+"fullscreen-expand.png",this.fullscreenCollapseButtonImg=this.imgPath+"fullscreen-collapse.png",this.prefsButtonImg=this.imgPath+"preferences.png",this.helpButtonImg=this.imgPath+"help.png"},AblePlayer.prototype.getSvgData=function(a){var b=Array();switch(a){case"play":b[0]="0 0 16 20",b[1]="M0 18.393v-16.429q0-0.29 0.184-0.402t0.441 0.033l14.821 8.237q0.257 0.145 0.257 0.346t-0.257 0.346l-14.821 8.237q-0.257 0.145-0.441 0.033t-0.184-0.402z";break;case"pause":b[0]="0 0 20 20",b[1]="M0 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h5.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-5.714q-0.29 0-0.502-0.212t-0.212-0.502zM10 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h5.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-5.714q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"stop":b[0]="0 0 20 20",b[1]="M0 18.036v-15.714q0-0.29 0.212-0.502t0.502-0.212h15.714q0.29 0 0.502 0.212t0.212 0.502v15.714q0 0.29-0.212 0.502t-0.502 0.212h-15.714q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"restart":b[0]="0 0 20 20",b[1]="M18 8h-6l2.243-2.243c-1.133-1.133-2.64-1.757-4.243-1.757s-3.109 0.624-4.243 1.757c-1.133 1.133-1.757 2.64-1.757 4.243s0.624 3.109 1.757 4.243c1.133 1.133 2.64 1.757 4.243 1.757s3.109-0.624 4.243-1.757c0.095-0.095 0.185-0.192 0.273-0.292l1.505 1.317c-1.466 1.674-3.62 2.732-6.020 2.732-4.418 0-8-3.582-8-8s3.582-8 8-8c2.209 0 4.209 0.896 5.656 2.344l2.344-2.344v6z";break;case"rewind":b[0]="0 0 20 20",b[1]="M11.25 3.125v6.25l6.25-6.25v13.75l-6.25-6.25v6.25l-6.875-6.875z";break;case"forward":b[0]="0 0 20 20",b[1]="M10 16.875v-6.25l-6.25 6.25v-13.75l6.25 6.25v-6.25l6.875 6.875z";break;case"previous":b[0]="0 0 20 20",b[1]="M5 17.5v-15h2.5v6.875l6.25-6.25v13.75l-6.25-6.25v6.875z";break;case"next":b[0]="0 0 20 20",b[1]="M15 2.5v15h-2.5v-6.875l-6.25 6.25v-13.75l6.25 6.25v-6.875z";break;case"slower":b[0]="0 0 20 20",b[1]="M0 7.321q0-0.29 0.212-0.502t0.502-0.212h10q0.29 0 0.502 0.212t0.212 0.502-0.212 0.502l-5 5q-0.212 0.212-0.502 0.212t-0.502-0.212l-5-5q-0.212-0.212-0.212-0.502z";break;case"faster":b[0]="0 0 11 20",b[1]="M0 12.411q0-0.29 0.212-0.502l5-5q0.212-0.212 0.502-0.212t0.502 0.212l5 5q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-10q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"turtle":b[0]="0 0 20 20",b[1]="M17.212 3.846c-0.281-0.014-0.549 0.025-0.817 0.144-1.218 0.542-1.662 2.708-2.163 3.942-1.207 2.972-7.090 4.619-11.755 5.216-0.887 0.114-1.749 0.74-2.428 1.466 0.82-0.284 2.126-0.297 2.74 0.144 0.007 0.488-0.376 1.062-0.625 1.37-0.404 0.5-0.398 0.793 0.12 0.793 0.473 0 0.752 0.007 1.635 0 0.393-0.003 0.618-0.16 1.49-1.49 3.592 0.718 5.986-0.264 5.986-0.264s0.407 1.755 1.418 1.755h1.49c0.633 0 0.667-0.331 0.625-0.433-0.448-1.082-0.68-1.873-0.769-2.5-0.263-1.857 0.657-3.836 2.524-5.457 0.585 0.986 2.253 0.845 2.909-0.096s0.446-2.268-0.192-3.221c-0.49-0.732-1.345-1.327-2.188-1.37zM8.221 4.663c-0.722-0.016-1.536 0.111-2.5 0.409-4.211 1.302-4.177 4.951-3.51 5.745 0 0-0.955 0.479-0.409 1.274 0.448 0.652 3.139 0.191 5.409-0.529s4.226-1.793 5.312-2.692c0.948-0.785 0.551-2.106-0.505-1.947-0.494-0.98-1.632-2.212-3.798-2.26zM18.846 5.962c0.325 0 0.577 0.252 0.577 0.577s-0.252 0.577-0.577 0.577c-0.325 0-0.577-0.252-0.577-0.577s0.252-0.577 0.577-0.577z";break;case"rabbit":b[0]="0 0 20 20",b[1]="M10.817 0c-2.248 0-1.586 0.525-1.154 0.505 1.551-0.072 5.199 0.044 6.851 2.428 0 0-1.022-2.933-5.697-2.933zM10.529 0.769c-2.572 0-2.837 0.51-2.837 1.106 0 0.545 1.526 0.836 2.524 0.697 2.778-0.386 4.231-0.12 5.264 0.865-1.010 0.779-0.75 1.401-1.274 1.851-1.093 0.941-2.643-0.673-4.976-0.673-2.496 0-4.712 1.92-4.712 4.76-0.157-0.537-0.769-0.913-1.442-0.913-0.974 0-1.514 0.637-1.514 1.49 0 0.769 1.13 1.791 2.861 0.938 0.499 1.208 2.265 1.364 2.452 1.418 0.538 0.154 1.875 0.098 1.875 0.865 0 0.794-1.034 1.094-1.034 1.707 0 1.070 1.758 0.873 2.284 1.034 1.683 0.517 2.103 1.214 2.788 2.212 0.771 1.122 2.572 1.408 2.572 0.625 0-3.185-4.413-4.126-4.399-4.135 0.608-0.382 2.139-1.397 2.139-3.534 0-1.295-0.703-2.256-1.755-2.861 1.256 0.094 2.572 1.205 2.572 2.74 0 1.877-0.653 2.823-0.769 2.957 1.975-1.158 3.193-3.91 3.029-6.37 0.61 0.401 1.27 0.577 1.971 0.625 0.751 0.052 1.475-0.225 1.635-0.529 0.38-0.723 0.162-2.321-0.12-2.837-0.763-1.392-2.236-1.73-3.606-1.683-1.202-1.671-3.812-2.356-5.529-2.356zM1.37 3.077l-0.553 1.538h3.726c0.521-0.576 1.541-1.207 2.284-1.538h-5.457zM18.846 5.192c0.325 0 0.577 0.252 0.577 0.577s-0.252 0.577-0.577 0.577c-0.325 0-0.577-0.252-0.577-0.577s0.252-0.577 0.577-0.577zM0.553 5.385l-0.553 1.538h3.197c0.26-0.824 0.586-1.328 0.769-1.538h-3.413z";break;case"ellipsis":b[0]="0 0 20 20",b[1]="M10.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.985 2.199-2.2s-0.984-2.2-2.199-2.2zM3.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.986 2.199-2.2s-0.984-2.2-2.199-2.2zM17.001 7.8c-1.215 0-2.201 0.985-2.201 2.2s0.986 2.2 2.201 2.2c1.215 0 2.199-0.985 2.199-2.2s-0.984-2.2-2.199-2.2z";break;case"pipe":b[0]="0 0 20 20",b[1]="M10.15 0.179h0.623c0.069 0 0.127 0.114 0.127 0.253v19.494c0 0.139-0.057 0.253-0.127 0.253h-1.247c-0.069 0-0.126-0.114-0.126-0.253v-19.494c0-0.139 0.057-0.253 0.126-0.253h0.623z";break;case"captions":b[0]="0 0 20 20",b[1]="M0.033 3.624h19.933v12.956h-19.933v-12.956zM18.098 10.045c-0.025-2.264-0.124-3.251-0.743-3.948-0.112-0.151-0.322-0.236-0.496-0.344-0.606-0.386-3.465-0.526-6.782-0.526s-6.313 0.14-6.907 0.526c-0.185 0.108-0.396 0.193-0.519 0.344-0.607 0.697-0.693 1.684-0.731 3.948 0.037 2.265 0.124 3.252 0.731 3.949 0.124 0.161 0.335 0.236 0.519 0.344 0.594 0.396 3.59 0.526 6.907 0.547 3.317-0.022 6.176-0.151 6.782-0.547 0.174-0.108 0.384-0.183 0.496-0.344 0.619-0.697 0.717-1.684 0.743-3.949v0 0zM9.689 9.281c-0.168-1.77-1.253-2.813-3.196-2.813-1.773 0-3.168 1.387-3.168 3.617 0 2.239 1.271 3.636 3.372 3.636 1.676 0 2.851-1.071 3.035-2.852h-2.003c-0.079 0.661-0.397 1.168-1.068 1.168-1.059 0-1.253-0.91-1.253-1.876 0-1.33 0.442-2.010 1.174-2.010 0.653 0 1.068 0.412 1.13 1.129h1.977zM16.607 9.281c-0.167-1.77-1.252-2.813-3.194-2.813-1.773 0-3.168 1.387-3.168 3.617 0 2.239 1.271 3.636 3.372 3.636 1.676 0 2.851-1.071 3.035-2.852h-2.003c-0.079 0.661-0.397 1.168-1.068 1.168-1.059 0-1.253-0.91-1.253-1.876 0-1.33 0.441-2.010 1.174-2.010 0.653 0 1.068 0.412 1.13 1.129h1.976z";break;case"descriptions":b[0]="0 0 20 20",b[1]="M17.623 3.57h-1.555c1.754 1.736 2.763 4.106 2.763 6.572 0 2.191-0.788 4.286-2.189 5.943h1.484c1.247-1.704 1.945-3.792 1.945-5.943-0-2.418-0.886-4.754-2.447-6.572v0zM14.449 3.57h-1.55c1.749 1.736 2.757 4.106 2.757 6.572 0 2.191-0.788 4.286-2.187 5.943h1.476c1.258-1.704 1.951-3.792 1.951-5.943-0-2.418-0.884-4.754-2.447-6.572v0zM11.269 3.57h-1.542c1.752 1.736 2.752 4.106 2.752 6.572 0 2.191-0.791 4.286-2.181 5.943h1.473c1.258-1.704 1.945-3.792 1.945-5.943 0-2.418-0.876-4.754-2.447-6.572v0zM10.24 9.857c0 3.459-2.826 6.265-6.303 6.265v0.011h-3.867v-12.555h3.896c3.477 0 6.274 2.806 6.274 6.279v0zM6.944 9.857c0-1.842-1.492-3.338-3.349-3.338h-0.876v6.686h0.876c1.858 0 3.349-1.498 3.349-3.348v0z";break;case"sign":b[0]="0 0 20 20",b[1]="M10.954 10.307c0.378 0.302 0.569 1.202 0.564 1.193 0.697 0.221 1.136 0.682 1.136 0.682 1.070-0.596 1.094-0.326 1.558-0.682 0.383-0.263 0.366-0.344 0.567-1.048 0.187-0.572-0.476-0.518-1.021-1.558-0.95 0.358-1.463 0.196-1.784 0.167-0.145-0.020-0.12 0.562-1.021 1.247zM14.409 17.196c-0.133 0.182-0.196 0.218-0.363 0.454-0.28 0.361 0.076 0.906 0.253 0.82 0.206-0.076 0.341-0.488 0.567-0.623 0.115-0.061 0.422-0.513 0.709-0.82 0.211-0.238 0.363-0.344 0.564-0.594 0.341-0.422 0.412-0.744 0.709-1.193 0.184-0.236 0.312-0.307 0.481-0.594 0.886-1.679 0.628-2.432 1.475-3.629 0.26-0.353 0.552-0.442 0.964-0.653 0.383-2.793-0.888-4.356-0.879-4.361-1.067 0.623-1.644 0.879-2.751 0.82-0.417-0.005-0.636-0.182-1.048-0.145-0.385 0.015-0.582 0.159-0.964 0.29-0.589 0.182-0.91 0.344-1.529 0.535-0.393 0.11-0.643 0.115-1.050 0.255-0.348 0.147-0.182 0.029-0.427 0.312-0.317 0.348-0.238 0.623-0.535 1.222-0.371 0.785-0.326 0.891-0.115 0.987-0.14 0.402-0.174 0.672-0.14 1.107 0.039 0.331-0.101 0.562 0.255 0.825 0.483 0.361 1.499 1.205 1.757 1.217 0.39-0.012 1.521 0.029 2.096-0.368 0.13-0.081 0.167-0.162 0.056 0.145-0.022 0.037-1.433 1.136-1.585 1.131-1.794 0.056-1.193 0.157-1.303 0.115-0.091 0-0.955-1.055-1.477-0.682-0.196 0.12-0.287 0.236-0.363 0.452 0.066 0.137 0.383 0.358 0.675 0.54 0.422 0.27 0.461 0.552 0.881 0.653 0.513 0.115 1.060 0.039 1.387 0.081 0.125 0.034 1.256-0.297 1.961-0.675 0.65-0.336-0.898 0.648-1.276 1.131-1.141 0.358-0.82 0.373-1.362 0.483-0.503 0.115-0.479 0.086-0.822 0.196-0.356 0.086-0.648 0.572-0.312 0.825 0.201 0.167 0.827-0.066 1.445-0.086 0.275-0.005 1.391-0.518 1.644-0.653 0.633-0.339 1.099-0.81 1.472-1.077 0.518-0.361-0.584 0.991-1.050 1.558zM8.855 9.799c-0.378-0.312-0.569-1.212-0.564-1.217-0.697-0.206-1.136-0.667-1.136-0.653-1.070 0.582-1.099 0.312-1.558 0.653-0.388 0.277-0.366 0.363-0.567 1.045-0.187 0.594 0.471 0.535 1.021 1.561 0.95-0.344 1.463-0.182 1.784-0.142 0.145 0.010 0.12-0.572 1.021-1.247zM5.4 2.911c0.133-0.191 0.196-0.228 0.368-0.454 0.27-0.371-0.081-0.915-0.253-0.849-0.211 0.096-0.346 0.508-0.599 0.653-0.093 0.052-0.4 0.503-0.682 0.82-0.211 0.228-0.363 0.334-0.564 0.599-0.346 0.407-0.412 0.729-0.709 1.161-0.184 0.258-0.317 0.324-0.481 0.621-0.886 1.669-0.631 2.422-1.475 3.6-0.26 0.38-0.552 0.461-0.964 0.682-0.383 2.788 0.883 4.346 0.879 4.336 1.068-0.609 1.639-0.861 2.751-0.825 0.417 0.025 0.636 0.201 1.048 0.174 0.385-0.025 0.582-0.169 0.964-0.285 0.589-0.196 0.91-0.358 1.499-0.54 0.422-0.12 0.672-0.125 1.080-0.285 0.348-0.128 0.182-0.010 0.427-0.282 0.312-0.358 0.238-0.633 0.508-1.217 0.398-0.8 0.353-0.906 0.142-0.991 0.135-0.412 0.174-0.677 0.14-1.107-0.044-0.336 0.101-0.572-0.255-0.82-0.483-0.375-1.499-1.22-1.752-1.222-0.395 0.002-1.526-0.039-2.101 0.339-0.13 0.101-0.167 0.182-0.056-0.11 0.022-0.052 1.433-1.148 1.585-1.163 1.794-0.039 1.193-0.14 1.303-0.088 0.091-0.007 0.955 1.045 1.477 0.682 0.191-0.13 0.287-0.245 0.368-0.452-0.071-0.147-0.388-0.368-0.68-0.537-0.422-0.282-0.464-0.564-0.881-0.655-0.513-0.125-1.065-0.049-1.387-0.11-0.125-0.015-1.256 0.317-1.956 0.68-0.66 0.351 0.893-0.631 1.276-1.136 1.136-0.339 0.81-0.353 1.36-0.479 0.501-0.101 0.476-0.071 0.82-0.172 0.351-0.096 0.648-0.577 0.312-0.849-0.206-0.152-0.827 0.081-1.44 0.086-0.28 0.020-1.396 0.533-1.649 0.677-0.633 0.329-1.099 0.8-1.472 1.048-0.523 0.38 0.584-0.967 1.050-1.529z";break;case"mute":b[0]="0 0 20 20",b[1]="M7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714zM18.75 12.093v1.657h-1.657l-2.093-2.093-2.093 2.093h-1.657v-1.657l2.093-2.093-2.093-2.093v-1.657h1.657l2.093 2.093 2.093-2.093h1.657v1.657l-2.093 2.093z";break;case"volume-mute":b[0]="0 0 20 20",b[1]="M10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z";break;case"volume-medium":b[0]="0 0 20 20",b[1]="M14.053 16.241c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 2.559-2.559 2.559-6.722 0-9.281-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c1.594 1.594 2.471 3.712 2.471 5.966s-0.878 4.373-2.471 5.966c-0.183 0.183-0.423 0.275-0.663 0.275zM10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z";break;case"volume-loud":b[0]="0 0 21 20",b[1]="M17.384 18.009c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.712-1.712 2.654-3.988 2.654-6.408s-0.943-4.696-2.654-6.408c-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.066 2.066 3.204 4.813 3.204 7.734s-1.138 5.668-3.204 7.734c-0.183 0.183-0.423 0.275-0.663 0.275zM14.053 16.241c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 2.559-2.559 2.559-6.722 0-9.281-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c1.594 1.594 2.471 3.712 2.471 5.966s-0.878 4.373-2.471 5.966c-0.183 0.183-0.423 0.275-0.663 0.275zM10.723 14.473c-0.24 0-0.48-0.092-0.663-0.275-0.366-0.366-0.366-0.96 0-1.326 1.584-1.584 1.584-4.161 0-5.745-0.366-0.366-0.366-0.96 0-1.326s0.96-0.366 1.326 0c2.315 2.315 2.315 6.082 0 8.397-0.183 0.183-0.423 0.275-0.663 0.275zM7.839 1.536c0.501-0.501 0.911-0.331 0.911 0.378v16.172c0 0.709-0.41 0.879-0.911 0.378l-4.714-4.713h-3.125v-7.5h3.125l4.714-4.714z";break;case"chapters":b[0]="0 0 20 20",b[1]="M5 2.5v17.5l6.25-6.25 6.25 6.25v-17.5zM15 0h-12.5v17.5l1.25-1.25v-15h11.25z";break;case"transcript":b[0]="0 0 20 20",b[1]="M0 19.107v-17.857q0-0.446 0.313-0.759t0.759-0.313h8.929v6.071q0 0.446 0.313 0.759t0.759 0.313h6.071v11.786q0 0.446-0.313 0.759t-0.759 0.312h-15q-0.446 0-0.759-0.313t-0.313-0.759zM4.286 15.536q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM4.286 12.679q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM4.286 9.821q0 0.156 0.1 0.257t0.257 0.1h7.857q0.156 0 0.257-0.1t0.1-0.257v-0.714q0-0.156-0.1-0.257t-0.257-0.1h-7.857q-0.156 0-0.257 0.1t-0.1 0.257v0.714zM11.429 5.893v-5.268q0.246 0.156 0.402 0.313l4.554 4.554q0.156 0.156 0.313 0.402h-5.268z";break;case"preferences":b[0]="0 0 20 20",b[1]="M18.238 11.919c-1.049-1.817-0.418-4.147 1.409-5.205l-1.965-3.404c-0.562 0.329-1.214 0.518-1.911 0.518-2.1 0-3.803-1.714-3.803-3.828h-3.931c0.005 0.653-0.158 1.314-0.507 1.919-1.049 1.818-3.382 2.436-5.212 1.382l-1.965 3.404c0.566 0.322 1.056 0.793 1.404 1.396 1.048 1.815 0.42 4.139-1.401 5.2l1.965 3.404c0.56-0.326 1.209-0.513 1.902-0.513 2.094 0 3.792 1.703 3.803 3.808h3.931c-0.002-0.646 0.162-1.3 0.507-1.899 1.048-1.815 3.375-2.433 5.203-1.387l1.965-3.404c-0.562-0.322-1.049-0.791-1.395-1.391zM10 14.049c-2.236 0-4.050-1.813-4.050-4.049s1.813-4.049 4.050-4.049 4.049 1.813 4.049 4.049c-0 2.237-1.813 4.049-4.049 4.049z";break;case"close":b[0]="0 0 16 20",b[1]="M1.228 14.933q0-0.446 0.312-0.759l3.281-3.281-3.281-3.281q-0.313-0.313-0.313-0.759t0.313-0.759l1.518-1.518q0.313-0.313 0.759-0.313t0.759 0.313l3.281 3.281 3.281-3.281q0.313-0.313 0.759-0.313t0.759 0.313l1.518 1.518q0.313 0.313 0.313 0.759t-0.313 0.759l-3.281 3.281 3.281 3.281q0.313 0.313 0.313 0.759t-0.313 0.759l-1.518 1.518q-0.313 0.313-0.759 0.313t-0.759-0.313l-3.281-3.281-3.281 3.281q-0.313 0.313-0.759 0.313t-0.759-0.313l-1.518-1.518q-0.313-0.313-0.313-0.759z";break;case"fullscreen-expand":b[0]="0 0 20 20",b[1]="M0 18.036v-5q0-0.29 0.212-0.502t0.502-0.212 0.502 0.212l1.607 1.607 3.705-3.705q0.112-0.112 0.257-0.112t0.257 0.112l1.272 1.272q0.112 0.112 0.112 0.257t-0.112 0.257l-3.705 3.705 1.607 1.607q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-5q-0.29 0-0.502-0.212t-0.212-0.502zM8.717 8.393q0-0.145 0.112-0.257l3.705-3.705-1.607-1.607q-0.212-0.212-0.212-0.502t0.212-0.502 0.502-0.212h5q0.29 0 0.502 0.212t0.212 0.502v5q0 0.29-0.212 0.502t-0.502 0.212-0.502-0.212l-1.607-1.607-3.705 3.705q-0.112 0.112-0.257 0.112t-0.257-0.112l-1.272-1.272q-0.112-0.112-0.112-0.257z";break;case"fullscreen-collapse":b[0]="0 0 20 20",b[1]="M0.145 16.964q0-0.145 0.112-0.257l3.705-3.705-1.607-1.607q-0.212-0.212-0.212-0.502t0.212-0.502 0.502-0.212h5q0.29 0 0.502 0.212t0.212 0.502v5q0 0.29-0.212 0.502t-0.502 0.212-0.502-0.212l-1.607-1.607-3.705 3.705q-0.112 0.112-0.257 0.112t-0.257-0.112l-1.272-1.272q-0.112-0.112-0.112-0.257zM8.571 9.464v-5q0-0.29 0.212-0.502t0.502-0.212 0.502 0.212l1.607 1.607 3.705-3.705q0.112-0.112 0.257-0.112t0.257 0.112l1.272 1.272q0.112 0.112 0.112 0.257t-0.112 0.257l-3.705 3.705 1.607 1.607q0.212 0.212 0.212 0.502t-0.212 0.502-0.502 0.212h-5q-0.29 0-0.502-0.212t-0.212-0.502z";break;case"help":b[0]="0 0 11 20",b[1]="M0.577 6.317q-0.028-0.167 0.061-0.313 1.786-2.969 5.179-2.969 0.893 0 1.797 0.346t1.629 0.926 1.183 1.423 0.458 1.769q0 0.603-0.173 1.127t-0.391 0.854-0.614 0.664-0.642 0.485-0.681 0.396q-0.458 0.257-0.765 0.725t-0.307 0.748q0 0.19-0.134 0.363t-0.313 0.173h-2.679q-0.167 0-0.285-0.206t-0.117-0.419v-0.502q0-0.926 0.725-1.747t1.596-1.211q0.658-0.301 0.938-0.625t0.279-0.848q0-0.469-0.519-0.826t-1.2-0.357q-0.725 0-1.205 0.324-0.391 0.279-1.194 1.283-0.145 0.179-0.346 0.179-0.134 0-0.279-0.089l-1.83-1.395q-0.145-0.112-0.173-0.279zM3.786 16.875v-2.679q0-0.179 0.134-0.313t0.313-0.134h2.679q0.179 0 0.313 0.134t0.134 0.313v2.679q0 0.179-0.134 0.313t-0.313 0.134h-2.679q-0.179 0-0.313-0.134t-0.134-0.313z"}return b},AblePlayer.prototype.reinitialize=function(){var b,c,d;if(b=new a.Deferred,c=b.promise(),d=this,window.console||(this.debug=!1),this.startedPlaying=!1,this.autoScrollTranscript=!0,this.$media=a(this.media).first(),this.media=this.$media[0],this.$media.is("audio"))this.mediaType="audio";else{if(!this.$media.is("video"))return this.provideFallback(),b.fail(),c;this.mediaType="video"}return this.$sources=this.$media.find("source"),this.player=this.getPlayer(),this.player||this.provideFallback(),this.setIconType(),this.setDimensions(),b.resolve(),c},AblePlayer.prototype.setDimensions=function(){this.$media.attr("width")&&this.$media.attr("height")?(this.playerMaxWidth=parseInt(this.$media.attr("width"),10),this.playerMaxHeight=parseInt(this.$media.attr("height"),10)):this.$media.attr("width")?this.playerMaxWidth=parseInt(this.$media.attr("width"),10):(this.playerMaxWidth=this.$media.parent().width(),this.playerMaxHeight=this.getMatchingHeight(this.playerMaxWidth)),this.$media.css({width:"100%",height:"auto"})},AblePlayer.prototype.getMatchingHeight=function(b){var c,d,e,f,g,h;return c=[3840,2560,1920,1280,854,640,426],d=[2160,1440,1080,720,480,360,240],e=null,f=null,a.each(c,function(a){(null==e||Math.abs(this-b)<Math.abs(e-b))&&(e=this,f=a)}),g=d[f],this.aspectRatio=e/g,h=Math.round(b/this.aspectRatio)},AblePlayer.prototype.setIconType=function(){var b,c,d;return this.forceIconType?!1:void(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.iconType="svg":(window.getComputedStyle?(a("span.icon-play").length?c=a("span.icon-play"):(b=a("<span>",{"class":"icon-play able-clipped"}),a("body").append(b),c=b),d=window.getComputedStyle(c.get(0),null).getPropertyValue("font-family"),"undefined"!=typeof d&&-1!==d.indexOf("able")?this.iconType="font":this.iconType="image"):this.iconType="image",this.debug,"undefined"!=typeof b&&b.remove()))},AblePlayer.prototype.setupInstance=function(){var b=new a.Deferred,c=b.promise();return this.$media.attr("id")?this.mediaId=this.$media.attr("id"):(this.mediaId="ableMediaId_"+this.ableIndex,this.$media.attr("id",this.mediaId)),this.setupInstancePlaylist(),b.resolve(),c},AblePlayer.prototype.setupInstancePlaylist=function(){var b=this;if(this.hasPlaylist=!1,a(".able-playlist").each(function(){if(a(this).data("player")===b.mediaId){b.hasPlaylist=!0,b.$playlist=a(this).find("li"),a(this).find("li").attr("tabindex","0"),b.playlistIndex=0;var c=a(this).data("embedded");"undefined"!=typeof c&&c!==!1?b.playlistEmbed=!0:b.playlistEmbed=!1}}),this.hasPlaylist&&this.loop&&this.media.removeAttribute("loop"),this.hasPlaylist&&this.playlistEmbed){var c=this.$playlist.parent();this.$playlistDom=c.clone(),c.remove()}},AblePlayer.prototype.recreatePlayer=function(){var a,b,c;return a=this,this.player?(this.loadCurrentPreferences(),this.injectPlayerCode(),this.initSignLanguage(),void this.setupTracks().then(function(){a.setupAltCaptions().then(function(){("external"===a.transcriptType||"popup"===a.transcriptType)&&a.captions.length<=1&&a.$transcriptLanguageSelect.parent().remove(),a.initDescription(),a.initDefaultCaption(),a.initPlayer().then(function(){for(a.initializing=!1,a.setMediaAttributes(),b=a.getPreferencesGroups(),c=0;c<b.length;c++)a.injectPrefsForm(b[c]);a.setupPopups(),a.updateCaption(),a.updateTranscript(),a.injectVTS(),a.chaptersDivLocation&&a.populateChaptersDiv(),a.showSearchResults()},function(){a.provideFallback()})})})):void console.log("Can't create player; no appropriate player type detected.")},AblePlayer.prototype.initPlayer=function(){var b,c=this;"html5"===this.player?b=this.initHtml5Player():"jw"===this.player?b=this.initJwPlayer():"youtube"===this.player&&(b=this.initYouTubePlayer());var d=new a.Deferred,e=d.promise();return b.done(function(){c.useFixedSeekInterval===!1&&c.setSeekInterval(),c.addControls(),c.addEventListeners(),c.Volume&&c.setMute(!1),c.setFullscreen(!1),c.setVolume(c.defaultVolume),c.refreshControls(),"html5"===c.player&&(c.isIOS()||c.startTime>0||c.autoplay)&&c.$media[0].load(),d.resolve()}).fail(function(){d.reject()}),e},AblePlayer.prototype.setSeekInterval=function(){var a;return this.seekInterval=this.defaultSeekInterval,a=this.useChapterTimes?this.chapterDuration:this.getDuration(),"undefined"==typeof a||1>a?void(this.seekIntervalCalculated=!1):(20>=a?this.seekInterval=5:30>=a?this.seekInterval=6:40>=a?this.seekInterval=8:100>=a?this.seekInterval=10:this.seekInterval=a/10,void(this.seekIntervalCalculated=!0))},AblePlayer.prototype.initDefaultCaption=function(){var a,b;if(a=this.usingYouTubeCaptions?this.ytCaptions:this.captions,a.length>0){for(b=0;b<a.length;b++)a[b].def===!0&&(this.captionLang=a[b].language,this.selectedCaptions=a[b]);if("undefined"==typeof this.captionLang)for(b=0;b<a.length;b++)a[b].language===this.lang&&(this.captionLang=a[b].language,this.selectedCaptions=a[b]);"undefined"==typeof this.captionLang&&(this.captionLang=a[0].language,this.selectedCaptions=a[0]),"undefined"!=typeof this.captionLang&&(this.$transcriptLanguageSelect&&this.$transcriptLanguageSelect.find("option[lang="+this.captionLang+"]").prop("selected",!0),this.syncTrackLanguages("init",this.captionLang))}},AblePlayer.prototype.initHtml5Player=function(){var b=new a.Deferred,c=b.promise();return b.resolve(),c},AblePlayer.prototype.initJwPlayer=function(){var b,c=this,d=new a.Deferred,e=d.promise();return a.ajax({async:!1,url:this.fallbackPath+"jwplayer.js",dataType:"script",success:function(e,f,g){c.fallbackJwKey&&a("head").append('<script type="text/javascript">jwplayer.key="'+c.fallbackJwKey+'";</script>'),c.jwId=c.mediaId+"_fallback",c.$mediaContainer.attr("id",c.jwId),b="audio"===c.mediaType?0:c.playerHeight;var h=[];a.each(c.$sources,function(b,c){h.push({file:a(c).attr("src")})});var i=c.fallbackPath+"jwplayer.flash.swf",j=c.fallbackPath+"jwplayer.html5.js";"video"===c.mediaType?c.jwPlayer=jwplayer(c.jwId).setup({playlist:[{image:c.$media.attr("poster"),sources:h}],flashplayer:i,html5player:j,controls:!1,volume:100*c.defaultVolume,width:"100%",fallback:!1,primary:"flash",wmode:"transparent"}):c.jwPlayer=jwplayer(c.jwId).setup({playlist:[{sources:h}],flashplayer:i,html5player:j,controls:!1,volume:100*this.defaultVolume,height:0,
width:"100%",fallback:!1,primary:"flash"}),c.$media.remove(),d.resolve()},error:function(a,b,c){d.reject()}}),e},AblePlayer.prototype.setMediaAttributes=function(){this.$media.attr("tabindex",-1);var a=this.$media.get(0).textTracks;if(a)for(var b=0;b<a.length;)a[b].mode="disabled",b+=1},AblePlayer.prototype.getPlayer=function(){return this.youTubeId?"video"!==this.mediaType?null:"youtube":this.testFallback||(this.isUserAgent("msie 7")||this.isUserAgent("msie 8")||this.isUserAgent("msie 9"))&&"video"===this.mediaType||this.isIOS()&&(this.isIOS(4)||this.isIOS(5)||this.isIOS(6))?"jw"===this.fallback&&this.jwCanPlay()?"jw":null:this.media.canPlayType?"html5":null},AblePlayer.prototype.jwCanPlay=function(){var b,c,d;if(this.$sources.length>0)for(b=0;b<this.$sources.length;b++)if(c=this.$sources[b].getAttribute("type"),"video"===this.mediaType&&"video/mp4"===c||"audio"===this.mediaType&&"audio/mpeg"===c)return!0;if(a(".able-playlist")&&(d=a(".able-playlist").eq(0).find("li").eq(0),"audio"===this.mediaType)){if(d.attr("data-mp3"))return!0;if("video"===this.mediaType&&d.attr("data-mp4"))return!0}return!1}}(jQuery),function(a){AblePlayer.prototype.setCookie=function(a){Cookies.set("Able-Player",a,{expires:90})},AblePlayer.prototype.getCookie=function(){var a,b={preferences:{},sign:{},transcript:{}};try{a=Cookies.getJSON("Able-Player")}catch(c){Cookies.getJSON(b),a=b}return a?a:b},AblePlayer.prototype.updateCookie=function(a){var b,c,d,e,f,g;if(b=this.getCookie(),"transcript"===a||"sign"===a)"transcript"===a?(c=this.$transcriptArea,d=c.position(),"undefined"==typeof b.transcript&&(b.transcript={}),b.transcript.position=c.css("position"),b.transcript.zindex=c.css("z-index"),b.transcript.top=d.top,b.transcript.left=d.left,b.transcript.width=c.width(),b.transcript.height=c.height()):"sign"===a&&(c=this.$signWindow,d=c.position(),"undefined"==typeof b.sign&&(b.sign={}),b.sign.position=c.css("position"),b.sign.zindex=c.css("z-index"),b.sign.top=d.top,b.sign.left=d.left,b.sign.width=c.width(),b.sign.height=c.height());else for(e=this.getAvailablePreferences(),f=0;f<e.length;f++)g=e[f].name,g==a&&(b.preferences[g]=this[g]);this.setCookie(b)},AblePlayer.prototype.getPreferencesGroups=function(){if("video"===this.mediaType)return["captions","descriptions","keyboard","transcript"];if("audio"===this.mediaType){var a=[];return a.push("keyboard"),this.lyricsMode&&a.push("transcript"),a}},AblePlayer.prototype.getAvailablePreferences=function(){var a=[];return a.push({name:"prefAltKey",label:this.tt.prefAltKey,group:"keyboard","default":1}),a.push({name:"prefCtrlKey",label:this.tt.prefCtrlKey,group:"keyboard","default":1}),a.push({name:"prefShiftKey",label:this.tt.prefShiftKey,group:"keyboard","default":0}),a.push({name:"prefTranscript",label:null,group:"transcript","default":0}),a.push({name:"prefHighlight",label:this.tt.prefHighlight,group:"transcript","default":1}),a.push({name:"prefAutoScrollTranscript",label:null,group:"transcript","default":1}),a.push({name:"prefTabbable",label:this.tt.prefTabbable,group:"transcript","default":0}),"video"===this.mediaType&&(a.push({name:"prefCaptions",label:null,group:"captions","default":1}),a.push({name:"prefCaptionsPosition",label:this.tt.prefCaptionsPosition,group:"captions","default":this.defaultCaptionsPosition}),a.push({name:"prefCaptionsFont",label:this.tt.prefCaptionsFont,group:"captions","default":this.tt.sans}),a.push({name:"prefCaptionsSize",label:this.tt.prefCaptionsSize,group:"captions","default":"100%"}),a.push({name:"prefCaptionsColor",label:this.tt.prefCaptionsColor,group:"captions","default":"white"}),a.push({name:"prefCaptionsBGColor",label:this.tt.prefCaptionsBGColor,group:"captions","default":"black"}),a.push({name:"prefCaptionsOpacity",label:this.tt.prefCaptionsOpacity,group:"captions","default":"100%"}),a.push({name:"prefDesc",label:null,group:"descriptions","default":0}),a.push({name:"prefDescFormat",label:this.tt.prefDescFormat,group:"descriptions","default":"video"}),a.push({name:"prefDescPause",label:this.tt.prefDescPause,group:"descriptions","default":0}),a.push({name:"prefVisibleDesc",label:this.tt.prefVisibleDesc,group:"descriptions","default":1}),a.push({name:"prefSign",label:null,group:null,"default":0})),a},AblePlayer.prototype.loadCurrentPreferences=function(){for(var a=this.getAvailablePreferences(),b=this.getCookie(),c=0;c<a.length;c++){var d=a[c].name,e=a[c]["default"];void 0!==b.preferences[d]?this[d]=b.preferences[d]:(b.preferences[d]=e,this[d]=e)}this.setCookie(b)},AblePlayer.prototype.injectPrefsForm=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z;d=this,c=this.getAvailablePreferences(),e=a("<div>",{"class":"able-prefs-form "});var $="able-prefs-form-"+b;if(e.addClass($),"captions"==b)f=this.tt.prefTitleCaptions,g=this.tt.prefIntroCaptions,h=a("<p>",{text:g}),e.append(h);else if("descriptions"==b){f=this.tt.prefTitleDescriptions;var h=a("<p>",{text:this.tt.prefIntroDescription1}),_=a("<ul>"),aa=a("<li>",{text:this.tt.prefDescFormatOption1}),ba=a("<li>",{text:this.tt.prefDescFormatOption2});_.append(aa,ba),this.hasOpenDesc&&this.hasClosedDesc?(Q=this.tt.prefIntroDescription2+" ",Q+="<strong>"+this.tt.prefDescFormatOption1b+"</strong>",Q+=" <em>"+this.tt.and+"</em> <strong>"+this.tt.prefDescFormatOption2b+"</strong>."):this.hasOpenDesc?(Q=this.tt.prefIntroDescription2,Q+=" <strong>"+this.tt.prefDescFormatOption1b+"</strong>."):this.hasClosedDesc?(Q=this.tt.prefIntroDescription2,Q+=" <strong>"+this.tt.prefDescFormatOption2b+"</strong>."):Q=this.tt.prefIntroDescriptionNone,i=a("<p>",{html:Q}),j=this.tt.prefIntroDescription3,(this.hasOpenDesc||this.hasClosedDesc)&&(j+=" "+this.tt.prefIntroDescription4),k=a("<p>",{text:j}),e.append(h,_,i,k)}else"keyboard"==b?(f=this.tt.prefTitleKeyboard,g=this.tt.prefIntroKeyboard1,g+=" "+this.tt.prefIntroKeyboard2,g+=" "+this.tt.prefIntroKeyboard3,h=a("<p>",{text:g}),e.append(h)):"transcript"==b&&(f=this.tt.prefTitleTranscript,g=this.tt.prefIntroTranscript,h=a("<p>",{text:g}),e.append(h));for("descriptions"===b?(q=a("<fieldset>"),o="able-prefs-"+b+"1",p=this.mediaId+"-prefs-"+b+"1",q.addClass(o).attr("id",p),r=a("<legend>"+this.tt.prefDescFormat+"</legend>"),q.append(r),s=a("<fieldset>"),o="able-prefs-"+b+"2",p=this.mediaId+"-prefs-"+b+"2",s.addClass(o).attr("id",p),t=a("<legend>"+this.tt.prefHeadingTextDescription+"</legend>"),s.append(t)):(n=a("<fieldset>"),o="able-prefs-"+b,p=this.mediaId+"-prefs-"+b,n.addClass(o).attr("id",p),"keyboard"===b&&(u=a("<legend>"+this.tt.prefHeadingKeyboard1+"</legend>"),n.append(u))),l=0;l<c.length;l++)if(c[l].group==b&&c[l].label){if(v=c[l].name,x="able-"+v,y=this.mediaId+"_"+v,"prefDescFormat"!==v&&(w=a("<div>").addClass(x)),"prefDescFormat"==v)B=a("<div>"),C=y+"_1",E=a("<label>").attr("for",C).text(this.capitalizeFirstLetter(this.tt.prefDescFormatOption1)),D=a("<input>",{type:"radio",name:v,id:C,value:"video"}),"video"===this.prefDescFormat&&D.prop("checked",!0),B.append(D,E),F=a("<div>"),G=y+"_2",I=a("<label>").attr("for",G).text(this.capitalizeFirstLetter(this.tt.prefDescFormatOption2)),H=a("<input>",{type:"radio",name:v,id:G,value:"text"}),"text"===this.prefDescFormat&&H.prop("checked",!0),F.append(H,I);else if("captions"===b){for(z=a('<label for="'+y+'"> '+c[l].label+"</label>"),A=a("<select>",{name:v,id:y}),"prefCaptions"!==v&&"prefCaptionsStyle"!==v&&A.change(function(){N=a(this).attr("name"),d.stylizeCaptions(d.$sampleCapsDiv,N)}),J=this.getCaptionsOptions(v),m=0;m<J.length;m++)"prefCaptionsPosition"===v?(L=J[m],"overlay"===L?M=this.tt.captionsPositionOverlay:"below"===L&&(L=J[m],M=this.tt.captionsPositionBelow)):"prefCaptionsColor"===v||"prefCaptionsBGColor"===v?(L=J[m][0],M=J[m][1]):"prefCaptionsOpacity"===v?(L=J[m],M=J[m],"0%"===L?M+=" ("+this.tt.transparent+")":"100%"===L&&(M+=" ("+this.tt.solid+")")):(L=J[m],M=J[m]),K=a("<option>",{value:L,text:M}),this[v]===L&&K.prop("selected",!0),A.append(K);w.append(z,A)}else z=a('<label for="'+y+'"> '+c[l].label+"</label>"),A=a("<input>",{type:"checkbox",name:v,id:y,value:"true"}),1===this[v]&&A.prop("checked",!0),"keyboard"===b&&A.change(function(){N=a(this).attr("name"),"prefAltKey"===N?(O=".able-modkey-alt",P=d.tt.prefAltKey+" + "):"prefCtrlKey"===N?(O=".able-modkey-ctrl",P=d.tt.prefCtrlKey+" + "):"prefShiftKey"===N&&(O=".able-modkey-shift",P=d.tt.prefShiftKey+" + "),a(this).is(":checked")?a(O).text(P):a(O).text("")}),w.append(A,z);"descriptions"===b?"prefDescFormat"===v?q.append(B,F):s.append(w):n.append(w)}if("descriptions"===b?e.append(q,s):e.append(n),"captions"===b)"video"===this.mediaType&&(this.$sampleCapsDiv=a("<div>",{"class":"able-captions-sample"}).text(this.tt.sampleCaptionText),e.append(this.$sampleCapsDiv),this.stylizeCaptions(this.$sampleCapsDiv));else if("keyboard"===b){for(R=a("<h2>",{text:this.tt.prefHeadingKeyboard2}),S=a("<ul>"),T=[],U=[],l=0;l<this.controls.length;l++)"play"===this.controls[l]?(T.push(this.tt.play+"/"+this.tt.pause),U.push("p</span> <em>"+this.tt.or+'</em> <span class="able-help-modifiers"> '+this.tt.spacebar)):"restart"===this.controls[l]?(T.push(this.tt.restart),U.push("s")):"rewind"===this.controls[l]?(T.push(this.tt.rewind),U.push("r")):"forward"===this.controls[l]?(T.push(this.tt.forward),U.push("f")):"volume"===this.controls[l]?(T.push(this.tt.volume),U.push("v</span> <em>"+this.tt.or+'</em> <span class="able-modkey">1-9'),T.push(this.tt.mute+"/"+this.tt.unmute),U.push("m")):"captions"===this.controls[l]?(this.captions.length>1?T.push(this.tt.captions):this.captionsOn?T.push(this.tt.hideCaptions):T.push(this.tt.showCaptions),U.push("c")):"descriptions"===this.controls[l]?(this.descOn?T.push(this.tt.turnOffDescriptions):T.push(this.tt.turnOnDescriptions),U.push("d")):"prefs"===this.controls[l]?(T.push(this.tt.preferences),U.push("e")):"help"===this.controls[l]&&(T.push(this.tt.help),U.push("h"));for(l=0;l<U.length;l++)V='<span class="able-modkey-alt">',1===this.prefAltKey&&(V+=this.tt.prefAltKey+" + "),V+="</span>",V+='<span class="able-modkey-ctrl">',1===this.prefCtrlKey&&(V+=this.tt.prefCtrlKey+" + "),V+="</span>",V+='<span class="able-modkey-shift">',1===this.prefShiftKey&&(V+=this.tt.prefShiftKey+" + "),V+="</span>",V+='<span class="able-modkey">'+U[l]+"</span>",V+=" = "+T[l],W=a("<li>",{html:V}),S.append(W);V='<span class="able-modkey">'+this.tt.escapeKey+"</span>",V+=" = "+this.tt.escapeKeyFunction,W=a("<li>",{html:V}),S.append(W),e.append(R,S)}a("body").append(e),X=new AccessibleDialog(e,this.$prefsButton,"dialog",f,h,d.tt.closeButtonLabel,"32em"),e.append("<hr>"),Y=a('<button class="modal-button">'+this.tt.save+"</button>"),Z=a('<button class="modal-button">'+this.tt.cancel+"</button>"),Y.click(function(){X.hide(),d.savePrefsFromForm()}),Z.click(function(){X.hide(),d.resetPrefsForm()}),e.append(Y),e.append(Z),"captions"===b?this.captionPrefsDialog=X:"descriptions"===b?this.descPrefsDialog=X:"keyboard"===b?this.keyboardPrefsDialog=X:"transcript"===b&&(this.transcriptPrefsDialog=X),a("div.able-prefs-form button.modalCloseButton").click(function(){d.resetPrefsForm()}),a("div.able-prefs-form").keydown(function(a){27===a.which&&d.resetPrefsForm()})},AblePlayer.prototype.resetPrefsForm=function(){var b,c,d,e,f;for(b=this,c=this.getCookie(),d=this.getAvailablePreferences(),e=0;e<d.length;e++)f=d[e].name,"prefDescFormat"===f?"text"===this[f]?a('input[value="text"]').prop("checked",!0):a('input[value="video"]').prop("checked",!0):-1!==f.indexOf("Captions")&&"prefCaptions"!==f?a('select[name="'+f+'"]').val(c.preferences[f]):1===this[f]?a('input[name="'+f+'"]').prop("checked",!0):a('input[name="'+f+'"]').prop("checked",!1);this.stylizeCaptions(this.$sampleCapsDiv)},AblePlayer.prototype.savePrefsFromForm=function(){var b,c,d,e,f;b=0,c=0,d=!1;for(var g=this.getCookie(),h=this.getAvailablePreferences(),i=0;i<h.length;i++)if(h[i].label){var j=h[i].name;"prefDescFormat"==j?(this.prefDescFormat=a('input[name="'+j+'"]:checked').val(),this.prefDescFormat!==g.preferences.prefDescFormat&&(g.preferences.prefDescFormat=this.prefDescFormat,b++)):-1!==j.indexOf("Captions")&&"prefCaptions"!==j?(f=a('select[name="'+j+'"]').val(),g.preferences[j]!==f&&(g.preferences[j]=f,this[j]=f,b++,c++),"prefCaptionsSize"===j&&(d=!0,e=f)):a('input[name="'+j+'"]').is(":checked")?(g.preferences[j]=1,1===this[j]||(this[j]=1,b++)):(g.preferences[j]=0,1===this[j]&&(this[j]=0,b++))}b>0?(this.setCookie(g),this.showAlert(this.tt.prefSuccess)):this.showAlert(this.tt.prefNoChange),"youtube"===this.player&&"undefined"!=typeof this.usingYouTubeCaptions&&this.usingYouTubeCaptions&&d&&this.youTubePlayer.setOption(this.ytCaptionModule,"fontSize",this.translatePrefs("size",e,"youtube")),this.updatePrefs(),c>0&&(this.stylizeCaptions(this.$captionsDiv),"undefined"!=typeof this.$descDiv&&this.stylizeCaptions(this.$descDiv))},AblePlayer.prototype.updatePrefs=function(){var b;b=1===this.prefAltKey?"Alt + ":"",1===this.prefCtrlKey&&(b+="Control + "),1===this.prefShiftKey&&(b+="Shift + "),a(".able-help-modifiers").text(b),1===this.prefTabbable?a(".able-transcript span.able-transcript-seekpoint").attr("tabindex","0"):a(".able-transcript span.able-transcript-seekpoint").removeAttr("tabindex"),0===this.prefHighlight&&a(".able-transcript span").removeClass("able-highlight"),this.updateCaption(),this.refreshingDesc=!0,this.initDescription()},AblePlayer.prototype.usingModifierKeys=function(a){return(1!==this.prefAltKey||a.altKey)&&(1!==this.prefCtrlKey||a.ctrlKey)&&(1!==this.prefShiftKey||a.shiftKey)?!0:!1}}(jQuery),function(a){function b(a,b){for(var d=[],e=0;e<b.length;e++)d.push(c(a,b[e]));return d}function c(a,b){var c=b(a);if(null!==a.error)throw a.error;return c}function d(a,b){for(var c=0;c<b.length;c++)"\n"===b[c]?(a.column=1,a.line+=1):a.column+=1}function e(a,b){var c=a.text.substring(0,b);return d(a,c),a.text=a.text.substring(b),c}function f(a,b){var c,e=a.text.indexOf("\n");return-1===e?(c=a.text,d(a,c),a.text=""):(c=a.text.substring(0,e),d(a,c+"\n"),a.text=a.text.substring(e+1)),c}function g(a){var b=a.text.indexOf("\n");return-1===b?a.text:a.text.substring(0,b)}function h(a){b(a,[s,t]);var c=a.text[0];" "===c||"	"===c||"\n"===c?b(a,[x,i,z,m]):a.error="WEBVTT signature not followed by whitespace."}function i(a){for(;;){var b=g(a);if(-1!==b.indexOf("-->"))return;if(0===b.length)return;var d=c(a,k);a.metadata[d[0]]=d[1],c(a,x)}}function j(a){var b=[],c=a.indexOf(" ");c>=0&&b.push(c);var d=a.indexOf("	");d>=0&&b.push(d);var e=a.indexOf("\n");return e>=0&&b.push(e),Math.min.apply(null,b)}function k(a){var b=a.text.indexOf("\n"),c=e(a,b),d=c.indexOf(":");if(-1===d)return void(a.error="Missing colon.");var f=c.substring(0,d),g=c.substring(d+1);return[f,g]}function l(a){var b=j(a.text),c=e(a,b),d=c.indexOf(":");if(-1===d)return void(a.error="Missing colon.");var f=c.substring(0,d),g=c.substring(d+1);return[f,g]}function m(d){for(;;){var e=g(d);if(0!==e.indexOf("NOTE")||4!==e.length&&" "!==e[4]&&"	"!==e[4])if(0===a.trim(e).length&&d.text.length>0)c(d,y);else{if(!(a.trim(e).length>0))return;c(d,n)}else b(d,[r,y])}}function n(a){var d,h,i=g(a);if(-1===i.indexOf("-->")&&(d=f(a),i=g(a),-1===i.indexOf("-->")))return h="Invalid WebVTT file: "+a.src+"\n",h+="Line: "+a.line+", ",h+="Column: "+a.column+"\n",h+="Expected cue timing for cueId '"+d+"' but found: "+i+"\n",void(console.warn||console.log);var j=b(a,[A,w,u,w,A]),k=j[0],l=j[4];if(k>=l)return void(a.error="Start time is not sooner than end time.");c(a,v);var m=c(a,o);e(a,1);var n=c(a,p);"undefined"==typeof d&&(d=a.cues.length+1),a.cues.push({id:d,start:k,end:l,settings:m,components:n})}function o(a){for(var b={};a.text.length>0&&"\n"!==a.text[0];){var d=c(a,l);b[d[0]]=d[1],c(a,v)}return b}function p(b){for(var d={type:"internal",tagName:"",value:"",classes:[],annotation:"",parent:null,children:[],language:""},f=d,h=[];b.text.length>0;){var i=g(b);if(-1!==i.indexOf("-->")||/^\s*$/.test(i))break;if(b.text.length>=2&&"\n"===b.text[0]&&"\n"===b.text[1]){e(b,2);break}var j=q(b);if("string"===j.type)f.children.push(j);else if("startTag"===j.type)j.type=j.tagName,j.parent=f,-1!==a.inArray(j.tagName,["i","b","u","ruby"])?(h.length>0&&(f.language=h[h.length-1]),f.children.push(j),f=j):"rt"===j.tagName&&"ruby"===f.tagName?(h.length>0&&(f.language=h[h.length-1]),f.children.push(j),f=j):"c"===j.tagName?(j.value=j.annotation,h.length>0&&(f.language=h[h.length-1]),f.children.push(j),f=j):"v"===j.tagName?(j.value=j.annotation,h.length>0&&(f.language=h[h.length-1]),f.children.push(j),f=j):"lang"===j.tagName&&(h.push(j.annotation),h.length>0&&(f.language=h[h.length-1]),f.children.push(j),f=j);else if("endTag"===j.type)j.tagName===f.type&&-1!==a.inArray(j.tagName,["c","i","b","u","ruby","rt","v"])?f=f.parent:"lang"===j.tagName&&"lang"===f.type?(f=f.parent,h.pop()):"ruby"===j.tagName&&"rt"===f.type&&(f=f.parent.parent);else if("timestampTag"===j.type){var k={text:j.value,error:null,metadata:{},cues:[],line:1,column:1};try{var l=c(k,A);0===k.text.length&&(j.value=l,f.push(j))}catch(m){}}}return d}function q(b){for(var c="data",d=[],f="",g={type:"",tagName:"",value:"",classes:[],annotation:"",children:[]};;){var h;if(h=b.text.length>=2&&"\n"===b.text[0]&&"\n"===b.text[1]?"":b.text.length>0?b.text[0]:"","data"===c)if("&"===h)f="&",c="escape";else if("<"===h){if(0!==d.length)return g.type="string",g.value=d.join(""),g;c="tag"}else{if(""===h)return{type:"string",value:d.join("")};d.push(h)}else if("escape"===c)if("&"===h)d.push(f),f="&";else if(h.match(/[0-9a-z]/))f+=h;else if(";"===h)"&amp"===f?d.push("&"):"&lt"===f?d.push("<"):"&gt"===f?d.push(">"):"&lrm"===f?d.push("‎"):"&rlm"===f?d.push("‏"):"&nbsp"===f?d.push(" "):(d.push(f),d.push(";")),c="data";else{if("<"===h||""===h)return d.push(f),g.type="string",g.value=d.join(""),g;if("	"===h||"\n"===h||"\f"===h||" "===h)return d.push(f),g.type="string",g.value=d.join(""),g;d.push(f),c="data"}else if("tag"===c)if("	"===h||"\n"===h||"\f"===h||" "===h)c="startTagAnnotation";else if("."===h)c="startTagClass";else if("/"===h)c="endTag";else if(h.match("[0-9]"))c="timestampTag",d.push(h);else{if(">"===h){e(b,1);break}if(""===h)return g.tagName="",g.type="startTag",g;d.push(h),c="startTag"}else if("startTag"===c)if("	"===h||"\f"===h||" "===h)c="startTagAnnotation";else if("\n"===h)f=h,c="startTagAnnotation";else if("."===h)c="startTagClass";else{if(">"===h)return e(b,1),g.tagName=d.join(""),g.type="startTag",g;if(""===h)return g.tagName=d.join(""),g.type="startTag",g;d.push(h)}else if("startTagClass"===c)if("	"===h||"\f"===h||" "===h)g.classes.push(f),f="",c="startTagAnnotation";else if("\n"===h)g.classes.push(f),f=h,c="startTagAnnotation";else if("."===h)g.classes.push(f),f="";else{if(">"===h)return e(b,1),g.classes.push(f),g.type="startTag",g.tagName=d.join(""),g;if(""===h)return g.classes.push(f),g.type="startTag",g.tagName=d.join(""),g;f+="c"}else if("startTagAnnotation"===c){if(">"===h)return e(b,1),f=a.trim(f).replace(/ +/," "),g.type="startTag",g.tagName=d.join(""),g.annotation=f,g;if(""===h)return f=a.trim(f).replace(/ +/," "),g.type="startTag",g.tagName=d.join(""),g.annotation=f,g;f+=h}else if("endTag"===c){if(">"===h)return e(b,1),g.type="endTag",g.tagName=d.join(""),g;if(""===h)return g.type="endTag",g.tagName=d.join(""),g;d.push(h)}else{if("timestampTag"!==c)throw"Unknown tokenState "+c;if(">"===h)return e(b,1),g.type="timestampTag",g.name=d.join(""),g;if(""===h)return g.type="timestampTag",g.name=d.join(""),g;d.push(h)}e(b,1)}}function r(b){var c=f(b);if(-1!==c.indexOf("-->"))return void(b.error="Invalid syntax: --> in NOTE line.");for(;;){var d=g(b);if(0===a.trim(d).length)return;if(-1!==d.indexOf("-->"))return void(b.error="Invalid syntax: --> in comment.");f(b)}}function s(a){"\ufeff"===a.text[0]&&e(a,1)}function t(a){"WEBVTT"===a.text.substring(0,6)?e(a,6):a.error="Invalid signature."}function u(a){a.text.length<3||"-->"!==a.text.substring(0,3)?a.error="Missing -->":e(a,3)}function v(a){for(;"	"===a.text[0]||" "===a.text[0];)e(a,1)}function w(a){for(var b=0;"	"===a.text[0]||" "===a.text[0];)e(a,1),b+=1;0===b&&(a.error="Missing space.")}function x(a){var b=a.text.indexOf("\n");-1===b?a.error="Missing EOL.":e(a,b+1)}function y(b){for(;b.text.length>0;){var c=g(b);if(0!==a.trim(c).length)break;f(b)}}function z(b){for(var c=0;b.text.length>0;){var d=g(b);if(0!==a.trim(d).length)break;f(b),c+=1}0===c&&(b.error="Missing empty line.")}function A(a){var b=j(a.text);if(-1===b)return void a.error("Missing timing.");var c=e(a,b),d=/((\d\d):)?((\d\d):)(\d\d).(\d\d\d)|(\d+).(\d\d\d)/.exec(c);if(!d)return void(a.error="Unable to parse timestamp");var f=0,g=d[2],h=d[4];if(h){if(parseInt(h,10)>59)return void(a.error="Invalid minute range");g&&(f+=3600*parseInt(g,10)),f+=60*parseInt(h,10);var i=d[5];if(parseInt(i,10)>59)return void(a.error="Invalid second range");f+=parseInt(i,10),f+=parseInt(d[6],10)/1e3}else f+=parseInt(d[7],10),f+=parseInt(d[8],10)/1e3;return f}AblePlayer.prototype.parseWebVTT=function(a,b){b=b.replace(/(\r\n|\n|\r)/g,"\n");var d={src:a,text:b,error:null,metadata:{},cues:[],line:1,column:1};try{c(d,h)}catch(e){var f="Invalid WebVTT file: "+d.src+"\n";f+="Line: "+d.line+", ",f+="Column: "+d.column+"\n",f+=e,console.warn||console.log}return d}}(jQuery),function(a){AblePlayer.prototype.injectPlayerCode=function(){var b,c;b=this,this.$mediaContainer=this.$media.wrap('<div class="able-media-container"></div>').parent(),this.$ableDiv=this.$mediaContainer.wrap('<div class="able"></div>').parent(),this.$ableWrapper=this.$ableDiv.wrap('<div class="able-wrapper"></div>').parent(),this.$ableWrapper.css({"max-width":this.playerMaxWidth+"px"}),this.injectOffscreenHeading(),"video"===this.mediaType&&("image"!=this.iconType&&"youtube"!==this.player&&this.injectBigPlayButton(),c=a("<div>",{"class":"able-vidcap-container"}),this.$vidcapContainer=this.$mediaContainer.wrap(c).parent()),this.injectPlayerControlArea(),this.injectTextDescriptionArea(),this.transcriptType&&("popup"===this.transcriptType||"external"===this.transcriptType?this.injectTranscriptArea():"manual"===this.transcriptType&&this.setupManualTranscript(),this.addTranscriptAreaEvents()),this.injectAlert(),this.injectPlaylist()},AblePlayer.prototype.injectOffscreenHeading=function(){var b;"0"==this.playerHeadingLevel||("undefined"==typeof this.playerHeadingLevel&&(this.playerHeadingLevel=this.getNextHeadingLevel(this.$ableDiv)),b="h"+this.playerHeadingLevel.toString(),this.$headingDiv=a("<"+b+">"),this.$ableDiv.prepend(this.$headingDiv),this.$headingDiv.addClass("able-offscreen"),this.$headingDiv.text(this.tt.playerHeading))},AblePlayer.prototype.injectBigPlayButton=function(){this.$bigPlayButton=a("<button>",{"class":"able-big-play-button icon-play","aria-hidden":!0,tabindex:-1});var b=this;this.$bigPlayButton.click(function(){b.handlePlay()}),this.$mediaContainer.append(this.$bigPlayButton)},AblePlayer.prototype.injectPlayerControlArea=function(){this.$playerDiv=a("<div>",{"class":"able-player",role:"region","aria-label":this.mediaType+" player"}),this.$playerDiv.addClass("able-"+this.mediaType),this.$nowPlayingDiv=a("<div>",{"class":"able-now-playing","aria-live":"assertive","aria-atomic":"true"}),this.$controllerDiv=a("<div>",{"class":"able-controller"}),this.$controllerDiv.addClass("able-"+this.iconColor+"-controls"),this.$statusBarDiv=a("<div>",{"class":"able-status-bar"}),this.$timer=a("<span>",{"class":"able-timer"}),this.$elapsedTimeContainer=a("<span>",{"class":"able-elapsedTime",text:"0:00"}),this.$durationContainer=a("<span>",{"class":"able-duration"}),this.$timer.append(this.$elapsedTimeContainer).append(this.$durationContainer),this.$speed=a("<span>",{"class":"able-speed","aria-live":"assertive"}).text(this.tt.speed+": 1x"),this.$status=a("<span>",{"class":"able-status","aria-live":"polite"}),this.$statusBarDiv.append(this.$timer,this.$speed,this.$status),this.$playerDiv.append(this.$nowPlayingDiv,this.$controllerDiv,this.$statusBarDiv),this.$ableDiv.append(this.$playerDiv)},AblePlayer.prototype.injectTextDescriptionArea=function(){this.$descDiv=a("<div>",{"class":"able-descriptions","aria-live":"assertive","aria-atomic":"true"}),this.$descDiv.hide(),this.$ableDiv.append(this.$descDiv)},AblePlayer.prototype.getDefaultWidth=function(a){return"transcript"===a?450:"sign"===a?400:void 0},AblePlayer.prototype.positionDraggableWindow=function(b,c){var d,e,f,g;d=this.getCookie(),"transcript"===b?(f=this.$transcriptArea,"undefined"!=typeof d.transcript&&(e=d.transcript)):"sign"===b&&(f=this.$signWindow,"undefined"!=typeof d.transcript&&(e=d.sign)),"undefined"==typeof e||a.isEmptyObject(e)?(g=this.getOptimumPosition(b,c),"undefined"==typeof c&&(c=this.getDefaultWidth(b)),f.css({position:g[0],width:c,"z-index":g[3]}),"absolute"===g[0]&&f.css({top:g[1]+"px",left:g[2]+"px"})):(f.css({position:e.position,width:e.width,"z-index":e.zindex}),"absolute"===e.position&&f.css({top:e.top,left:e.left}),this.updateZIndex(b))},AblePlayer.prototype.getOptimumPosition=function(b,c){var d,e,f,g,h,i,j,k,l;return"undefined"==typeof c&&(c=this.getDefaultWidth(b)),d=5,e=[],f=this.$ableDiv.width(),g=this.$ableDiv.height(),h=this.$ableDiv.offset(),i=h.top,j=h.left,k=a(window).width(),l=0,"transcript"===b?"undefined"!=typeof this.$signWindow&&this.$signWindow.is(":visible")&&(l=this.$signWindow.width()+d):"sign"===b&&"undefined"!=typeof this.$transcriptArea&&this.$transcriptArea.is(":visible")&&(l=this.$transcriptArea.width()+d),k-(j+f+d+l)>c?(e[0]="absolute",e[1]=0,e[2]=f+l+d):j>c+d?(e[0]="absolute",e[1]=0,e[2]=j-c-d):e[0]="relative",e},AblePlayer.prototype.injectPoster=function(b,c){var d,e,f;"youtube"===c?"undefined"!=typeof this.ytWidth?(e=this.ytWidth,f=this.ytHeight):"undefined"!=typeof this.playerMaxWidth?(e=this.playerMaxWidth,f=this.playerMaxHeight):"undefined"!=typeof this.playerWidth&&(e=this.playerWidth,f=this.playerHeight):"fallback"===c&&(e="100%",f="auto"),this.$media.attr("poster")&&(d=this.$media.attr("poster"),this.$posterImg=a("<img>",{"class":"able-poster",src:d,alt:"",role:"presentation",width:e,height:f}),b.append(this.$posterImg))},AblePlayer.prototype.injectAlert=function(){var b;this.$alertBox=a('<div role="alert"></div>'),this.$alertBox.addClass("able-alert"),this.$alertBox.hide(),this.$alertBox.appendTo(this.$ableDiv),b="audio"==this.mediaType?-10:Math.round(10*this.$mediaContainer.offset().top)/10,this.$alertBox.css({top:b+"px"}),this.$srAlertBox=a('<div role="alert"></div>'),this.$srAlertBox.addClass("able-screenreader-alert"),this.$srAlertBox.appendTo(this.$ableDiv)},AblePlayer.prototype.injectPlaylist=function(){if(this.playlistEmbed===!0){var a=this.$playlistDom.clone();a.insertBefore(this.$statusBarDiv),this.$playlist=a.find("li")}this.hasPlaylist&&0===this.$sources.length&&(this.initializing=!0,this.swapSource(0),this.$sources=this.$media.find("source"))},AblePlayer.prototype.createPopup=function(b,c){var d,e,f,g,h,i,j,k,l,m,j,n,o,p,q;if(d=this,e=a("<ul>",{id:this.mediaId+"-"+b+"-menu","class":"able-popup",role:"menu"}).hide(),"captions"===b&&e.addClass("able-popup-captions"),"prefs"===b)for(f=this.getPreferencesGroups(),g=0;g<f.length;g++)h=a("<li></li>",{role:"menuitem",tabindex:"-1"}),i=f[g],"captions"===i?h.text(this.tt.prefMenuCaptions):"descriptions"===i?h.text(this.tt.prefMenuDescriptions):"keyboard"===i?h.text(this.tt.prefMenuKeyboard):"transcript"===i&&h.text(this.tt.prefMenuTranscript),h.on("click",function(){j=a(this).text(),d.setFullscreen(!1),j===d.tt.prefMenuCaptions?d.captionPrefsDialog.show():j===d.tt.prefMenuDescriptions?d.descPrefsDialog.show():j===d.tt.prefMenuKeyboard?d.keyboardPrefsDialog.show():j===d.tt.prefMenuTranscript&&d.transcriptPrefsDialog.show(),d.closePopups()}),e.append(h);else if("captions"===b||"chapters"===b){for(k=!1,g=0;g<c.length;g++)l=c[g],h=a("<li></li>",{role:"menuitemradio",tabindex:"-1",lang:l.language}),l.def?(h.attr("aria-checked","true"),k=!0):h.attr("aria-checked","false"),"captions"==b||"ytCaptions"==b?(h.text(l.label),h.on("click",this.getCaptionClickFunction(l))):"chapters"==b&&(h.text(this.flattenCueForCaption(l)+" - "+this.formatSecondsAsColonTime(l.start)),h.on("click",this.getChapterClickFunction(l.start))),e.append(h);("captions"===b||"ytcaptions"===b)&&(h=a("<li></li>",{role:"menuitemradio",tabindex:"-1"}).text(this.tt.captionsOff),0===this.prefCaptions&&(h.attr("aria-checked","true"),k=!0),h.on("click",this.getCaptionOffFunction()),e.append(h))}else if("transcript-window"===b||"sign-window"===b)for(m=[],m.push({name:"move",label:this.tt.windowMove}),m.push({name:"resize",label:this.tt.windowResize}),m.push({name:"close",label:this.tt.windowClose}),g=0;g<m.length;g++)h=a("<li></li>",{role:"menuitem",tabindex:"-1","data-choice":m[g].name}),h.text(m[g].label),h.on("click mousedown",function(c){return c.stopPropagation(),0!==c.button?!1:void(d.windowMenuClickRegistered||d.finishingDrag||(d.windowMenuClickRegistered=!0,d.handleMenuChoice(b.substr(0,b.indexOf("-")),a(this).attr("data-choice"),c)))}),e.append(h);return"captions"!==b&&"ytcaptions"!==b||k?"chapters"===b&&(e.find('li:contains("'+this.defaultChapter+'")')?e.find('li:contains("'+this.defaultChapter+'")').attr("aria-checked","true").addClass("able-focus"):e.find("li").first().attr("aria-checked","true").addClass("able-focus")):e.find("li[lang="+this.captionLang+"]")?e.find("li[lang="+this.captionLang+"]").attr("aria-checked","true"):e.find("li").last().attr("aria-checked","true"),e.on("keydown",function(b){n=a(this).attr("id").split("-")[1],o=a(this).find("li:focus"),o.is(":first-child")?(p=a(this).find("li").last(),q=o.next()):o.is(":last-child")?(p=o.prev(),q=a(this).find("li").first()):(p=o.prev(),q=o.next()),9===b.which?b.shiftKey?(o.removeClass("able-focus"),p.focus().addClass("able-focus")):(o.removeClass("able-focus"),q.focus().addClass("able-focus")):40===b.which||39===b.which?(o.removeClass("able-focus"),q.focus().addClass("able-focus")):38==b.which||37===b.which?(o.removeClass("able-focus"),p.focus().addClass("able-focus")):32===b.which||13===b.which?o.click():27===b.which&&(o.removeClass("able-focus"),d.closePopups()),b.preventDefault()}),this.$controllerDiv.append(e),e},AblePlayer.prototype.closePopups=function(){this.chaptersPopup&&this.chaptersPopup.is(":visible")&&(this.chaptersPopup.hide(),this.$chaptersButton.attr("aria-expanded","false").focus()),this.captionsPopup&&this.captionsPopup.is(":visible")&&(this.captionsPopup.hide(),this.$ccButton.attr("aria-expanded","false").focus()),this.prefsPopup&&this.prefsPopup.is(":visible")&&(this.prefsPopup.hide(),this.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$prefsButton.attr("aria-expanded","false").focus()),this.$volumeSlider&&this.$volumeSlider.is(":visible")&&(this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeAlert.text(this.tt.volumeSliderClosed),this.$volumeButton.attr("aria-expanded","false").focus()),this.$transcriptPopup&&this.$transcriptPopup.is(":visible")&&(this.$transcriptPopup.hide(),this.$transcriptPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$transcriptPopupButton.attr("aria-expanded","false").focus()),this.$signPopup&&this.$signPopup.is(":visible")&&(this.$signPopup.hide(),this.$signPopup.find("li").removeClass("able-focus").attr("tabindex","-1"),this.$signPopupButton.attr("aria-expanded","false").focus())},AblePlayer.prototype.setupPopups=function(a){var b,c,d,e,f;if(b=[],"undefined"==typeof a&&b.push("prefs"),("captions"===a||"undefined"==typeof a)&&("undefined"!=typeof this.ytCaptions?this.ytCaptions.length&&b.push("ytCaptions"):this.captions.length>0&&b.push("captions")),("chapters"===a||"undefined"==typeof a)&&this.chapters.length>0&&this.useChaptersButton&&b.push("chapters"),"transcript-window"===a&&"popup"===this.transcriptType&&b.push("transcript-window"),"sign-window"===a&&this.hasSignLanguage&&b.push("sign-window"),b.length>0){c=this;for(var e=0;e<b.length;e++){var g=b[e];if(d=!1,"prefs"==g)this.prefsPopup=this.createPopup("prefs");else if("captions"==g)"undefined"==typeof this.captionsPopup&&(this.captionsPopup=this.createPopup("captions",this.captions));else if("chapters"==g)f=this.selectedChapters?this.selectedChapters.cues:this.chapters.length>=1?this.chapters[0].cues:[],
"undefined"==typeof this.chaptersPopup&&(this.chaptersPopup=this.createPopup("chapters",f));else if("ytCaptions"==g)"undefined"==typeof this.captionsPopup&&(this.captionsPopup=this.createPopup("captions",this.ytCaptions));else{if("transcript-window"==g)return this.createPopup("transcript-window");if("sign-window"==g)return this.createPopup("sign-window")}}}},AblePlayer.prototype.provideFallback=function(){var b,c,d,e,f,g,h,i,j,k;if(g=!1,b=a("<div>",{"class":"able-fallback",role:"alert"}),c="undefined"!=typeof this.playerMaxWidth?this.playerMaxWidth+"px":this.$media.attr("width")?parseInt(this.$media.attr("width"),10)+"px":"100%",b.css("max-width",c),d=this.$media.clone(),a("source, track",d).remove(),e=d.html().trim(),e.length?b.html(e):(f=this.tt.fallbackError1+" "+this.tt[this.mediaType]+". ",f+=this.tt.fallbackError2+":",e=a("<p>").text(f),b.html(e),g=!0),g){for(k=a("<ul>"),h=this.getSupportingBrowsers(),i=0;i<h.length;i++)j=a("<li>"),j.text(h[i].name+" "+h[i].minVersion+" "+this.tt.orHigher),k.append(j);b.append(k)}this.injectPoster(b,"fallback"),"undefined"!=typeof this.$ableWrapper?(this.$ableWrapper.before(b),this.$ableWrapper.remove()):"undefined"!=typeof this.$media?(this.$media.before(b),this.$media.remove()):a("body").prepend(b)},AblePlayer.prototype.getSupportingBrowsers=function(){var a=[];return a[0]={name:"Chrome",minVersion:"31"},a[1]={name:"Firefox",minVersion:"34"},a[2]={name:"Internet Explorer",minVersion:"10"},a[3]={name:"Opera",minVersion:"26"},a[4]={name:"Safari for Mac OS X",minVersion:"7.1"},a[5]={name:"Safari for iOS",minVersion:"7.1"},a[6]={name:"Android Browser",minVersion:"4.1"},a[7]={name:"Chrome for Android",minVersion:"40"},a},AblePlayer.prototype.calculateControlLayout=function(){var a={ul:["play","restart","rewind","forward"],ur:["seek"],bl:[],br:[]};this.browserSupportsVolume()?(this.volumeButton="volume-"+this.getVolumeName(this.volume),a.ur.push("volume")):this.volume=!1;var b=[],c=[];return this.isPlaybackRateSupported()&&(b.push("slower"),b.push("faster")),"video"===this.mediaType&&(this.hasCaptions&&b.push("captions"),this.hasSignLanguage&&b.push("sign"),(this.hasOpenDesc||this.hasClosedDesc)&&this.useDescriptionsButton&&b.push("descriptions")),"popup"===this.transcriptType&&b.push("transcript"),"video"===this.mediaType&&this.hasChapters&&this.useChaptersButton&&b.push("chapters"),a.br.push("preferences"),"video"===this.mediaType&&this.allowFullScreen&&"jw"!==this.player&&a.br.push("fullscreen"),b.length>0&&c.length>0?(a.bl=b,a.bl.push("pipe"),a.bl=a.bl.concat(c)):a.bl=b.concat(c),a},AblePlayer.prototype.addControls=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;for(b=this,c=100,d=this.calculateControlLayout(),e={0:"ul",1:"ur",2:"bl",3:"br"},o=this.mediaId+"-tooltip",this.$tooltipDiv=a("<div>",{id:o,"class":"able-tooltip"}).hide(),this.$controllerDiv.append(this.$tooltipDiv),f=0;3>=f;f++){for(h=d[e[f]],i=f%2===0?a("<div>",{"class":"able-left-controls"}):a("<div>",{"class":"able-right-controls"}),this.$controllerDiv.append(i),g=0;g<h.length;g++){if(p=h[g],"seek"===p)j=a('<div class="able-seekbar"></div>'),k=this.mediaType+" "+this.tt.seekbarLabel,i.append(j),l=this.getDuration(),0==l&&(l=100),this.seekBar=new AccessibleSlider(this.mediaType,j,"horizontal",c,0,l,this.seekInterval,k,"seekbar",!0,"visible");else if("pipe"===p)m=a("<span>",{tabindex:"-1","aria-hidden":"true"}),"font"===this.iconType?m.addClass("icon-pipe"):(n=a("<img>",{src:this.rootPath+"button-icons/"+this.iconColor+"/pipe.png",alt:"",role:"presentation"}),m.append(n)),i.append(m);else{if(r="volume"===p?this.rootPath+"button-icons/"+this.iconColor+"/"+this.volumeButton+".png":"fullscreen"===p?this.rootPath+"button-icons/"+this.iconColor+"/fullscreen-expand.png":"slower"===p?"animals"===this.speedIcons?this.rootPath+"button-icons/"+this.iconColor+"/turtle.png":this.rootPath+"button-icons/"+this.iconColor+"/slower.png":"faster"===p?"animals"===this.speedIcons?this.rootPath+"button-icons/"+this.iconColor+"/rabbit.png":this.rootPath+"button-icons/"+this.iconColor+"/faster.png":this.rootPath+"button-icons/"+this.iconColor+"/"+p+".png",s=this.getButtonTitle(p),t=a("<button>",{type:"button",tabindex:"0","aria-label":s,"class":"able-button-handler-"+p}),("volume"===p||"preferences"===p)&&("preferences"==p?y=this.mediaId+"-prefs-menu":"volume"===p&&(y=this.mediaId+"-volume-slider"),t.attr({"aria-controls":y,"aria-expanded":"false"})),"font"===this.iconType)u="volume"===p?"icon-"+this.volumeButton:"slower"===p?"animals"===this.speedIcons?"icon-turtle":"icon-slower":"faster"===p?"animals"===this.speedIcons?"icon-rabbit":"icon-faster":"icon-"+p,v=a("<span>",{"class":u,"aria-hidden":"true"}),t.append(v);else if("svg"===this.iconType){var z;z="volume"===p?this.getSvgData(this.volumeButton):"fullscreen"===p?this.getSvgData("fullscreen-expand"):"slower"===p?"animals"===this.speedIcons?this.getSvgData("turtle"):this.getSvgData("slower"):"faster"===p?"animals"===this.speedIcons?this.getSvgData("rabbit"):this.getSvgData("faster"):this.getSvgData(p),v=a("<svg>",{focusable:"false","aria-hidden":"true",viewBox:z[0]}),w=a("<path>",{d:z[1]}),v.append(w),t.html(v),t.html(t.html())}else q=a("<img>",{src:r,alt:"",role:"presentation"}),t.append(q);var A=a("<span>",{"class":"able-clipped"}).text(s);t.append(A),t.on("mouseenter focus",function(c){var d=a(this).attr("aria-label"),e=a(this).position(),f=a(this).height(),g=(a(this).width(),e.top-f-15),h=!0;if(a(this).closest("div").hasClass("able-right-controls")){if(a(this).closest("div").find("button:last").get(0)==a(this).get(0)){h=!1;var i=0,j={left:"",right:i+"px",top:g+"px"}}}else if(a(this).is(":first-child")){h=!1;var i=e.left,j={left:i+"px",right:"",top:g+"px"}}if(h)var k=AblePlayer.localGetElementById(t[0],o).text(d).width(),i=e.left-k/2,j={left:i+"px",right:"",top:g+"px"};var l=AblePlayer.localGetElementById(t[0],o).text(d).css(j);b.showTooltip(l),a(this).on("mouseleave blur",function(){AblePlayer.localGetElementById(t[0],o).text("").hide()})}),"captions"===p?this.prefCaptions&&1===this.prefCaptions||(x=this.captions.length>1?this.tt.captions:this.tt.showCaptions,t.addClass("buttonOff").attr("title",x)):"descriptions"===p&&(this.prefDesc&&1===this.prefDesc||t.addClass("buttonOff").attr("title",this.tt.turnOnDescriptions)),i.append(t),"play"===p?this.$playpauseButton=t:"captions"===p?this.$ccButton=t:"sign"===p?(this.$signButton=t,this.$signWindow.is(":visible")||this.$signButton.addClass("buttonOff")):"descriptions"===p?this.$descButton=t:"mute"===p?this.$muteButton=t:"transcript"===p?(this.$transcriptButton=t,this.$transcriptDiv.is(":visible")||this.$transcriptButton.addClass("buttonOff").attr("title",this.tt.showTranscript)):"fullscreen"===p?this.$fullscreenButton=t:"chapters"===p?this.$chaptersButton=t:"preferences"===p?this.$prefsButton=t:"volume"===p&&(this.$volumeButton=t)}"volume"===p&&this.addVolumeSlider(i)}f%2==1&&this.$controllerDiv.append('<div style="clear:both;"></div>')}"video"===this.mediaType&&("undefined"!=typeof this.$captionsDiv&&this.stylizeCaptions(this.$captionsDiv),"undefined"!=typeof this.$descDiv&&this.stylizeCaptions(this.$descDiv)),this.controls=[];for(var B in d)d.hasOwnProperty(B)&&(this.controls=this.controls.concat(d[B]));this.refreshControls()},AblePlayer.prototype.useSvg=function(){
// @license   Licensed under MIT license
var a,b,c=Object.create(null),d=function(){clearTimeout(b),b=setTimeout(a,100)},e=function(){},f=function(){var a;window.addEventListener("resize",d,!1),window.addEventListener("orientationchange",d,!1),window.MutationObserver?(a=new MutationObserver(d),a.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),e=function(){try{a.disconnect(),window.removeEventListener("resize",d,!1),window.removeEventListener("orientationchange",d,!1)}catch(b){}}):(document.documentElement.addEventListener("DOMSubtreeModified",d,!1),e=function(){document.documentElement.removeEventListener("DOMSubtreeModified",d,!1),window.removeEventListener("resize",d,!1),window.removeEventListener("orientationchange",d,!1)})},g="http://www.w3.org/1999/xlink";a=function(){function a(){s-=1,0===s&&f()}function b(a){return function(){c[a.base]!==!0&&a.useEl.setAttributeNS(g,"xlink:href","#"+a.hash)}}function d(b){return function(){var c,d=document.body,e=document.createElement("x");b.onload=null,e.innerHTML=b.responseText,c=e.getElementsByTagName("svg")[0],c&&(c.setAttribute("aria-hidden","true"),c.style.position="absolute",c.style.width=0,c.style.height=0,c.style.overflow="hidden",d.insertBefore(c,d.firstChild)),a()}}function h(b){return function(){b.onerror=null,b.ontimeout=null,a()}}var i,j,k,l,m,n,o,p,q,r="",s=0;if(window.XMLHttpRequest&&(m=new XMLHttpRequest,m=void 0!==m.withCredentials?XMLHttpRequest:XDomainRequest||void 0),void 0!==m){for(e(),p=document.getElementsByTagName("use"),l=0;l<p.length;l+=1){try{j=p[l].getBoundingClientRect()}catch(t){j=!1}o=p[l].getAttributeNS(g,"href").split("#"),i=o[0],k=o[1],n=j&&0===j.left&&0===j.right&&0===j.top&&0===j.bottom,j&&0===j.width&&0===j.height&&!n?(r&&!i.length&&k&&!document.getElementById(k)&&(i=r),i.length&&(q=c[i],q!==!0&&setTimeout(b({useEl:p[l],base:i,hash:k}),0),void 0===q&&(q=new m,c[i]=q,q.onload=d(q),q.onerror=h(q),q.ontimeout=h(q),q.open("GET",i),q.send(),s+=1))):n||(void 0===c[i]?c[i]=!0:c[i].onload&&(c[i].abort(),c[i].onload=void 0,c[i]=!0))}p="",s+=1,a()}}},AblePlayer.prototype.swapSource=function(b){var c,d,e,f,g,h,i,j,k;for(this.$media.find("source").remove(),c=this.$playlist.eq(b),d=c.html(),c.attr("lang")&&(e=c.attr("lang")),f=[],g=0,"audio"===this.mediaType?(c.attr("data-mp3")&&(h=c.attr("data-mp3"),f[g]=new Array("audio/mpeg",h),g++),c.attr("data-webm")&&(f[g]=new Array("audio/webm",c.attr("data-webm")),g++),c.attr("data-webma")&&(f[g]=new Array("audio/webm",c.attr("data-webma")),g++),c.attr("data-ogg")&&(f[g]=new Array("audio/ogg",c.attr("data-ogg")),g++),c.attr("data-oga")&&(f[g]=new Array("audio/ogg",c.attr("data-oga")),g++),c.attr("data-wav")&&(f[g]=new Array("audio/wav",c.attr("data-wav")),g++)):"video"===this.mediaType&&(c.attr("data-mp4")&&(h=c.attr("data-mp4"),f[g]=new Array("video/mp4",h),g++),c.attr("data-webm")&&(f[g]=new Array("video/webm",c.attr("data-webm")),g++),c.attr("data-webmv")&&(f[g]=new Array("video/webm",c.attr("data-webmv")),g++),c.attr("data-ogg")&&(f[g]=new Array("video/ogg",c.attr("data-ogg")),g++),c.attr("data-ogv")&&(f[g]=new Array("video/ogg",c.attr("data-ogv")),g++)),i=0;i<f.length;i++)j=a("<source>",{type:f[i][0],src:f[i][1]}),this.$media.append(j);this.$playlist.removeClass("able-current"),c.addClass("able-current"),this.showNowPlaying===!0&&(k=a("<span>"),"undefined"!=typeof e&&k.attr("lang",e),k.html("<span>Selected track:</span>"+d),this.$nowPlayingDiv.html(k)),this.initializing?this.swappingSrc=!1:(this.swappingSrc=!0,"html5"===this.player?this.media.load():"jw"===this.player?this.jwPlayer.load({file:h}):"youtube"===this.player)},AblePlayer.prototype.getButtonTitle=function(a){var b;return"playpause"===a?this.tt.play:"play"===a?this.tt.play:"pause"===a?this.tt.pause:"restart"===a?this.tt.restart:"rewind"===a?this.tt.rewind:"forward"===a?this.tt.forward:"captions"===a?(b=this.usingYouTubeCaptions?this.ytCaptions.length:this.captions.length,b>1?this.tt.captions:this.captionsOn?this.tt.hideCaptions:this.tt.showCaptions):"descriptions"===a?this.descOn?this.tt.turnOffDescriptions:this.tt.turnOnDescriptions:"transcript"===a?this.$transcriptDiv.is(":visible")?this.tt.hideTranscript:this.tt.showTranscript:"chapters"===a?this.tt.chapters:"sign"===a?this.tt.sign:"volume"===a?this.tt.volume:"faster"===a?this.tt.faster:"slower"===a?this.tt.slower:"preferences"===a?this.tt.preferences:"help"!==a?(this.debug,a.charAt(0).toUpperCase()+a.slice(1)):void 0}}(jQuery),function(a){AblePlayer.prototype.setupTracks=function(){var b=this,c=new a.Deferred,d=c.promise();this.$tracks=this.$media.find("track"),this.captions=[],this.captionLabels=[],this.descriptions=[],this.chapters=[],this.meta=[],a("#able-vts").length?(this.vtsTracks=[],this.hasVts=!0):this.hasVts=!1;for(var e=[],f=0;f<this.$tracks.length;f++){var g=this.$tracks[f],h=g.getAttribute("kind"),i=g.getAttribute("src");g.getAttribute("default");if(i){var j=this.loadTextObject(i);e.push(j),j.then(function(a,c,d,e){var d=a.getAttribute("srclang")||b.lang,e=a.getAttribute("label")||b.getLanguageName(d);return function(f,g){var h=g;b.useTtml&&(f.endsWith(".xml")||g.startsWith("<?xml"))&&(h=b.ttml2webvtt(g)),b.hasVts&&b.setupVtsTracks(c,d,e,f,h);var i=b.parseWebVTT(f,h).cues;"captions"===c||"subtitles"===c?b.setupCaptions(a,i,d,e):"descriptions"===c?b.setupDescriptions(a,i,d):"chapters"===c?b.setupChapters(a,i,d):"metadata"===c&&b.setupMetadata(a,i)}}(g,h))}}return a.when.apply(a,e).then(function(){c.resolve()}),d},AblePlayer.prototype.setupCaptions=function(b,c,d,e){if(this.hasCaptions=!0,"string"==typeof b.getAttribute("default")){var f=!0;b.removeAttribute("default")}else var f=!1;if("video"===this.mediaType&&(this.$captionsDiv||(this.$captionsDiv=a("<div>",{"class":"able-captions"}),this.$captionsWrapper=a("<div>",{"class":"able-captions-wrapper","aria-hidden":"true"}).hide(),"below"===this.prefCaptionsPosition?this.$captionsWrapper.addClass("able-captions-below"):this.$captionsWrapper.addClass("able-captions-overlay"),this.$captionsWrapper.append(this.$captionsDiv),this.$vidcapContainer.append(this.$captionsWrapper))),this.currentCaption=-1,1===this.prefCaptions?this.captionsOn=!0:this.captionsOn=!1,"external"===this.transcriptType||"popup"===this.transcriptType){this.$unknownTranscriptOption&&(this.$unknownTranscriptOption.remove(),this.$unknownTranscriptOption=null);var g=a("<option></option>",{value:d,lang:d}).text(e)}if("external"===this.transcriptType||"popup"===this.transcriptType)var h=this.$transcriptLanguageSelect.find("option");if(0===this.captions.length)this.captions.push({cues:c,language:d,label:e,def:f}),("external"===this.transcriptType||"popup"===this.transcriptType)&&(f&&g.prop("selected",!0),this.$transcriptLanguageSelect.append(g)),this.captionLabels.push(e);else{for(var i=!1,j=0;j<this.captions.length;j++){this.captionLabels[j];if(e.toLowerCase()<this.captionLabels[j].toLowerCase()){this.captions.splice(j,0,{cues:c,language:d,label:e,def:f}),("external"===this.transcriptType||"popup"===this.transcriptType)&&(f&&g.prop("selected",!0),g.insertBefore(h.eq(j))),this.captionLabels.splice(j,0,e),i=!0;break}}i||(this.captions.push({cues:c,language:d,label:e,def:f}),("external"===this.transcriptType||"popup"===this.transcriptType)&&(f&&g.prop("selected",!0),this.$transcriptLanguageSelect.append(g)),this.captionLabels.push(e))}("external"===this.transcriptType||"popup"===this.transcriptType)&&this.$transcriptLanguageSelect.find("option").length>1&&this.$transcriptLanguageSelect.prop("disabled",!1)},AblePlayer.prototype.setupDescriptions=function(a,b,c){this.hasClosedDesc=!0,this.currentDescription=-1,this.descriptions.push({cues:b,language:c})},AblePlayer.prototype.setupChapters=function(a,b,c){this.hasChapters=!0,this.chapters.push({cues:b,language:c})},AblePlayer.prototype.setupMetadata=function(b,c){"text"===this.metaType?this.metaDiv&&a("#"+this.metaDiv)&&(this.$metaDiv=a("#"+this.metaDiv),this.hasMeta=!0,this.meta=c):"selector"===this.metaType&&(this.hasMeta=!0,this.visibleSelectors=[],this.meta=c)},AblePlayer.prototype.loadTextObject=function(b){var c=new a.Deferred,d=c.promise(),e=this,f=a("<div>",{style:"display:none"});return f.load(b,function(a,d,g){"error"===d?(e.debug,c.fail()):c.resolve(b,a),f.remove()}),d},AblePlayer.prototype.setupAltCaptions=function(){var b=new a.Deferred,c=b.promise();return 0===this.captions.length&&"youtube"===this.player&&"undefined"!=typeof youTubeDataAPIKey?this.setupYouTubeCaptions().done(function(){b.resolve()}):b.resolve(),c}}(jQuery),function(a){AblePlayer.prototype.initYouTubePlayer=function(){var b,c,d,e;return b=this,c=new a.Deferred,d=c.promise(),e=this.youTubeDescId&&this.prefDesc?this.youTubeDescId:this.youTubeId,this.activeYouTubeId=e,AblePlayer.youtubeIframeAPIReady?this.finalizeYoutubeInit().then(function(){c.resolve()}):(AblePlayer.loadingYoutubeIframeAPI||a.getScript("https://www.youtube.com/iframe_api").fail(function(){c.fail()}),a("body").on("youtubeIframeAPIReady",function(){b.finalizeYoutubeInit().then(function(){c.resolve()})})),d},AblePlayer.prototype.finalizeYoutubeInit=function(){var b,c,d,e,f,g;return b=new a.Deferred,c=b.promise(),d=this,e=this.mediaId+"_youtube",this.$mediaContainer.prepend(a("<div>").attr("id",e)),this.youTubeCaptionsReady=!1,d.captions.length?(f=0,this.usingYouTubeCaptions=!1):f=this.captionsOn?1:0,g=this.getYouTubeDimensions(this.activeYouTubeId,e),g?(this.ytWidth=g[0],this.ytHeight=g[1],this.aspectRatio=d.ytWidth/d.ytHeight):(this.ytWidth=null,this.ytHeight=null),this.youTubePlayer=new YT.Player(e,{videoId:this.activeYouTubeId,host:this.youTubeNoCookie?"https://www.youtube-nocookie.com":"https://www.youtube.com",width:this.ytWidth,height:this.ytHeight,playerVars:{autoplay:0,enablejsapi:1,disableKb:1,playsinline:this.playsInline,start:this.startTime,controls:0,cc_load_policy:f,hl:this.lang,modestbranding:1,rel:0,html5:1,iv_load_policy:3},events:{onReady:function(){d.swappingSrc&&(d.swappingSrc=!1,d.playing&&d.playMedia()),"undefined"==typeof d.aspectRatio&&d.resizeYouTubePlayer(d.activeYouTubeId,e),b.resolve()},onError:function(a){b.fail()},onStateChange:function(a){var b=d.getPlayerState(a.data);"playing"===b?(d.playing=!0,d.startedPlaying=!0):d.playing=!1,d.stoppingYouTube&&"paused"===b&&("undefined"!=typeof d.$posterImg&&d.$posterImg.show(),d.stoppingYouTube=!1,d.seeking=!1,d.playing=!1)},onPlaybackQualityChange:function(){},onApiChange:function(a){d.initYouTubeCaptionModule()}}}),d.injectPoster(d.$mediaContainer,"youtube"),d.$media.remove(),c},AblePlayer.prototype.getYouTubeDimensions=function(b,c){var d,e,f,g;return d=[],"undefined"!=typeof this.playerMaxWidth?(d[0]=this.playerMaxWidth,"undefined"!=typeof this.playerMaxHeight&&(d[1]=this.playerMaxHeight),d):"undefined"!=typeof a("#"+c)&&(e=a("#"+c),f=e.width(),g=e.height(),f>0&&g>0)?(d[0]=f,d[1]=g,d):!1},AblePlayer.prototype.resizeYouTubePlayer=function(a,b){var c,d,e;"undefined"!=typeof this.aspectRatio?this.restoringAfterFullScreen?(this.youTubePlayer&&this.youTubePlayer.setSize(this.ytWidth,this.ytHeight),this.restoringAfterFullScreen=!1):(d=this.$ableWrapper.parent().width(),e=Math.round(d/this.aspectRatio),this.$ableWrapper.css({"max-width":d+"px",width:""}),this.youTubePlayer.setSize(d,e),this.isFullscreen()?this.youTubePlayer.setSize(d,e):this.youTubePlayer.setSize(this.ytWidth,this.ytHeight)):(c=this.getYouTubeDimensions(a,b),c&&(d=c[0],e=c[1],d>0&&e>0&&(this.aspectRatio=d/e,this.ytWidth=d,this.ytHeight=e,d!==this.$ableWrapper.width()&&(d=this.$ableWrapper.width(),e=Math.round(d/this.aspectRatio),this.youTubePlayer&&this.youTubePlayer.setSize(d,e)))))},AblePlayer.prototype.setupYouTubeCaptions=function(){var b,c,d=new a.Deferred,e=d.promise();return b=this,this.ytCaptions=[],c=this.youTubeDescId&&this.prefDesc?this.youTubeDescId:this.youTubeId,a.doWhen({when:function(){return googleApiReady},interval:100,attempts:1e3}).done(function(){b.getYouTubeCaptionData(c).done(function(){d.resolve()})}).fail(function(){}),e},AblePlayer.prototype.getYouTubeCaptionData=function(b){var c,d,e,f,g,h,i,j,k=new a.Deferred,l=k.promise();return c=this,gapi.client.setApiKey(youTubeDataAPIKey),gapi.client.load("youtube","v3").then(function(){var a=gapi.client.youtube.captions.list({part:"id, snippet",videoId:b});a.then(function(a){if(a.result.items.length){for(c.hasCaptions=!0,c.usingYouTubeCaptions=!0,1===c.prefCaptions?c.captionsOn=!0:c.captionsOn=!1,d=0;d<a.result.items.length;d++)e=a.result.items[d].id,g=a.result.items[d].snippet.name,f=a.result.items[d].snippet.language,h=a.result.items[d].snippet.trackKind,i=a.result.items[d].snippet.isDraft,"ASR"===h||i||(""===g&&(g=c.getLanguageName(f)),j=f===c.lang?!0:!1,c.ytCaptions.push({language:f,label:g,def:j}));c.setupPopups("captions"),k.resolve()}else c.hasCaptions=!1,c.usingYouTubeCaptions=!1,k.resolve()},function(a){})}),l},AblePlayer.prototype.initYouTubeCaptionModule=function(){var a;if(a=this.youTubePlayer.getOptions(),a.length){for(var b=0;b<a.length;b++){if("cc"==a[b]){this.ytCaptionModule="cc",this.hasCaptions||(this.hasCaptions=!0,this.usingYouTubeCaptions=!0);break}if("captions"==a[b]){this.ytCaptionModule="captions",this.hasCaptions||(this.hasCaptions=!0,this.usingYouTubeCaptions=!0);break}}"undefined"!=typeof this.ytCaptionModule&&(this.usingYouTubeCaptions?(this.youTubePlayer.setOption(this.ytCaptionModule,"track",{languageCode:this.captionLang}),this.youTubePlayer.setOption(this.ytCaptionModule,"fontSize",this.translatePrefs("size",this.prefCaptionsSize,"youtube"))):this.youTubePlayer.unloadModule(this.ytCaptionModule))}else this.hasCaptions=!1,this.usingYouTubeCaptions=!1;this.refreshControls()}}(jQuery),function(a){window.AccessibleSlider=function(b,c,d,e,f,g,h,i,j,k,l){var m;m=this,this.position=0,this.tracking=!1,this.trackDevice=null,this.keyTrackPosition=0,this.lastTrackPosition=0,this.nextStep=1,this.inertiaCount=0,this.bodyDiv=a(c),k&&(this.loadedDiv=a("<div></div>"),this.playedDiv=a("<div></div>")),this.seekHead=a("<div>",{orientation:d,"class":"able-"+j+"-head"}),"visible"===l?this.seekHead.attr("tabindex","0"):this.seekHead.attr("tabindex","-1"),this.seekHead.attr({role:"slider","aria-label":i,"aria-valuemin":f,"aria-valuemax":g}),this.timeTooltip=a("<div>"),this.bodyDiv.append(this.timeTooltip),this.timeTooltip.attr("role","tooltip"),this.timeTooltip.addClass("able-tooltip"),this.timeTooltip.hide(),this.bodyDiv.append(this.loadedDiv),this.bodyDiv.append(this.playedDiv),this.bodyDiv.append(this.seekHead),this.bodyDiv.wrap("<div></div>"),this.wrapperDiv=this.bodyDiv.parent(),"horizontal"===d?(this.wrapperDiv.width(e),this.loadedDiv.width(0)):(this.wrapperDiv.height(e),this.loadedDiv.height(0)),this.wrapperDiv.addClass("able-"+j+"-wrapper"),k&&(this.loadedDiv.addClass("able-"+j+"-loaded"),this.playedDiv.width(0),this.playedDiv.addClass("able-"+j+"-played"),this.setDuration(g)),this.seekHead.hover(function(a){m.overHead=!0,m.refreshTooltip()},function(a){m.overHead=!1,!m.overBody&&m.tracking&&"mouse"===m.trackDevice&&m.stopTracking(m.pageXToPosition(a.pageX)),m.refreshTooltip()}),this.seekHead.mousemove(function(a){m.tracking&&"mouse"===m.trackDevice&&m.trackHeadAtPageX(a.pageX)}),this.seekHead.focus(function(a){m.overHead=!0,m.refreshTooltip()}),this.seekHead.blur(function(a){m.overHead=!1,m.refreshTooltip()}),this.bodyDiv.hover(function(){m.overBody=!0,m.refreshTooltip()},function(a){m.overBody=!1,m.overBodyMousePos=null,m.refreshTooltip(),!m.overHead&&m.tracking&&"mouse"===m.trackDevice&&m.stopTracking(m.pageXToPosition(a.pageX))}),this.bodyDiv.mousemove(function(a){m.overBodyMousePos={x:a.pageX,y:a.pageY},m.tracking&&"mouse"===m.trackDevice&&m.trackHeadAtPageX(a.pageX),m.refreshTooltip()}),this.bodyDiv.mousedown(function(a){m.startTracking("mouse",m.pageXToPosition(a.pageX)),m.trackHeadAtPageX(a.pageX),m.seekHead.is(":focus")||m.seekHead.focus(),a.preventDefault()}),this.seekHead.mousedown(function(a){m.startTracking("mouse",m.pageXToPosition(m.seekHead.offset()+m.seekHead.width()/2)),m.bodyDiv.is(":focus")||m.bodyDiv.focus(),a.preventDefault()}),this.bodyDiv.mouseup(function(a){m.tracking&&"mouse"===m.trackDevice&&m.stopTracking(m.pageXToPosition(a.pageX))}),this.seekHead.mouseup(function(a){m.tracking&&"mouse"===m.trackDevice&&m.stopTracking(m.pageXToPosition(a.pageX))}),this.bodyDiv.keydown(function(a){if(36===a.which)m.trackImmediatelyTo(0);else if(35===a.which)m.trackImmediatelyTo(m.duration);else if(37===a.which||40===a.which)m.arrowKeyDown(-1);else if(39===a.which||38===a.which)m.arrowKeyDown(1);else if(33===a.which&&h>0)m.arrowKeyDown(h);else{if(!(34===a.which&&h>0))return;m.arrowKeyDown(-h)}a.preventDefault()}),this.bodyDiv.keyup(function(a){a.which>=33&&a.which<=40&&(m.tracking&&"keyboard"===m.trackDevice&&m.stopTracking(m.keyTrackPosition),a.preventDefault())})},AccessibleSlider.prototype.arrowKeyDown=function(a){this.tracking&&"keyboard"===this.trackDevice?(this.keyTrackPosition=this.boundPos(this.keyTrackPosition+this.nextStep*a),this.inertiaCount+=1,20===this.inertiaCount&&(this.inertiaCount=0,this.nextStep*=2),this.trackHeadAtPosition(this.keyTrackPosition)):(this.nextStep=1,this.inertiaCount=0,this.keyTrackPosition=this.boundPos(this.position+this.nextStep*a),this.startTracking("keyboard",this.keyTrackPosition),this.trackHeadAtPosition(this.keyTrackPosition))},AccessibleSlider.prototype.pageXToPosition=function(a){var b=a-this.bodyDiv.offset().left,c=this.duration*(b/this.bodyDiv.width());return this.boundPos(c)},AccessibleSlider.prototype.boundPos=function(a){return Math.max(0,Math.min(a,this.duration))},AccessibleSlider.prototype.setDuration=function(a){a!==this.duration&&(this.duration=a,this.resetHeadLocation(),this.seekHead.attr("aria-valuemax",a))},AccessibleSlider.prototype.setWidth=function(a){this.wrapperDiv.width(a),this.resizeDivs(),this.resetHeadLocation()},AccessibleSlider.prototype.getWidth=function(){return this.wrapperDiv.width()},AccessibleSlider.prototype.resizeDivs=function(){this.playedDiv.width(this.bodyDiv.width()*(this.position/this.duration)),this.loadedDiv.width(this.bodyDiv.width()*this.buffered)},AccessibleSlider.prototype.resetHeadLocation=function(){var a=this.position/this.duration,b=this.bodyDiv.width()*a;this.seekHead.css("left",b-this.seekHead.width()/2),this.tracking&&this.stopTracking(this.position)},AccessibleSlider.prototype.setPosition=function(a,b){this.position=a,this.resetHeadLocation(),this.refreshTooltip(),this.resizeDivs(),this.updateAriaValues(a,b)},AccessibleSlider.prototype.setBuffered=function(a){this.buffered=a,this.redrawDivs},AccessibleSlider.prototype.startTracking=function(a,b){this.tracking||(this.trackDevice=a,this.tracking=!0,this.bodyDiv.trigger("startTracking",[b]))},AccessibleSlider.prototype.stopTracking=function(a){this.trackDevice=null,this.tracking=!1,this.bodyDiv.trigger("stopTracking",[a]),this.setPosition(a,!0)},AccessibleSlider.prototype.trackHeadAtPageX=function(a){var b=this.pageXToPosition(a),c=a-this.bodyDiv.offset().left-this.seekHead.width()/2;c=Math.max(0,Math.min(c,this.bodyDiv.width()-this.seekHead.width())),this.lastTrackPosition=b,this.seekHead.css("left",c),this.reportTrackAtPosition(b)},AccessibleSlider.prototype.trackHeadAtPosition=function(a){var b=a/this.duration,c=this.bodyDiv.width()*b;this.lastTrackPosition=a,this.seekHead.css("left",c-this.seekHead.width()/2),this.reportTrackAtPosition(a)},AccessibleSlider.prototype.reportTrackAtPosition=function(a){this.bodyDiv.trigger("tracking",[a]),this.updateAriaValues(a,!0)},AccessibleSlider.prototype.updateAriaValues=function(b,c){var d,e=Math.floor(b/3600),f=Math.floor(b%3600/60),g=Math.floor(b%60),h=1===e?"hour":"hours",i=1===f?"minute":"minutes",j=1===g?"second":"seconds";d=e>0?e+" "+h+", "+f+" "+i+", "+g+" "+j:f>0?f+" "+i+", "+g+" "+j:g+" "+j,this.liveAriaRegion||(this.liveAriaRegion=a("<span>",{"class":"able-offscreen","aria-live":"polite"}),this.wrapperDiv.append(this.liveAriaRegion)),c&&this.liveAriaRegion.text()!==d&&this.liveAriaRegion.text(d),this.seekHead.attr("aria-valuetext",d),this.seekHead.attr("aria-valuenow",Math.floor(b).toString())},AccessibleSlider.prototype.trackImmediatelyTo=function(a){this.startTracking("keyboard",a),this.trackHeadAtPosition(a),this.keyTrackPosition=a},AccessibleSlider.prototype.refreshTooltip=function(){this.overHead?(this.timeTooltip.show(),this.tracking?this.timeTooltip.text(this.positionToStr(this.lastTrackPosition)):this.timeTooltip.text(this.positionToStr(this.position)),this.setTooltipPosition(this.seekHead.position().left+this.seekHead.width()/2)):this.overBody&&this.overBodyMousePos?(this.timeTooltip.show(),this.timeTooltip.text(this.positionToStr(this.pageXToPosition(this.overBodyMousePos.x))),this.setTooltipPosition(this.overBodyMousePos.x-this.bodyDiv.offset().left)):this.timeTooltip.hide()},AccessibleSlider.prototype.setTooltipPosition=function(a){this.timeTooltip.css({left:a-this.timeTooltip.width()/2-10,bottom:this.seekHead.height()+10})},AccessibleSlider.prototype.positionToStr=function(a){var b=Math.floor(a/3600),c=Math.floor(a/60)%60,d=Math.floor(a%60);return 10>d&&(d="0"+d),b>0?(10>c&&(c="0"+c),b+":"+c+":"+d):c+":"+d}}(jQuery),function(a){AblePlayer.prototype.addVolumeSlider=function(b){var c,d,e,f,g,h;c=this,d=this.mediaId+"-volume-slider",e=this.mediaId+"-volume-help",this.volumeTrackHeight=50,this.volumeHeadHeight=7,this.volumeTickHeight=this.volumeTrackHeight/10,this.$volumeSlider=a("<div>",{id:d,"class":"able-volume-slider","aria-hidden":"true"}).hide(),this.$volumeSliderTooltip=a("<div>",{"class":"able-tooltip",role:"tooltip"}).hide(),this.$volumeSliderTrack=a("<div>",{"class":"able-volume-track"}),this.$volumeSliderTrackOn=a("<div>",{"class":"able-volume-track able-volume-track-on"}),this.$volumeSliderHead=a("<div>",{"class":"able-volume-head",role:"slider","aria-orientation":"vertical","aria-label":this.tt.volumeUpDown,"aria-valuemin":0,"aria-valuemax":10,"aria-valuenow":this.volume,tabindex:-1}),this.$volumeSliderTrack.append(this.$volumeSliderTrackOn,this.$volumeSliderHead),this.$volumeAlert=a("<div>",{"class":"able-offscreen","aria-live":"assertive","aria-atomic":"true"}),h=parseInt(c.volume)/10*100,this.$volumeHelp=a("<div>",{id:e,"class":"able-volume-help"}).text(h+"%, "+this.tt.volumeHelp),this.$volumeButton.attr({"aria-describedby":e}),this.$volumeSlider.append(this.$volumeSliderTooltip,this.$volumeSliderTrack,this.$volumeAlert,this.$volumeHelp),b.append(this.$volumeSlider),this.refreshVolumeSlider(this.volume),this.$volumeSliderHead.on("mousedown",function(b){b.preventDefault(),c.draggingVolume=!0,c.volumeHeadPositionTop=a(this).offset().top}),this.$mediaContainer.on("mouseover",function(a){"youtube"==c.player&&(c.draggingVolume=!1)}),a(document).on("mouseup",function(a){c.draggingVolume=!1}),a(document).on("mousemove",function(a){c.draggingVolume&&(f=a.pageX,g=a.pageY,c.moveVolumeHead(g))}),this.$volumeSliderHead.on("keydown",function(a){if(37===a.which||40===a.which)c.handleVolume("down");else if(39===a.which||38===a.which)c.handleVolume("up");else{if(27!==a.which&&13!==a.which)return;c.$volumeSlider.is(":visible")?c.hideVolumePopup():c.showVolumePopup()}a.preventDefault()})},AblePlayer.prototype.refreshVolumeSlider=function(a){var b,c;b=a/10*100,c=b+"%";var d,e,f;d=a*this.volumeTickHeight,e=this.volumeTrackHeight-d,f=e-this.volumeHeadHeight,this.$volumeSliderTrackOn.css({height:d+"px",top:e+"px"}),this.$volumeSliderHead.attr({"aria-valuenow":a,"aria-valuetext":c}),this.$volumeSliderHead.css({top:f+"px"}),this.$volumeAlert.text(b+"%")},AblePlayer.prototype.refreshVolumeButton=function(a){var b,c,d,e,f;b=this.getVolumeName(a),c=a/10*100,d=this.tt.volume+" "+c+"%","font"===this.iconType?(e="icon-volume-"+b,this.$volumeButton.find("span").first().removeClass().addClass(e),this.$volumeButton.find("span.able-clipped").text(d)):(f=this.imgPath+"volume-"+b+".png",this.$volumeButton.find("img").attr("src",f))},AblePlayer.prototype.moveVolumeHead=function(a){var b,c,d,e,b=this.volumeHeadPositionTop-a;if(Math.abs(b)>this.volumeTickHeight){if(c=b>0?"up":"down","up"==c&&10==this.volume)return;if("down"==c&&0==this.volume)return;d=Math.round(Math.abs(b)/this.volumeTickHeight),"up"==c?(e=this.volume+d,e>10&&(e=10)):(e=this.volume-d,0>e&&(e=0)),this.setVolume(e),this.refreshVolumeSlider(e),this.refreshVolumeButton(e),this.volumeHeadPositionTop=a}},AblePlayer.prototype.handleVolume=function(a){var b;return"undefined"==typeof a?void(this.$volumeSlider.is(":visible")?this.hideVolumePopup():this.showVolumePopup()):(a>=49&&57>=a?b=a-48:(b=this.getVolume(),"up"===a&&10>b?b+=1:"down"===a&&b>0&&(b-=1)),void(this.isMuted()&&b>0?this.setMute(!1):0===b?this.setMute(!0):(this.setVolume(b),this.refreshVolumeSlider(b),this.refreshVolumeButton(b))))},AblePlayer.prototype.handleMute=function(){this.isMuted()?this.setMute(!1):this.setMute(!0)},AblePlayer.prototype.showVolumePopup=function(){this.closePopups(),this.$tooltipDiv.hide(),this.$volumeSlider.show().attr("aria-hidden","false"),this.$volumeButton.attr("aria-expanded","true"),this.$volumeSliderHead.attr("tabindex","0").focus()},AblePlayer.prototype.hideVolumePopup=function(){this.$volumeSlider.hide().attr("aria-hidden","true"),this.$volumeSliderHead.attr("tabindex","-1"),this.$volumeButton.attr("aria-expanded","false").focus()},AblePlayer.prototype.isMuted=function(){return"html5"===this.player?this.media.muted:"jw"===this.player&&this.jwPlayer?this.jwPlayer.getMute():"youtube"===this.player?this.youTubePlayer.isMuted():void 0},AblePlayer.prototype.setMute=function(a){a?(this.lastVolume=this.volume,this.volume=0):"undefined"!=typeof this.lastVolume&&(this.volume=this.lastVolume),"html5"===this.player?this.media.muted=a:"jw"===this.player&&this.jwPlayer?this.jwPlayer.setMute(a):"youtube"===this.player&&(a?this.youTubePlayer.mute():this.youTubePlayer.unMute()),this.refreshVolumeSlider(this.volume),this.refreshVolumeButton(this.volume)},AblePlayer.prototype.setVolume=function(a){"html5"===this.player?(this.media.volume=a/10,this.hasSignLanguage&&this.signVideo&&(this.signVideo.volume=0)):"jw"===this.player&&this.jwPlayer?this.jwPlayer.setVolume(10*a):"youtube"===this.player&&(this.youTubePlayer.setVolume(10*a),this.volume=a),this.lastVolume=a},AblePlayer.prototype.getVolume=function(a){return"html5"===this.player?10*this.media.volume:"jw"===this.player&&this.jwPlayer?this.jwPlayer.getVolume()/10:"youtube"===this.player?this.youTubePlayer.getVolume()/10:void 0},AblePlayer.prototype.getVolumeName=function(a){return 0==a?"mute":10==a?"loud":5>a?"soft":"medium"}}(jQuery),function(a){var b="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";window.AccessibleDialog=function(c,d,e,f,g,h,i,j,k){this.title=f,this.closeButtonLabel=h,this.focusedElementBeforeModal=d,this.escapeHook=k,this.baseId=a(c).attr("id")||Math.floor(1e9*Math.random()).toString();var l=this,m=c;if(this.modal=m,m.css({width:i||"50%",top:j?"0":"5%"}),m.addClass("able-modal-dialog"),!j){var n=a("<button>",{"class":"modalCloseButton",title:l.closeButtonLabel,"aria-label":l.closeButtonLabel}).text("X");n.keydown(function(a){32===a.which&&l.hide()}).click(function(){l.hide()});var o=a("<h1></h1>");o.attr("id","modalTitle-"+this.baseId),o.css("text-align","center"),o.text(f),g.attr("id","modalDesc-"+this.baseId),m.attr({"aria-labelledby":"modalTitle-"+this.baseId,"aria-describedby":"modalDesc-"+this.baseId}),m.prepend(o),m.prepend(n)}m.attr({"aria-hidden":"true",role:e}),m.keydown(function(c){if(27===c.which)l.escapeHook?l.escapeHook(c,this):(l.hide(),c.preventDefault());else if(9===c.which){var d=m.find("*"),e=d.filter(b).filter(":visible");if(0===e.length)return;var f=a(":focus"),g=e.index(f);c.shiftKey?0===g&&(e.get(e.length-1).focus(),c.preventDefault()):g===e.length-1&&(e.get(0).focus(),c.preventDefault())}c.stopPropagation()}),a("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("aria-hidden","false")},AccessibleDialog.prototype.show=function(){if(!this.overlay){var c=a("<div></div>").attr({"class":"able-modal-overlay",tabindex:"-1"});this.overlay=c,a("body").append(c),c.on("mousedown.accessibleModal",function(a){a.preventDefault()})}a("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("aria-hidden","true"),this.overlay.css("display","block"),this.modal.css("display","block"),this.modal.attr({"aria-hidden":"false",tabindex:"-1"});var d=this.modal.find("*").filter(b).filter(":visible");0===d.length&&this.focusedElementBeforeModal.blur();var e=this;setTimeout(function(){e.modal.focus()},300)},AccessibleDialog.prototype.hide=function(){this.overlay&&this.overlay.css("display","none"),this.modal.css("display","none"),this.modal.attr("aria-hidden","true"),a("body > *").not(".able-modal-overlay").not(".able-modal-dialog").attr("aria-hidden","false"),this.focusedElementBeforeModal.focus()}}(jQuery),function(a){AblePlayer.prototype.getNextHeadingLevel=function(b){var c,d,e,f,g;return c=b.parents(),c.each(function(){return d=a(this).children(":header"),e=d.length,e?(f=d.eq(e-1).prop("tagName"),!1):void 0}),"undefined"==typeof f?g=1:(g=parseInt(f[1]),g+=1,g>6&&(g=6)),g},AblePlayer.prototype.countProperties=function(a){var b,c;b=0;for(c in a)a.hasOwnProperty(c)&&++b;return b},AblePlayer.prototype.formatSecondsAsColonTime=function(a,b){var c,d,e,f,g,h,i;if(b)if(f=a.toString().split("."),2===f.length){if(g=f[1],g.length<3)for(h=3-g.length,i=1;h>=i;i++)g+="0"}else g="000";return c=Math.floor(a/3600),d=Math.floor(a/60)%60,e=Math.floor(a%60),10>e&&(e="0"+e),c>0?(10>d&&(d="0"+d),b?c+":"+d+":"+e+"."+g:c+":"+d+":"+e):b?(1>c?c="00":10>c&&(c="0"+c),1>d?d="00":10>d&&(d="0"+d),c+":"+d+":"+e+"."+g):d+":"+e},AblePlayer.prototype.getSecondsFromColonTime=function(a){var b,c,d,e;return b=a.split(":"),3===b.length?(c=parseInt(b[0]),d=parseInt(b[1]),e=parseFloat(b[2]),3600*c+60*d+e):2===b.length?(d=parseInt(b[0]),e=parseFloat(b[1]),60*d+e):1===b.length?e=parseFloat(b[0]):void 0},AblePlayer.prototype.capitalizeFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)}}(jQuery),function(a){AblePlayer.prototype.initDescription=function(){this.refreshingDesc||(this.descFile=this.$sources.first().attr("data-desc-src"),"undefined"!=typeof this.descFile?this.hasOpenDesc=!0:this.youTubeDescId?this.hasOpenDesc=!0:this.hasOpenDesc=!1),this.prefDesc?this.hasOpenDesc&&this.hasClosedDesc?(this.useDescFormat=this.prefDescFormat,this.descOn=!0):this.hasOpenDesc?(this.useDescFormat="video",this.descOn=!0):this.hasClosedDesc&&(this.useDescFormat="text",this.descOn=!0):this.refreshingDesc?(this.prevDescFormat=this.useDescFormat,this.useDescFormat=!1,this.descOn=!1):this.useDescFormat=!1,this.descOn?"video"===this.useDescFormat?(this.usingAudioDescription()||this.swapDescription(),this.$descDiv.hide(),this.$descDiv.removeClass("able-clipped")):"text"===this.useDescFormat&&(this.$descDiv.show(),this.prefVisibleDesc?this.$descDiv.removeClass("able-clipped"):this.$descDiv.addClass("able-clipped"),this.swappingSrc||this.showDescription(this.getElapsed())):"video"===this.prevDescFormat?this.usingAudioDescription()&&this.swapDescription():"text"===this.prevDescFormat&&(this.$descDiv.hide(),this.$descDiv.removeClass("able-clipped")),this.refreshingDesc=!1},AblePlayer.prototype.usingAudioDescription=function(){return"youtube"===this.player?this.activeYouTubeId===this.youTubeDescId:this.$sources.first().attr("data-desc-src")===this.$sources.first().attr("src")},AblePlayer.prototype.swapDescription=function(){var a,b,c,d,e,f,g;if(a=this,this.swapTime=this.getElapsed(),this.descOn?this.showAlert(this.tt.alertDescribedVersion):this.showAlert(this.tt.alertNonDescribedVersion),"html5"===this.player){if(this.usingAudioDescription()){for(b=0;b<this.$sources.length;b++)c=this.$sources[b].getAttribute("data-orig-src"),e=this.$sources[b].getAttribute("type"),c&&this.$sources[b].setAttribute("src",c),"video/mp4"===e&&(f=b);this.swappingSrc=!0}else{for(b=0;b<this.$sources.length;b++)c=this.$sources[b].getAttribute("src"),d=this.$sources[b].getAttribute("data-desc-src"),
e=this.$sources[b].getAttribute("type"),d&&(this.$sources[b].setAttribute("src",d),this.$sources[b].setAttribute("data-orig-src",c)),"video/mp4"===e&&(f=b);this.swappingSrc=!0}"html5"===this.player?this.media.load():"youtube"===this.player||"jw"===this.player&&this.jwPlayer&&(g=this.$sources[f].getAttribute("src"),this.jwPlayer.load({file:g}))}else"youtube"===this.player&&(this.usingAudioDescription()?(this.activeYouTubeId=this.youTubeId,this.showAlert(this.tt.alertNonDescribedVersion)):(this.activeYouTubeId=this.youTubeDescId,this.showAlert(this.tt.alertDescribedVersion)),"undefined"!=typeof this.youTubePlayer&&this.setupAltCaptions().then(function(){a.playing?a.youTubePlayer.loadVideoById(a.activeYouTubeId,a.swapTime):a.youTubePlayer.cueVideoById(a.activeYouTubeId,a.swapTime)}))},AblePlayer.prototype.showDescription=function(a){if(!this.swappingSrc){var b,c,d,e=function(a){var b=[];if("string"===a.type)b.push(a.value);else for(var c=0;c<a.children.length;c++)b.push(e(a.children[c]));return b.join("")};for(d=this.selectedDescriptions?this.selectedDescriptions.cues:this.descriptions.length>=1?this.descriptions[0].cues:[],b=0;b<d.length;b++)if(d[b].start<=a&&d[b].end>a){c=b;break}"undefined"!=typeof c?this.currentDescription!==c&&(this.$status.removeAttr("aria-live"),this.$descDiv.html(e(d[c].components)),this.prefDescPause&&this.pauseMedia(),this.currentDescription=c):(this.$descDiv.html(""),this.currentDescription=-1,this.$status.attr("aria-live","polite"))}}}(jQuery),function(a){AblePlayer.prototype.getUserAgent=function(){this.userAgent={},this.userAgent.browser={},/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(this.userAgent.browser.name="Firefox",this.userAgent.browser.version=RegExp.$1):/MSIE (\d+\.\d+);/.test(navigator.userAgent)?(this.userAgent.browser.name="Internet Explorer",this.userAgent.browser.version=RegExp.$1):/Trident.*rv[ :]*(\d+\.\d+)/.test(navigator.userAgent)?(this.userAgent.browser.name="Internet Explorer",this.userAgent.browser.version=RegExp.$1):/Edge[\/\s](\d+\.\d+)/.test(navigator.userAgent)?(this.userAgent.browser.name="Edge",this.userAgent.browser.version=RegExp.$1):/OPR\/(\d+\.\d+)/i.test(navigator.userAgent)?(this.userAgent.browser.name="Opera",this.userAgent.browser.version=RegExp.$1):/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?(this.userAgent.browser.name="Chrome",/Chrome[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&(this.userAgent.browser.version=RegExp.$1)):/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)?(this.userAgent.browser.name="Safari",/Version[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&(this.userAgent.browser.version=RegExp.$1)):(this.userAgent.browser.name="Unknown",this.userAgent.browser.version="Unknown"),-1!=window.navigator.userAgent.indexOf("Windows NT 6.2")?this.userAgent.os="Windows 8":-1!=window.navigator.userAgent.indexOf("Windows NT 6.1")?this.userAgent.os="Windows 7":-1!=window.navigator.userAgent.indexOf("Windows NT 6.0")?this.userAgent.os="Windows Vista":-1!=window.navigator.userAgent.indexOf("Windows NT 5.1")?this.userAgent.os="Windows XP":-1!=window.navigator.userAgent.indexOf("Windows NT 5.0")?this.userAgent.os="Windows 2000":-1!=window.navigator.userAgent.indexOf("Mac")?this.userAgent.os="Mac/iOS":-1!=window.navigator.userAgent.indexOf("X11")?this.userAgent.os="UNIX":-1!=window.navigator.userAgent.indexOf("Linux")&&(this.userAgent.os="Linux"),this.debug},AblePlayer.prototype.isUserAgent=function(a){var b=navigator.userAgent.toLowerCase();return this.debug,-1!==b.indexOf(a.toLowerCase())?!0:!1},AblePlayer.prototype.isIOS=function(a){var b,c;return b=navigator.userAgent.toLowerCase(),c=/ipad|iphone|ipod/.exec(b),c?"undefined"!=typeof a?-1!==b.indexOf("os "+a)?!0:!1:!0:!1},AblePlayer.prototype.browserSupportsVolume=function(){var a,b;return a=navigator.userAgent.toLowerCase(),b=/ipad|iphone|ipod|android|blackberry|windows ce|windows phone|webos|playbook/.exec(a),b?"android"===b[0]&&/firefox/.test(a)?!0:!1:!0},AblePlayer.prototype.nativeFullscreenSupported=function(){return"jw"===this.player?!1:document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}(jQuery),function(a){AblePlayer.prototype.seekTo=function(a){if(this.seekFromTime=this.media.currentTime,this.seekToTime=a,this.seeking=!0,this.liveUpdatePending=!0,"html5"===this.player){var b;this.startTime=a,b=this.media.seekable,b.length>0&&this.startTime>=b.start(0)&&this.startTime<=b.end(0)&&(this.media.currentTime=this.startTime,this.hasSignLanguage&&this.signVideo&&(this.signVideo.currentTime=this.startTime))}else"jw"===this.player&&this.jwPlayer?(this.jwSeekPause=!0,this.jwPlayer.seek(a)):"youtube"===this.player&&(this.youTubePlayer.seekTo(a,!0),a>0&&"undefined"!=typeof this.$posterImg&&this.$posterImg.hide());this.refreshControls()},AblePlayer.prototype.getDuration=function(){var a;return"html5"===this.player?a=this.media.duration:"jw"===this.player&&this.jwPlayer?a=this.jwPlayer.getDuration():"youtube"===this.player&&this.youTubePlayer&&(a=this.youTubePlayer.getDuration()),void 0===a||isNaN(a)||-1===a?0:a},AblePlayer.prototype.getElapsed=function(){var a;if("html5"===this.player)a=this.media.currentTime;else if("jw"===this.player&&this.jwPlayer){if("IDLE"===this.jwPlayer.getState())return 0;a=this.jwPlayer.getPosition()}else"youtube"===this.player&&this.youTubePlayer&&(a=this.youTubePlayer.getCurrentTime());return void 0===a||isNaN(a)||-1===a?0:a},AblePlayer.prototype.getPlayerState=function(){if(!this.swappingSrc){if("html5"===this.player)return this.media.paused?0===this.getElapsed()?"stopped":this.media.ended?"ended":"paused":4!==this.media.readyState?"buffering":"playing";if("jw"===this.player&&this.jwPlayer){if("PAUSED"===this.jwPlayer.getState()||"IDLE"===this.jwPlayer.getState()||void 0===this.jwPlayer.getState())return 0===this.getElapsed()?"stopped":this.getElapsed()===this.getDuration()?"ended":"paused";if("BUFFERING"===this.jwPlayer.getState())return"buffering";if("PLAYING"===this.jwPlayer.getState())return"playing"}else if("youtube"===this.player&&this.youTubePlayer){var a=this.youTubePlayer.getPlayerState();if(-1===a||5===a)return"stopped";if(0===a)return"ended";if(1===a)return"playing";if(2===a)return"paused";if(3===a)return"buffering"}}},AblePlayer.prototype.isPlaybackRateSupported=function(){return"html5"===this.player?this.media.playbackRate?!0:!1:"jw"===this.player&&this.jwPlayer?!1:"youtube"===this.player?this.youTubePlayer.getAvailablePlaybackRates().length>1:void 0},AblePlayer.prototype.setPlaybackRate=function(a){a=Math.max(.5,a),"html5"===this.player?this.media.playbackRate=a:"youtube"===this.player&&this.youTubePlayer.setPlaybackRate(a),this.hasSignLanguage&&this.signVideo&&(this.signVideo.playbackRate=a),this.$speed.text(this.tt.speed+": "+a.toFixed(2).toString()+"x")},AblePlayer.prototype.getPlaybackRate=function(){return"html5"===this.player?this.media.playbackRate:"jw"===this.player&&this.jwPlayer?1:"youtube"===this.player?this.youTubePlayer.getPlaybackRate():void 0},AblePlayer.prototype.isPaused=function(){var a=this.getPlayerState();return"paused"===a||"stopped"===a||"ended"===a},AblePlayer.prototype.pauseMedia=function(){"html5"===this.player?(this.media.pause(!0),this.hasSignLanguage&&this.signVideo&&this.signVideo.pause(!0)):"jw"===this.player&&this.jwPlayer?this.jwPlayer.pause(!0):"youtube"===this.player&&this.youTubePlayer.pauseVideo()},AblePlayer.prototype.playMedia=function(){var a=this;"html5"===this.player?(this.media.play(!0),this.hasSignLanguage&&this.signVideo&&this.signVideo.play(!0)):"jw"===this.player&&this.jwPlayer?this.jwPlayer.play(!0):"youtube"===this.player&&(this.youTubePlayer.playVideo(),"undefined"!=typeof this.$posterImg&&this.$posterImg.hide(),this.stoppingYouTube=!1),this.startedPlaying=!0,this.hideControls&&(this.hidingControls=!0,this.hideControlsTimeout=window.setTimeout(function(){a.fadeControls("out"),a.controlsHidden=!0,a.hidingControls=!1},2e3))},AblePlayer.prototype.fadeControls=function(a){"out"==a?(this.$controllerDiv.addClass("able-offscreen"),this.$statusBarDiv.addClass("able-offscreen"),this.playerBackground=this.$playerDiv.css("background-color"),this.$playerDiv.css("background-color","black")):"in"==a&&(this.$controllerDiv.removeClass("able-offscreen"),this.$statusBarDiv.removeClass("able-offscreen"),"undefined"!=typeof this.playerBackground?this.$playerDiv.css("background-color",this.playerBackground):this.$playerDiv.css("background-color",""))},AblePlayer.prototype.refreshControls=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;b=this,this.swappingSrc||(c=this.getDuration(),d=this.getElapsed(),this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.chapterElapsed=this.getChapterElapsed()),this.useFixedSeekInterval===!1&&this.seekIntervalCalculated===!1&&c>0&&this.setSeekInterval(),this.seekBar&&(this.useChapterTimes?(e=this.selectedChapters.cues.length-1,this.selectedChapters.cues[e]==this.currentChapter&&this.currentChapter.end!==c?this.seekBar.setDuration(c-this.currentChapter.start):this.seekBar.setDuration(this.chapterDuration)):this.seekBar.setDuration(c),this.seekBar.tracking||(g=this.liveUpdatePending||this.seekBar.seekHead.is(a(document.activeElement)),this.liveUpdatePending=!1,this.useChapterTimes?this.seekBar.setPosition(this.chapterElapsed,g):this.seekBar.setPosition(d,g)),f=this.seekBar.tracking?this.seekBar.lastTrackPosition:this.useChapterTimes?this.chapterElapsed:d),this.useChapterTimes?this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(this.chapterDuration)):this.$durationContainer.text(" / "+this.formatSecondsAsColonTime(c)),this.$elapsedTimeContainer.text(this.formatSecondsAsColonTime(f)),h={stopped:this.tt.statusStopped,paused:this.tt.statusPaused,playing:this.tt.statusPlaying,buffering:this.tt.statusBuffering,ended:this.tt.statusEnd},this.stoppingYouTube?(this.$status.text()!==this.tt.statusStopped&&this.$status.text(this.tt.statusStopped),this.$playpauseButton.find("span").first().hasClass("icon-pause")&&("font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-pause").addClass("icon-play"),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):"svg"===this.iconType?(u=this.getSvgData("play"),this.$playpauseButton.find("svg").attr("viewBox",u[0]),this.$playpauseButton.find("path").attr("d",u[1])):this.$playpauseButton.find("img").attr("src",this.playButtonImg))):"undefined"!=typeof this.$status&&"undefined"!=typeof this.seekBar&&(this.$status.text()===h[this.getPlayerState()]||this.seekBar.tracking?(this.statusDebounceStart=null,clearTimeout(this.statusTimeout),this.statusTimeout=null):(i=(new Date).getTime(),this.statusDebounceStart?i-this.statusDebounceStart>250&&(this.$status.text(h[this.getPlayerState()]),this.statusDebounceStart=null,clearTimeout(this.statusTimeout),this.statusTimeout=null):(this.statusDebounceStart=i,this.statusTimeout=setTimeout(function(){b.refreshControls()},300))),this.seekBar.tracking||this.stoppingYouTube||(this.isPaused()?(this.$playpauseButton.attr("aria-label",this.tt.play),"font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-pause").addClass("icon-play"),this.$playpauseButton.find("span.able-clipped").text(this.tt.play)):"svg"===this.iconType?(u=this.getSvgData("play"),this.$playpauseButton.find("svg").attr("viewBox",u[0]),this.$playpauseButton.find("path").attr("d",u[1])):this.$playpauseButton.find("img").attr("src",this.playButtonImg)):(this.$playpauseButton.attr("aria-label",this.tt.pause),"font"===this.iconType?(this.$playpauseButton.find("span").first().removeClass("icon-play").addClass("icon-pause"),this.$playpauseButton.find("span.able-clipped").text(this.tt.pause)):"svg"===this.iconType?(u=this.getSvgData("pause"),this.$playpauseButton.find("svg").attr("viewBox",u[0]),this.$playpauseButton.find("path").attr("d",u[1])):this.$playpauseButton.find("img").attr("src",this.pauseButtonImg)))),this.seekBar&&(j=0,n=40,k=this.seekBar.wrapperDiv.parent().prev("div.able-left-controls"),l=k.next("div.able-right-controls"),k.children().each(function(){"BUTTON"==a(this).prop("tagName")&&(j+=a(this).width())}),l.children().each(function(){"BUTTON"==a(this).prop("tagName")&&(j+=a(this).width())}),m=this.isFullscreen()?a(window).width()-j-n:this.$ableWrapper.width()-j-n,Math.abs(m-this.seekBar.getWidth())>5&&this.seekBar.setWidth(m)),this.isFullscreen()||(t=300,r=this.$statusBarDiv.height(),s=this.$statusBarDiv.find("span.able-speed").height(),s>r+5?(this.$statusBarDiv.find("span.able-speed").hide(),this.hidingSpeed=!0):(this.hidingSpeed&&(this.$statusBarDiv.find("span.able-speed").show(),this.hidingSpeed=!1),this.$statusBarDiv.width()<t?(this.$statusBarDiv.find("span.able-speed").hide(),this.hidingSpeed=!0):this.hidingSpeed&&(this.$statusBarDiv.find("span.able-speed").show(),this.hidingSpeed=!1))),this.$descButton&&(this.descOn?(this.$descButton.removeClass("buttonOff").attr("aria-label",this.tt.turnOffDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOffDescriptions)):(this.$descButton.addClass("buttonOff").attr("aria-label",this.tt.turnOnDescriptions),this.$descButton.find("span.able-clipped").text(this.tt.turnOnDescriptions))),this.$ccButton&&(o=this.usingYouTubeCaptions?this.ytCaptions.length:this.captions.length,this.captionsOn?(this.$ccButton.removeClass("buttonOff"),1===o&&(this.$ccButton.attr("aria-label",this.tt.hideCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.hideCaptions))):(this.$ccButton.addClass("buttonOff"),1===o&&(this.$ccButton.attr("aria-label",this.tt.showCaptions),this.$ccButton.find("span.able-clipped").text(this.tt.showCaptions))),o>1&&(this.$ccButton.attr({"aria-label":this.tt.captions,"aria-haspopup":"true","aria-controls":this.mediaId+"-captions-menu","aria-expanded":"false"}),this.$ccButton.find("span.able-clipped").text(this.tt.captions))),this.$chaptersButton&&this.$chaptersButton.attr({"aria-label":this.tt.chapters,"aria-haspopup":"true","aria-controls":this.mediaId+"-chapters-menu","aria-expanded":"false"}),this.$fullscreenButton&&(this.isFullscreen()?(this.$fullscreenButton.attr("aria-label",this.tt.exitFullScreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-expand").addClass("icon-fullscreen-collapse"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.exitFullScreen)):"svg"===this.iconType?(u=this.getSvgData("fullscreen-collapse"),this.$fullscreenButton.find("svg").attr("viewBox",u[0]),this.$fullscreenButton.find("path").attr("d",u[1])):this.$fullscreenButton.find("img").attr("src",this.fullscreenCollapseButtonImg)):(this.$fullscreenButton.attr("aria-label",this.tt.enterFullScreen),"font"===this.iconType?(this.$fullscreenButton.find("span").first().removeClass("icon-fullscreen-collapse").addClass("icon-fullscreen-expand"),this.$fullscreenButton.find("span.able-clipped").text(this.tt.enterFullScreen)):"svg"===this.iconType?(u=this.getSvgData("fullscreen-expand"),this.$fullscreenButton.find("svg").attr("viewBox",u[0]),this.$fullscreenButton.find("path").attr("d",u[1])):this.$fullscreenButton.find("img").attr("src",this.fullscreenExpandButtonImg))),"undefined"!=typeof this.$bigPlayButton&&(this.isPaused()&&!this.seekBar.tracking?(this.hideBigPlayButton||this.$bigPlayButton.show(),this.isFullscreen()?(this.$bigPlayButton.width(a(window).width()),this.$bigPlayButton.height(a(window).height())):(this.$bigPlayButton.width(this.$mediaContainer.width()),this.$bigPlayButton.height(this.$mediaContainer.height()))):this.$bigPlayButton.hide()),this.transcriptType&&(1===this.prefAutoScrollTranscript?(this.autoScrollTranscript=!0,this.$autoScrollTranscriptCheckbox.prop("checked",!0)):(this.autoScrollTranscript=!1,this.$autoScrollTranscriptCheckbox.prop("checked",!1)),this.autoScrollTranscript&&this.currentHighlight&&(q=Math.floor(a(".able-transcript").scrollTop()+a(this.currentHighlight).position().top-a(".able-transcript").height()/2+a(this.currentHighlight).height()/2),q!==Math.floor(a(".able-transcript").scrollTop())&&(this.scrollingTranscript=!0,a(".able-transcript").scrollTop(q)))),"html5"===this.player?this.media.buffered.length>0&&(p=this.media.buffered.end(0),this.useChapterTimes?(p>this.chapterDuration&&(p=this.chapterDuration),this.seekBar&&this.seekBar.setBuffered(p/this.chapterDuration)):this.seekBar&&this.seekBar.setBuffered(p/c)):"jw"===this.player&&this.jwPlayer?this.seekBar&&this.seekBar.setBuffered(this.jwPlayer.getBuffer()/100):"youtube"===this.player&&this.seekBar&&this.seekBar.setBuffered(this.youTubePlayer.getVideoLoadedFraction()))},AblePlayer.prototype.getHiddenWidth=function(a){var b=a.clone().appendTo("body"),c=b.outerWidth();return b.remove(),c},AblePlayer.prototype.handlePlay=function(a){this.isPaused()?this.playMedia():this.pauseMedia(),this.refreshControls()},AblePlayer.prototype.handleRestart=function(){this.seekTo(0),this.refreshControls()},AblePlayer.prototype.handleRewind=function(){var a,b;a=this.getElapsed(),b=a-this.seekInterval,this.useChapterTimes?b<this.currentChapter.start&&(b=this.currentChapter.start):0>b&&(b=0),this.seekTo(b)},AblePlayer.prototype.handleFastForward=function(){var a,b,c,d;a=this.getElapsed(),b=this.getDuration(),d=this.chapters.length-1,c=a+this.seekInterval,this.useChapterTimes?this.chapters[d]==this.currentChapter?c>b||c>this.currentChapter.end?c=Math.min(b,this.currentChapter.end):b%c<this.seekInterval&&(c=Math.min(b,this.currentChapter.end)):c>this.currentChapter.end&&(c=this.currentChapter.end):c>b&&(c=b),this.seekTo(c)},AblePlayer.prototype.handleRateIncrease=function(){this.changeRate(1)},AblePlayer.prototype.handleRateDecrease=function(){this.changeRate(-1)},AblePlayer.prototype.changeRate=function(a){if("html5"===this.player)this.setPlaybackRate(this.getPlaybackRate()+.25*a);else if("youtube"===this.player){var b=this.youTubePlayer.getAvailablePlaybackRates(),c=this.getPlaybackRate(),d=b.indexOf(c);-1===d||(d+=a,d<b.length&&d>=0&&this.setPlaybackRate(b[d]))}},AblePlayer.prototype.handleCaptionToggle=function(){var a;if(this.hidingPopup)return this.hidingPopup=!1,!1;if(a=this.captions.length?this.captions:this.ytCaptions.length?this.ytCaptions:[],1===a.length){if(this.captionsOn===!0)this.captionsOn=!1,this.prefCaptions=0,this.updateCookie("prefCaptions"),this.usingYouTubeCaptions?this.youTubePlayer.unloadModule(this.ytCaptionModule):this.$captionsWrapper.hide();else{this.captionsOn=!0,this.prefCaptions=1,this.updateCookie("prefCaptions"),this.usingYouTubeCaptions?"undefined"!=typeof this.ytCaptionModule&&this.youTubePlayer.loadModule(this.ytCaptionModule):this.$captionsWrapper.show();for(var b=0;b<a.length;b++)a[b].def===!0&&(this.selectedCaptions=a[b]);this.selectedCaptions=this.captions[0],this.descriptions.length>=0&&(this.selectedDescriptions=this.descriptions[0])}this.refreshControls()}else this.captionsPopup&&this.captionsPopup.is(":visible")?(this.captionsPopup.hide(),this.hidingPopup=!1,this.$ccButton.attr("aria-expanded","false").focus()):(this.closePopups(),this.captionsPopup&&(this.captionsPopup.show(),this.$ccButton.attr("aria-expanded","true"),this.captionsPopup.css("top",this.$ccButton.position().top-this.captionsPopup.outerHeight()),this.captionsPopup.css("left",this.$ccButton.position().left),this.captionsPopup.find("li").removeClass("able-focus"),this.captionsPopup.find("li").first().focus().addClass("able-focus")))},AblePlayer.prototype.handleChapters=function(){return this.hidingPopup?(this.hidingPopup=!1,!1):void(this.chaptersPopup.is(":visible")?(this.chaptersPopup.hide(),this.hidingPopup=!1,this.$chaptersButton.attr("aria-expanded","false").focus()):(this.closePopups(),this.chaptersPopup.show(),this.$chaptersButton.attr("aria-expanded","true"),this.chaptersPopup.css("top",this.$chaptersButton.position().top-this.chaptersPopup.outerHeight()),this.chaptersPopup.css("left",this.$chaptersButton.position().left),this.chaptersPopup.find("li").removeClass("able-focus"),this.chaptersPopup.find('li[aria-checked="true"]').length?this.chaptersPopup.find('li[aria-checked="true"]').focus().addClass("able-focus"):this.chaptersPopup.find("li").first().addClass("able-focus").attr("aria-checked","true").focus()))},AblePlayer.prototype.handleDescriptionToggle=function(){this.descOn=!this.descOn,this.prefDesc=+this.descOn,this.updateCookie("prefDesc"),this.refreshingDesc=!0,this.initDescription(),this.refreshControls()},AblePlayer.prototype.handlePrefsClick=function(a){var b,c,d;return this.hidingPopup?(this.hidingPopup=!1,!1):void(this.prefsPopup.is(":visible")?(this.prefsPopup.hide(),this.hidingPopup=!1,this.$prefsButton.attr("aria-expanded","false").focus(),this.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","-1")):(this.closePopups(),this.prefsPopup.show(),this.$prefsButton.attr("aria-expanded","true"),b=this.$prefsButton.position(),c=this.$ableDiv.width()-5,d=c-this.prefsPopup.width(),this.prefsPopup.css("top",b.top-this.prefsPopup.outerHeight()),this.prefsPopup.css("left",d),this.prefsPopup.find("li").removeClass("able-focus").attr("tabindex","0"),this.prefsPopup.find("li").first().focus().addClass("able-focus")))},AblePlayer.prototype.handleHelpClick=function(){this.setFullscreen(!1),this.helpDialog.show()},AblePlayer.prototype.handleTranscriptToggle=function(){this.$transcriptDiv.is(":visible")?(this.$transcriptArea.hide(),this.$transcriptButton.addClass("buttonOff").attr("aria-label",this.tt.showTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.showTranscript),this.prefTranscript=0,this.$transcriptButton.focus().addClass("able-focus")):(this.positionDraggableWindow("transcript"),this.$transcriptArea.show(),this.$transcriptButton.removeClass("buttonOff").attr("aria-label",this.tt.hideTranscript),this.$transcriptButton.find("span.able-clipped").text(this.tt.hideTranscript),this.prefTranscript=1),this.updateCookie("prefTranscript")},AblePlayer.prototype.handleSignToggle=function(){this.$signWindow.is(":visible")?(this.$signWindow.hide(),this.$signButton.addClass("buttonOff").attr("aria-label",this.tt.showSign),this.$signButton.find("span.able-clipped").text(this.tt.showSign),this.prefSign=0,this.$signButton.focus().addClass("able-focus")):(this.positionDraggableWindow("sign"),this.$signWindow.show(),this.$signButton.removeClass("buttonOff").attr("aria-label",this.tt.hideSign),this.$signButton.find("span.able-clipped").text(this.tt.hideSign),this.prefSign=1),this.updateCookie("prefSign")},AblePlayer.prototype.isFullscreen=function(){return this.nativeFullscreenSupported()?document.fullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreenElement||document.msFullscreenElement?!0:!1:this.modalFullscreenActive?!0:!1},AblePlayer.prototype.setFullscreen=function(b){if(this.isFullscreen()!=b){var c=this,d=this.$ableWrapper,e=d[0];if(this.nativeFullscreenSupported())b?(this.preFullScreenWidth=this.$ableWrapper.width(),this.preFullScreenHeight=this.$ableWrapper.height(),e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()):document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),a(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){c.isFullscreen()||(c.restoringAfterFullScreen=!0,c.resizePlayer(c.preFullScreenWidth,c.preFullScreenHeight))});else{if(!this.fullscreenDialog){var f=a("<div>"),g=a("<p>",{"class":"able-screenreader-alert"}).text(this.tt.fullscreen);f.append(g),this.fullscreenDialog=new AccessibleDialog(f,this.$fullscreenButton,"dialog","Fullscreen video player",g,this.tt.exitFullScreen,"100%",!0,function(){c.handleFullscreenToggle()}),a("body").append(f)}var h=this.isPaused();if(b){this.modalFullscreenActive=!0,this.fullscreenDialog.show(),this.$modalFullscreenPlaceholder=a('<div class="placeholder">'),this.$modalFullscreenPlaceholder.insertAfter(d),d.appendTo(this.fullscreenDialog.modal),d===this.$ableColumnLeft&&d.width("100%");var i=a(window).height()-this.$playerDiv.height();this.$descDiv.is(":hidden")||(i-=this.$descDiv.height()),this.resizePlayer(a(window).width(),i)}else this.modalFullscreenActive=!1,d===this.$ableColumnLeft&&d.width("50%"),d.insertAfter(this.$modalFullscreenPlaceholder),this.$modalFullscreenPlaceholder.remove(),this.fullscreenDialog.hide(),this.resizePlayer(this.$ableWrapper.width(),this.$ableWrapper.height());!h&&this.isPaused()&&this.playMedia()}this.refreshControls()}},AblePlayer.prototype.handleFullscreenToggle=function(){var a=this.isPaused();this.setFullscreen(!this.isFullscreen()),a?this.pauseMedia():a||this.playMedia()},AblePlayer.prototype.handleTranscriptLockToggle=function(a){this.autoScrollTranscript=a,this.prefAutoScrollTranscript=+a,this.updateCookie("prefAutoScrollTranscript"),this.refreshControls()},AblePlayer.prototype.showTooltip=function(a){a.is(":animated")?a.stop(!0,!0).show().delay(4e3).fadeOut(1e3):a.stop().show().delay(4e3).fadeOut(1e3)},AblePlayer.prototype.showAlert=function(a,b){var c,d,e,f,g;c=this,"transcript"===b?(d=this.$transcriptAlert,e=this.$transcriptArea):"sign"===b?(d=this.$signAlert,e=this.$signWindow):d="screenreader"===b?this.$srAlertBox:this.$alertBox,d.show(),d.text(a),"transcript"==b||"sign"===b?(f=e.width()>d.width()?e.width()/2-d.width()/2:10,"sign"===b?g=e.height()/3*2:"transcript"===b&&(g=this.$transcriptToolbar.height()+30),d.css({top:g+"px",left:f+"px"})):"screenreader"!==b&&d.css({left:this.$playerDiv.width()/2-d.width()/2}),"screenreader"!==b&&setTimeout(function(){d.fadeOut(300)},3e3)},AblePlayer.prototype.showedAlert=function(a){return"transcript"===a?this.showedTranscriptAlert?!0:!1:"sign"===a&&this.showedSignAlert?!0:!1},AblePlayer.prototype.resizePlayer=function(a,b){var c,d,e,f,g,h;this.isFullscreen()?("undefined"!=typeof this.$vidcapContainer&&(this.$ableWrapper.css({width:a+"px","max-width":""}),this.$vidcapContainer.css({height:b+"px",width:a}),this.$media.css({height:b+"px",width:a})),"undefined"!=typeof this.$transcriptArea&&this.retrieveOffscreenWindow("transcript",a,b),"undefined"!=typeof this.$signWindow&&this.retrieveOffscreenWindow("sign",a,b)):this.restoringAfterFullScreen&&(a=this.preFullScreenWidth,b=this.preFullScreenHeight,this.restoringAfterFullScreen=!1,this.$ableWrapper.css({"max-width":a+"px",width:""}),"undefined"!=typeof this.$vidcapContainer&&this.$vidcapContainer.css({height:"",width:""}),this.$media.css({width:"100%",height:"auto"})),"youtube"===this.player&&this.youTubePlayer?this.youTubePlayer.setSize(a,b):"jw"===this.player&&this.jwPlayer&&("audio"===this.mediaType?this.jwPlayer.resize(a,0):this.jwPlayer.resize(a,c)),"undefined"!=typeof this.$captionsDiv&&(d=400,e=1e3,f=parseInt(this.prefCaptionsSize,10),g=a>e?1.5*f:d>a?f/1.5:f,h=g+25,this.$captionsDiv.css("font-size",g+"%"),this.$captionsWrapper.css("line-height",h+"%")),this.refreshControls()},AblePlayer.prototype.retrieveOffscreenWindow=function(a,b,c){var d,e,f,g,h,i,j,k;"transcript"==a?d=this.$transcriptArea:"sign"==a&&(d=this.$signWindow),i=d.width(),k=d.height(),e=d.position(),f=e.top,g=e.left,h=g+i,j=f+k,0>f&&(f=10,d.css("top",f)),0>g&&(g=10,d.css("left",g)),h>b&&(g=b-20-i,d.css("left",g)),j>c&&(f=c-10-k,d.css("top",f))},AblePlayer.prototype.getHighestZIndex=function(){var b,c,d;return b=0,c=a("body *").not(".able-modal-dialog,.able-modal-dialog *,.able-modal-overlay,.able-modal-overlay *,.able-sign-window,.able-transcript-area"),c.each(function(){d=a(this).css("z-index"),Number.isInteger(+d)&&parseInt(d)>b&&(b=parseInt(d))}),b},AblePlayer.prototype.updateZIndex=function(a){var b,c,d,e,f,g,h;if(b=8e3,c=7e3,d=this.getHighestZIndex(),"undefined"==typeof this.$transcriptArea||"undefined"==typeof this.$signWindow)return"undefined"!=typeof this.$transcriptArea?(e=parseInt(this.$transcriptArea.css("z-index")),e>c&&this.$transcriptArea.css("z-index",c)):"undefined"!=typeof this.$signWindow&&(f=parseInt(this.$signWindow.css("z-index")),f>b&&this.$signWindow.css("z-index",b)),!1;if(e=parseInt(this.$transcriptArea.css("z-index")),f=parseInt(this.$signWindow.css("z-index")),e===f)g=b,h=c;else if(e>f){if("transcript"===a)return!1;g=e,h=f}else{if("sign"===a)return!1;g=f,h=e}"transcript"===a?(this.$transcriptArea.css("z-index",g),this.$signWindow.css("z-index",h)):"sign"===a&&(this.$signWindow.css("z-index",g),this.$transcriptArea.css("z-index",h))},AblePlayer.prototype.syncTrackLanguages=function(a,b){var c,d,e,f,g;for(c=0;c<this.captions.length;c++)this.captions[c].language===b&&(d=this.captions[c]);for(c=0;c<this.chapters.length;c++)this.chapters[c].language===b&&(f=this.chapters[c]);for(c=0;c<this.descriptions.length;c++)this.descriptions[c].language===b&&(e=this.descriptions[c]);for(c=0;c<this.meta.length;c++)this.meta[c].language===b&&(g=this.meta[c]);this.transcriptLang=b,"init"===a||"captions"===a?(this.captionLang=b,this.selectedCaptions=d,this.selectedChapters=f,this.selectedDescriptions=e,this.selectedMeta=g,this.transcriptCaptions=d,this.transcriptChapters=f,this.transcriptDescriptions=e,this.updateChaptersList()):"transcript"===a&&(this.transcriptCaptions=d,this.transcriptChapters=f,this.transcriptDescriptions=e),this.updateTranscript()}}(jQuery),function(a){AblePlayer.prototype.updateCaption=function(a){this.usingYouTubeCaptions||"undefined"==typeof this.$captionsWrapper||(this.captionsOn?(this.$captionsWrapper.show(),this.showCaptions(a||this.getElapsed())):this.$captionsWrapper&&(this.$captionsWrapper.hide(),this.prefCaptions=0))},AblePlayer.prototype.updateCaptionsMenu=function(a){this.captionsPopup.find("li").attr("aria-checked","false"),"undefined"==typeof a?this.captionsPopup.find("li").last().attr("aria-checked","true"):this.captionsPopup.find("li[lang="+a+"]").attr("aria-checked","true")},AblePlayer.prototype.getCaptionClickFunction=function(a){var b=this;return function(){b.selectedCaptions=a,b.captionLang=a.language,b.currentCaption=-1,b.usingYouTubeCaptions?b.captionsOn?"undefined"!=typeof b.ytCaptionModule&&b.youTubePlayer.setOption(b.ytCaptionModule,"track",{languageCode:b.captionLang}):(b.resettingYouTubeCaptions=!0,b.youTubePlayer.loadModule(b.ytCaptionModule)):(b.syncTrackLanguages("captions",b.captionLang),this.swappingSrc||(b.updateCaption(),b.showDescription(b.getElapsed()))),b.captionsOn=!0,b.hidingPopup=!0,b.captionsPopup.hide(),setTimeout(function(){b.hidingPopup=!1},100),b.updateCaptionsMenu(b.captionLang),b.$ccButton.focus(),b.prefCaptions=1,b.updateCookie("prefCaptions"),b.refreshControls()}},AblePlayer.prototype.getCaptionOffFunction=function(){var a=this;return function(){"youtube"==a.player&&a.youTubePlayer.unloadModule(a.ytCaptionModule),a.captionsOn=!1,a.currentCaption=-1,a.hidingPopup=!0,a.captionsPopup.hide(),setTimeout(function(){a.hidingPopup=!1},100),a.updateCaptionsMenu(),a.$ccButton.focus(),a.prefCaptions=0,a.updateCookie("prefCaptions"),this.swappingSrc||(a.refreshControls(),a.updateCaption())}},AblePlayer.prototype.showCaptions=function(a){var b,c,d,e;for(e=this.selectedCaptions?this.selectedCaptions.cues:this.captions.length>=1?this.captions[0].cues:[],b=0;b<e.length;b++)if(e[b].start<=a&&e[b].end>a){c=b;break}"undefined"!=typeof c?this.currentCaption!==c&&(d=this.flattenCueForCaption(e[c]).replace("\n","<br>"),this.$captionsDiv.html(d),this.currentCaption=c,0===d.length?this.$captionsDiv.css("display","none"):this.$captionsDiv.css("display","inline-block")):(this.$captionsDiv.html(""),this.currentCaption=-1)},AblePlayer.prototype.flattenCueForCaption=function(a){var b=[],c=function(a){var b,d=[];if("string"===a.type)d.push(a.value);else if("v"===a.type)for(d.push("("+a.value+")"),b=0;b<a.children.length;b++)d.push(c(a.children[b]));else if("i"===a.type){
for(d.push("<em>"),b=0;b<a.children.length;b++)d.push(c(a.children[b]));d.push("</em>")}else if("b"===a.type){for(d.push("<strong>"),b=0;b<a.children.length;b++)d.push(c(a.children[b]));d.push("</strong>")}else for(b=0;b<a.children.length;b++)d.push(c(a.children[b]));return d.join("")};if("undefined"!=typeof a.components)for(var d=0;d<a.components.children.length;d++)b.push(c(a.components.children[d]));return b.join("")},AblePlayer.prototype.getCaptionsOptions=function(a){var b=[];switch(a){case"prefCaptionsFont":b[0]=this.tt.serif,b[1]=this.tt.sans,b[3]=this.tt.cursive,b[4]=this.tt.fantasy,b[2]=this.tt.monospace;break;case"prefCaptionsColor":case"prefCaptionsBGColor":b[0]=["white",this.tt.white],b[1]=["yellow",this.tt.yellow],b[2]=["green",this.tt.green],b[3]=["cyan",this.tt.cyan],b[4]=["blue",this.tt.blue],b[5]=["magenta",this.tt.magenta],b[6]=["red",this.tt.red],b[7]=["black",this.tt.black];break;case"prefCaptionsSize":b[0]="75%",b[1]="100%",b[2]="125%",b[3]="150%",b[4]="200%";break;case"prefCaptionsOpacity":b[0]="0%",b[1]="25%",b[2]="50%",b[3]="75%",b[4]="100%";break;case"prefCaptionsStyle":b[0]=this.tt.captionsStylePopOn,b[1]=this.tt.captionsStyleRollUp;break;case"prefCaptionsPosition":b[0]="overlay",b[1]="below"}return b},AblePlayer.prototype.translatePrefs=function(a,b,c){if("youtube"==c&&"size"===a)switch(b){case"75%":return-1;case"100%":return 0;case"125%":return 1;case"150%":return 2;case"200%":return 3}return!1},AblePlayer.prototype.stylizeCaptions=function(b,c){var d,e,f,g;"undefined"!=typeof b&&("prefCaptionsPosition"==c?this.positionCaptions():"undefined"!=typeof c?("prefCaptionsFont"===c?d="font-family":"prefCaptionsSize"===c?d="font-size":"prefCaptionsColor"===c?d="color":"prefCaptionsBGColor"===c?d="background-color":"prefCaptionsOpacity"===c&&(d="opacity"),e="prefCaptionsOpacity"===c?parseFloat(a("#"+this.mediaId+"_"+c).val())/100:a("#"+this.mediaId+"_"+c).val(),b.css(d,e)):(f=parseFloat(this.prefCaptionsOpacity)/100,b.css({"font-family":this.prefCaptionsFont,"font-size":this.prefCaptionsSize,color:this.prefCaptionsColor,"background-color":this.prefCaptionsBGColor,opacity:f}),b===this.$captionsDiv&&"undefined"!=typeof this.$captionsWrapper&&(g=parseInt(this.prefCaptionsSize,10)+25,this.$captionsWrapper.css("line-height",g+"%")),"below"===this.prefCaptionsPosition?"undefined"!=typeof this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"}):"overlay"===this.prefCaptionsPosition&&"undefined"!=typeof this.$captionsWrapper&&this.$captionsWrapper.css({"background-color":"transparent",opacity:""}),this.positionCaptions()))},AblePlayer.prototype.positionCaptions=function(a){"undefined"==typeof a&&(a=this.prefCaptionsPosition),"undefined"!=typeof this.$captionsWrapper&&("below"==a?(this.$captionsWrapper.removeClass("able-captions-overlay").addClass("able-captions-below"),this.$captionsWrapper.css({"background-color":this.prefCaptionsBGColor,opacity:"1"})):(this.$captionsWrapper.removeClass("able-captions-below").addClass("able-captions-overlay"),this.$captionsWrapper.css({"background-color":"transparent",opacity:""})))}}(jQuery),function(a){AblePlayer.prototype.populateChaptersDiv=function(){var b,c,d,e;a("#"+this.chaptersDivLocation)&&(this.$chaptersDiv=a("#"+this.chaptersDivLocation),this.$chaptersDiv.addClass("able-chapters-div"),this.chaptersTitle&&(b=this.getNextHeadingLevel(this.$chaptersDiv),c="h"+b.toString(),d=this.mediaId+"-chapters-heading",e=a("<"+c+">",{"class":"able-chapters-heading",id:d}).text(this.chaptersTitle),this.$chaptersDiv.append(e)),this.$chaptersNav=a("<nav>"),this.chaptersTitle?this.$chaptersNav.attr("aria-labelledby",d):this.$chaptersNav.attr("aria-label",this.tt.chapters),this.$chaptersDiv.append(this.$chaptersNav),this.updateChaptersList())},AblePlayer.prototype.updateChaptersList=function(){var b,c,d,e,f,g,h,i,j,k,d,l;if(b=this,!this.$chaptersNav)return!1;if("undefined"==typeof this.useChapterTimes&&("chapter"===this.seekbarScope&&this.selectedChapters.cues.length?this.useChapterTimes=!0:this.useChapterTimes=!1),c=this.useChapterTimes?this.selectedChapters.cues:this.chapters.length>=1?this.chapters[0].cues:[],c.length>0){for(d=a("<ul>"),e=0;e<c.length;e++)f=e,g=a("<li></li>"),h=a("<button>",{type:"button",val:f}).text(this.flattenCueForCaption(c[f])),j=function(c){return function(){b.seekTrigger="chapter",k=a(this).closest("li"),d=a(this).closest("ul").find("li"),l=d.index(k),d.removeClass("able-current-chapter").attr("aria-selected",""),k.addClass("able-current-chapter").attr("aria-selected","true"),b.updateChapter(c),b.seekTo(c)}},h.on("click",j(c[f].start)),h.on("focus",function(){a(this).closest("ul").find("li").removeClass("able-focus"),a(this).closest("li").addClass("able-focus")}),g.on("hover",function(){a(this).closest("ul").find("li").removeClass("able-focus"),a(this).addClass("able-focus")}),g.on("mouseleave",function(){a(this).removeClass("able-focus")}),h.on("blur",function(){a(this).closest("li").removeClass("able-focus")}),g.append(h),d.append(g),this.defaultChapter===c[f].id&&(h.attr("aria-selected","true").parent("li").addClass("able-current-chapter"),this.currentChapter=c[f],i=!0);i||(this.currentChapter=c[0],d.find("button").first().attr("aria-selected","true").parent("li").addClass("able-current-chapter")),this.$chaptersNav.html(d)}return!1},AblePlayer.prototype.seekToChapter=function(a){for(var b=0;b<this.selectedChapters.cues.length;){if(this.selectedChapters.cues[b].id==a){this.seekTo(this.selectedChapters.cues[b].start),this.updateChapter(this.selectedChapters.cues[b].start);break}b++}},AblePlayer.prototype.updateChapter=function(a){if("undefined"!=typeof this.selectedChapters){var b,c,d;for(b=this.selectedChapters.cues,c=0;c<b.length;c++)if(b[c].start<=a&&b[c].end>a){d=c;break}"undefined"!=typeof d&&this.currentChapter!==b[d]&&(this.currentChapter=b[d],this.useChapterTimes&&(this.chapterDuration=this.getChapterDuration(),this.seekIntervalCalculated=!1),"undefined"!=typeof this.$chaptersDiv&&(this.$chaptersDiv.find("ul").find("li").removeClass("able-current-chapter").attr("aria-selected",""),this.$chaptersDiv.find("ul").find("li").eq(d).addClass("able-current-chapter").attr("aria-selected","true")))}},AblePlayer.prototype.getChapterDuration=function(){var a,b,c;return"undefined"==typeof this.currentChapter?0:(a=this.getDuration(),b=this.selectedChapters.cues.length-1,this.selectedChapters.cues[b]==this.currentChapter&&this.currentChapter.end!==a?(c=a,this.currentChapter.end=a):c=this.currentChapter.end,c-this.currentChapter.start)},AblePlayer.prototype.getChapterElapsed=function(){if("undefined"==typeof this.currentChapter)return 0;var a=(this.getDuration(),this.getElapsed());return a>this.currentChapter.start?a-this.currentChapter.start:0},AblePlayer.prototype.convertChapterTimeToVideoTime=function(a){if("undefined"!=typeof this.currentChapter){var b=this.currentChapter.start+a;return b>this.currentChapter.end?this.currentChapter.end:b}return a},AblePlayer.prototype.getChapterClickFunction=function(a){var b=this;return function(){b.seekTrigger="chapter",b.seekTo(a),b.hidingPopup=!0,b.chaptersPopup.hide(),setTimeout(function(){b.hidingPopup=!1},100),b.$chaptersButton.focus()}}}(jQuery),function(a){AblePlayer.prototype.updateMeta=function(a){this.hasMeta&&("text"===this.metaType?(this.$metaDiv.show(),this.showMeta(a||this.getElapsed())):this.showMeta(a||this.getElapsed()))},AblePlayer.prototype.showMeta=function(b){var c,d,e,f,g,h,i,j,k,l;for(c=[],f=this.meta.length>=1?this.meta:[],d=0;d<f.length;d++)if(f[d].start<=b&&f[d].end>b){e=d;break}if("undefined"!=typeof e){if(this.currentMeta!==e){if("text"===this.metaType)this.$metaDiv.html(this.flattenCueForMeta(f[e]).replace("\n","<br>"));else if("selector"===this.metaType){for(g=this.flattenCueForMeta(f[e]),h=g.split("\n"),i=0;i<h.length;i++)j=a.trim(h[i]),"pause"===j.toLowerCase().trim()?(this.hideBigPlayButton=!0,this.pauseMedia()):"focus:"==j.toLowerCase().substring(0,6)?(l=j.substring(6).trim(),a(l).length&&a(l).focus()):a(j).length&&(k=parseInt(a(j).attr("data-duration")),"undefined"==typeof k||isNaN(k)?a(j).show():a(j).show().delay(k).fadeOut(),this.visibleSelectors.push(j),c.push(j));if(this.visibleSelectors&&this.visibleSelectors.length&&this.visibleSelectors.length!==c.length)for(i=this.visibleSelectors.length-1;i>=0;i--)-1==a.inArray(this.visibleSelectors[i],c)&&(a(this.visibleSelectors[i]).hide(),this.visibleSelectors.splice(i,1))}this.currentMeta=e}}else{if("undefined"!=typeof this.$metaDiv&&this.$metaDiv.html(""),this.visibleSelectors&&this.visibleSelectors.length){for(i=0;i<this.visibleSelectors.length;i++)a(this.visibleSelectors[i]).hide();this.visibleSelectors=[]}this.currentMeta=-1}},AblePlayer.prototype.flattenCueForMeta=function(a){for(var b=[],c=function(a){var b,d=[];if("string"===a.type)d.push(a.value);else if("v"===a.type)for(d.push("["+a.value+"]"),b=0;b<a.children.length;b++)d.push(c(a.children[b]));else for(b=0;b<a.children.length;b++)d.push(c(a.children[b]));return d.join("")},d=0;d<a.components.children.length;d++)b.push(c(a.components.children[d]));return b.join("")}}(jQuery),function(a){AblePlayer.prototype.injectTranscriptArea=function(){this.$transcriptArea=a("<div>",{"class":"able-transcript-area",tabindex:"-1"}),this.$transcriptToolbar=a("<div>",{"class":"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$transcriptDiv=a("<div>",{"class":"able-transcript"}),this.$autoScrollTranscriptCheckbox=a('<input id="autoscroll-transcript-checkbox" type="checkbox">'),this.$transcriptToolbar.append(a('<label for="autoscroll-transcript-checkbox">'+this.tt.autoScroll+": </label>"),this.$autoScrollTranscriptCheckbox),this.$transcriptLanguageSelect=a('<select id="transcript-language-select">'),this.$unknownTranscriptOption=a('<option val="unknown">'+this.tt.unknown+"</option>"),this.$transcriptLanguageSelect.append(this.$unknownTranscriptOption),this.$transcriptLanguageSelect.prop("disabled",!0);var b=a('<div class="transcript-language-select-wrapper">');this.$transcriptLanguageSelectContainer=b,b.append(a('<label for="transcript-language-select">'+this.tt.language+": </label>"),this.$transcriptLanguageSelect),this.$transcriptToolbar.append(b),this.$transcriptArea.append(this.$transcriptToolbar,this.$transcriptDiv),this.transcriptDivLocation?a("#"+this.transcriptDivLocation).append(this.$transcriptArea):this.$ableWrapper.append(this.$transcriptArea),this.transcriptDivLocation||(this.initDragDrop("transcript"),1===this.prefTranscript&&this.positionDraggableWindow("transcript",this.getDefaultWidth("transcript"))),this.prefTranscript||this.transcriptDivLocation||this.$transcriptArea.hide()},AblePlayer.prototype.addTranscriptAreaEvents=function(){var a=this;this.$autoScrollTranscriptCheckbox.click(function(){a.handleTranscriptLockToggle(a.$autoScrollTranscriptCheckbox.prop("checked"))}),this.$transcriptDiv.on("mousewheel DOMMouseScroll click scroll",function(b){a.scrollingTranscript||(a.autoScrollTranscript=!1,a.refreshControls()),a.scrollingTranscript=!1}),"undefined"!=typeof this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.on("click mousedown",function(a){a.stopPropagation()}),this.$transcriptLanguageSelect.on("change",function(){var b=a.$transcriptLanguageSelect.val();a.syncTrackLanguages("transcript",b)}))},AblePlayer.prototype.transcriptSrcHasRequiredParts=function(){return a("#"+this.transcriptSrc).length&&(this.$transcriptArea=a("#"+this.transcriptSrc),this.$transcriptArea.find(".able-window-toolbar").length&&(this.$transcriptToolbar=this.$transcriptArea.find(".able-window-toolbar").eq(0),this.$transcriptArea.find(".able-transcript").length&&(this.$transcriptDiv=this.$transcriptArea.find(".able-transcript").eq(0),this.$transcriptArea.find(".able-transcript-seekpoint").length)))?(this.$transcriptSeekpoints=this.$transcriptArea.find(".able-transcript-seekpoint"),!0):!1},AblePlayer.prototype.setupManualTranscript=function(){this.$autoScrollTranscriptCheckbox=a('<input id="autoscroll-transcript-checkbox" type="checkbox">'),this.$transcriptToolbar.append(a('<label for="autoscroll-transcript-checkbox">'+this.tt.autoScroll+": </label>"),this.$autoScrollTranscriptCheckbox)},AblePlayer.prototype.updateTranscript=function(){if(this.transcriptType){if("external"===this.transcriptType||"popup"===this.transcriptType){var b,c,d;if(this.transcriptLang?c=this.transcriptCaptions.cues:this.transcriptCaptions?(this.transcriptLang=this.transcriptCaptions.language,c=this.transcriptCaptions.cues):this.selectedCaptions&&(this.transcriptLang=this.captionLang,c=this.selectedCaptions.cues),this.transcriptChapters)b=this.transcriptChapters.cues;else if(this.chapters.length>0){if(this.transcriptLang)for(var e=0;e<this.chapters.length;e++)this.chapters[e].language===this.transcriptLang&&(b=this.chapters[e].cues);"undefined"==typeof b&&(b=this.chapters[0].cues||[])}if(this.transcriptDescriptions)d=this.transcriptDescriptions.cues;else if(this.descriptions.length>0){if(this.transcriptLang)for(var e=0;e<this.descriptions.length;e++)this.descriptions[e].language===this.transcriptLang&&(d=this.descriptions[e].cues);d||(d=this.descriptions[0].cues||[])}var f=this.generateTranscript(b||[],c||[],d||[]);this.$transcriptDiv.html(f),this.$transcriptLanguageSelect&&(this.$transcriptLanguageSelect.find("option:selected").prop("selected",!1),this.$transcriptLanguageSelect.find("option[lang="+this.transcriptLang+"]").prop("selected",!0))}var g=this;1===this.prefTabbable&&a(".able-transcript span.able-transcript-seekpoint").attr("tabindex","0"),this.$transcriptArea.length>0&&this.$transcriptArea.find("span.able-transcript-seekpoint").click(function(b){g.seekTrigger="transcript";var c=parseFloat(a(this).attr("data-start"));c+=.01,g.seekingFromTranscript?g.seekingFromTranscript=!1:(g.seekingFromTranscript=!0,g.seekTo(c))})}},AblePlayer.prototype.highlightTranscript=function(b){if(this.transcriptType){var c,d,e=this;b=parseFloat(b),this.$transcriptArea.find("span.able-transcript-caption").each(function(){return c=parseFloat(a(this).attr("data-start")),d=parseFloat(a(this).attr("data-end")),b>=c&&d>=b?(e.$transcriptArea.find(".able-highlight").removeClass("able-highlight"),a(this).addClass("able-highlight"),!1):void 0}),e.currentHighlight=a(".able-highlight"),0===e.currentHighlight.length&&(e.currentHighlight=null)}},AblePlayer.prototype.generateTranscript=function(b,c,d){var e,f=this,g=a('<div class="able-transcript-container"></div>');if(g.attr("lang",this.transcriptLang),e="undefined"!=typeof this.transcriptTitle?this.transcriptTitle:this.lyricsMode?this.tt.lyricsTitle:this.tt.transcriptTitle,"undefined"==typeof this.transcriptDivLocation){var h=this.playerHeadingLevel;h+=1;var i=h+1;if(6>=h)var j="h"+h.toString();else var j="div";var k=a("<"+j+">");k.addClass("able-transcript-heading"),h>6&&k.attr({role:"heading","aria-level":h}),k.text(e),k.attr("lang",this.lang),g.append(k)}for(var l=0,m=0,n=0,o=function(b,c){if(6>=i)var d="h"+i.toString();else var d="div";var e=a("<"+d+">",{"class":"able-transcript-chapter-heading"});i>6&&e.attr({role:"heading","aria-level":i});for(var f=function(a){var b=[];if("string"===a.type)b.push(a.value);else for(var c=0;c<a.children.length;c++)b=b.concat(f(a.children[c]));return b},g=a("<span>",{"class":"able-transcript-seekpoint"}),h=0;h<c.components.children.length;h++)for(var j=f(c.components.children[h]),k=0;k<j.length;k++)g.append(j[k]);g.attr("data-start",c.start.toString()),g.attr("data-end",c.end.toString()),e.append(g),b.append(e)},p=function(b,c){var d=a("<div>",{"class":"able-transcript-desc"}),e=a("<span>",{"class":"able-hidden"});e.attr("lang",f.lang),e.text(f.tt.prefHeadingDescription+": "),d.append(e);for(var g=function(a){var b=[];if("string"===a.type)b.push(a.value);else for(var c=0;c<a.children.length;c++)b=b.concat(g(a.children[c]));return b},h=a("<span>",{"class":"able-transcript-seekpoint"}),i=0;i<c.components.children.length;i++)for(var j=g(c.components.children[i]),k=0;k<j.length;k++)h.append(j[k]);h.attr("data-start",c.start.toString()),h.attr("data-end",c.end.toString()),d.append(h),b.append(d)},q=function(b,c){for(var d=a("<span>",{"class":"able-transcript-seekpoint able-transcript-caption"}),e=function(b){var c=[],d=function(b){var c=[];if(""===b)return c;var e=b.indexOf("["),f=b.indexOf("]"),g=b.indexOf("("),h=b.indexOf(")"),i=-1!==e&&-1!==f,j=-1!==g&&-1!==h;if(j&&i&&g>e||i){c=c.concat(d(b.substring(0,e)));var k=a("<span>",{"class":"able-unspoken"});k.text(b.substring(e,f+1)),c.push(k),c=c.concat(d(b.substring(g,h+1)))}else if(j){c=c.concat(d(b.substring(0,g)));var k=a("<span>",{"class":"able-unspoken"});k.text(b.substring(e,f+1)),c.push(k),c=c.concat(d(b.substring(h+1)))}else c.push(b);return c};if("string"===b.type)c=c.concat(d(b.value));else if("v"===b.type){var f=a("<span>",{"class":"able-unspoken"});f.text("("+b.value+")"),c.push(f);for(var g=0;g<b.children.length;g++)for(var h=e(b.children[g]),i=0;i<h.length;i++)c.push(h[i])}else if("b"===b.type||"i"===b.type){if("b"===b.type)var j=a("<strong>");else if("i"===b.type)var j=a("<em>");for(var g=0;g<b.children.length;g++)for(var h=e(b.children[g]),i=0;i<h.length;i++)j.append(h[i]);("b"===b.type||"i"==b.type)&&c.push(j," ")}else for(var g=0;g<b.children.length;g++)c=c.concat(e(b.children[g]));return c},g=0;g<c.components.children.length;g++)for(var h=e(c.components.children[g]),i=0;i<h.length;i++){var j=h[i];"string"==typeof j&&(f.lyricsMode?j=j.replace("\n","<br>")+"<br>":j+=" "),d.append(j)}d.attr("data-start",c.start.toString()),d.attr("data-end",c.end.toString()),b.append(d),b.append(" \n")};l<b.length||n<d.length||m<c.length;){if(l<b.length&&n<d.length&&m<c.length)var r=Math.min(b[l].start,d[n].start,c[m].start);else if(l<b.length&&n<d.length)var r=Math.min(b[l].start,d[n].start);else if(l<b.length&&m<c.length)var r=Math.min(b[l].start,c[m].start);else if(n<d.length&&m<c.length)var r=Math.min(d[n].start,c[m].start);else var r=null;null!==r?"undefined"!=typeof b[l]&&b[l].start===r?(o(g,b[l]),l+=1):"undefined"!=typeof d[n]&&d[n].start===r?(p(g,d[n]),n+=1):(q(g,c[m]),m+=1):l<b.length?(o(g,b[l]),l+=1):n<d.length?(p(g,d[n]),n+=1):m<c.length&&(q(g,c[m]),m+=1)}var s=g.children(),t=0;return s.each(function(){a(this).hasClass("able-transcript-caption")?((-1!==a(this).text().indexOf("[")||-1!==a(this).text().indexOf("("))&&t>0&&(g.find(".able-block-temp").removeClass("able-block-temp").wrapAll('<div class="able-transcript-block"></div>'),t=0),a(this).addClass("able-block-temp"),t++):t>0&&(g.find(".able-block-temp").removeClass("able-block-temp").wrapAll('<div class="able-transcript-block"></div>'),t=0)}),g}}(jQuery),function(a){AblePlayer.prototype.showSearchResults=function(){var b=this;if(this.searchDiv&&this.searchString&&a("#"+this.SearchDiv)){var c=this.searchFor(this.searchString);if(c.length>0){var d=a("<p>",{"class":"able-search-results-summary"}),e="Found <strong>"+c.length+"</strong> matching items. ";e+="Click the time associated with any item ",e+="to play the video from that point.",d.html(e);for(var f=a("<ul>"),g=0;g<c.length;g++){var h=a("<li>",{}),i=this.secondsToTime(c[g].start),j=a("<span>",{"class":"able-search-results-time","data-start":c[g].start,title:i.title,tabindex:"0"});j.text(i.value),j.click(function(c){var d=parseFloat(a(this).attr("data-start"));d+=.01,b.seeking=!0,b.seekTo(d)});var k=a("<span>",{"class":"able-search-result-text"});k.html("..."+c[g].caption+"..."),h.append(j,k),f.append(h)}a("#"+this.searchDiv).append(d,f)}else{var l=a("<p>").text("No results found.");a("#"+this.searchDiv).append(l)}}},AblePlayer.prototype.searchFor=function(b){var c,d,e,f,g,h,i;e=[];var j=b.split(" ");if(this.captions.length>0){for(h=0;h<this.captions.length;h++)this.captions[h].language===this.searchLang&&(c=this.searchLang,d=this.captions[h].cues);if(d.length>0)for(g=0,h=0;h<d.length;h++)if(-1!==a.inArray(d[h].components.children[0].type,["string","i","b","u","v","c"]))for(f=this.flattenCueForCaption(d[h]),i=0;i<j.length;i++)if(-1!==f.indexOf(j[i])){e[g]=[],e[g].start=d[h].start,e[g].lang=c,e[g].caption=this.highlightSearchTerm(j,i,f),g++;break}}return e},AblePlayer.prototype.highlightSearchTerm=function(a,b,c){var d,e,f,g,h,i,j;for(d=b;d<a.length;d++)e=a[d],f=c.indexOf(e),-1!==f&&(g=e.length,g>0?(h=c.substring(0,f),i='<span class="able-search-term">'+e+"</span>",j=c.substring(f+g),c=h+i+j):(h='<span class="able-search-term">'+e+"</span>",i=c.substring(f+g),c=h+i));return c},AblePlayer.prototype.secondsToTime=function(a){var a=Math.floor(a),b=parseInt(a/3600,10)%24,c=parseInt(a/60,10)%60,d=a%60,e="",f="";b>0&&(e+=b+":"),10>c?(e+="0"+c+":",c>0&&(f+=c+" minutes ")):(e+=c+":",f+=c+" minutes "),10>d?(e+="0"+d,d>0&&(f+=d+" seconds ")):(e+=d,f+=d+" seconds ");var g=[];return g.value=e,g.title=f,g}}(jQuery),function(a){AblePlayer.prototype.onMediaUpdateTime=function(){var a=this.getElapsed();this.swappingSrc&&"undefined"!=typeof this.swapTime?this.swapTime===a&&this.playing&&(this.playMedia(),this.swappingSrc=!1,this.swapTime=null):this.startedPlaying&&(1===this.prefHighlight&&this.highlightTranscript(a),this.updateCaption(),this.showDescription(a),this.updateChapter(a),this.updateMeta(),this.refreshControls())},AblePlayer.prototype.onMediaPause=function(){this.controlsHidden&&(this.fadeControls("in"),this.controlsHidden=!1),this.hidingControls&&(window.clearTimeout(this.hideControlsTimeout),this.hidingControls=!1)},AblePlayer.prototype.onMediaComplete=function(){this.hasPlaylist&&(this.playlistIndex===this.$playlist.length-1?this.loop&&(this.playlistIndex=0,this.swapSource(0)):(this.playlistIndex++,this.swapSource(this.playlistIndex))),this.refreshControls()},AblePlayer.prototype.onMediaNewSourceLoad=function(){if(this.swappingSrc===!0)if(this.swapTime>0)this.seekTo(this.swapTime);else{if(this.playing)if("jw"===this.player){var a=this.jwPlayer;setTimeout(function(){a.play(!0)},500)}else this.playMedia();this.swappingSrc=!1,this.refreshControls()}},AblePlayer.prototype.onWindowResize=function(){if(this.isFullscreen()){var b,c;b=a(window).width(),c=this.isUserAgent("Firefox")||this.isUserAgent("Trident")||this.isUserAgent("Edge")?window.innerHeight-this.$playerDiv.outerHeight()-20:window.outerHeight>=window.innerHeight?window.innerHeight-this.$playerDiv.outerHeight():window.outerHeight,this.$descDiv.is(":hidden")||(c-=this.$descDiv.height()),this.positionCaptions("overlay")}else this.restoringAfterFullScreen?(b=this.preFullScreenWidth,c=this.preFullScreenHeight):(b=this.$ableWrapper.width(),c="undefined"!=typeof this.aspectRatio?Math.round(b/this.aspectRatio):this.$ableWrapper.height(),this.positionCaptions());this.resizePlayer(b,c)},AblePlayer.prototype.addSeekbarListeners=function(){var a=this;this.seekBar.bodyDiv.on("startTracking",function(b){a.pausedBeforeTracking=a.isPaused(),a.pauseMedia()}).on("tracking",function(b,c){a.highlightTranscript(c),a.updateCaption(c),a.showDescription(c),a.updateChapter(a.convertChapterTimeToVideoTime(c)),a.updateMeta(c),a.refreshControls()}).on("stopTracking",function(b,c){a.useChapterTimes?a.seekTo(a.convertChapterTimeToVideoTime(c)):a.seekTo(c),a.pausedBeforeTracking||setTimeout(function(){a.playMedia()},200)})},AblePlayer.prototype.onClickPlayerButton=function(b){var c=a(b).attr("class").split(" ")[0].substr(20);"play"===c?this.handlePlay():"restart"===c?(this.seekTrigger="restart",this.handleRestart()):"rewind"===c?(this.seekTrigger="rewind",this.handleRewind()):"forward"===c?(this.seekTrigger="forward",this.handleFastForward()):"mute"===c?this.handleMute():"volume"===c?this.handleVolume():"faster"===c?this.handleRateIncrease():"slower"===c?this.handleRateDecrease():"captions"===c?this.handleCaptionToggle():"chapters"===c?this.handleChapters():"descriptions"===c?this.handleDescriptionToggle():"sign"===c?this.handleSignToggle():"preferences"===c?this.handlePrefsClick():"help"===c?this.handleHelpClick():"transcript"===c?this.handleTranscriptToggle():"fullscreen"===c&&this.handleFullscreenToggle()},AblePlayer.prototype.okToHandleKeyPress=function(){var b=AblePlayer.getActiveDOMElement();return"INPUT"===a(b).prop("tagName")?!1:!0},AblePlayer.prototype.onPlayerKeyPress=function(b){if(!this.okToHandleKeyPress())return!1;var c=b.which;if(c>=65&&90>=c&&(c+=32),!(a(":focus").is("[contenteditable]")||a(":focus").is("input")||a(":focus").is("textarea")||a(":focus").is("select")||b.target.hasAttribute("contenteditable")||"INPUT"===b.target.tagName||"TEXTAREA"===b.target.tagName||"SELECT"===b.target.tagName))if(27===c)this.closePopups();else if(32===c)0===this.$ableWrapper.find(".able-controller button:focus").length&&this.handlePlay();else if(112===c)this.usingModifierKeys(b)&&this.handlePlay();else if(115===c)this.usingModifierKeys(b)&&this.handleRestart();else if(109===c)this.usingModifierKeys(b)&&this.handleMute();else if(118===c)this.usingModifierKeys(b)&&this.handleVolume();else if(c>=49&&57>=c)this.usingModifierKeys(b)&&this.handleVolume(c);else if(99===c)this.usingModifierKeys(b)&&this.handleCaptionToggle();else if(100===c)this.usingModifierKeys(b)&&this.handleDescriptionToggle();else if(102===c)this.usingModifierKeys(b)&&this.handleFastForward();else if(114===c)this.usingModifierKeys(b)&&this.handleRewind();else if(101===c)this.usingModifierKeys(b)&&this.handlePrefsClick();else if(13===c){var d=a(document.activeElement);"SPAN"===d.prop("tagName")?d.click():"LI"===d.prop("tagName")&&d.click()}},AblePlayer.prototype.addHtml5MediaListeners=function(){var a=this;this.$media.on("emptied",function(){}).on("loadedmetadata",function(){a.onMediaNewSourceLoad()}).on("canplay",function(){}).on("canplaythrough",function(){"restart"==a.seekTrigger||"chapter"==a.seekTrigger||"transcript"==a.seekTrigger?a.playMedia():a.startedPlaying?a.hasPlaylist&&(a.playlistIndex!==a.$playlist.length-1||a.loop)&&a.playMedia():a.startTime?a.seeking?(a.seeking=!1,a.autoplay&&a.playMedia()):a.seekTo(a.startTime):a.defaultChapter&&"undefined"!=typeof a.selectedChapters?a.seekToChapter(a.defaultChapter):a.autoplay&&a.playMedia()}).on("playing",function(){a.playing=!0,a.refreshControls()}).on("ended",function(){a.playing=!1,a.onMediaComplete()}).on("progress",function(){a.refreshControls()}).on("waiting",function(){a.refreshControls()}).on("durationchange",function(){a.refreshControls()}).on("timeupdate",function(){a.onMediaUpdateTime()}).on("play",function(){a.debug}).on("pause",function(){a.clickedPlay?a.playing=!1:a.hasPlaylist||(a.playing=!1),a.clickedPlay=!1,a.onMediaPause()}).on("ratechange",function(){}).on("volumechange",function(){a.volume=a.getVolume(),a.debug}).on("error",function(){if(a.debug)switch(a.media.error.code){case 1:break;case 2:break;case 3:break;case 4:}})},AblePlayer.prototype.addJwMediaListeners=function(){var b=this;this.jwPlayer.onTime(function(){b.onMediaUpdateTime()}).onComplete(function(){b.onMediaComplete()}).onReady(function(){b.debug,a("#"+b.jwId).removeAttr("tabindex"),b.$fallbackWrapper=a("#"+b.mediaId+"_fallback_wrapper"),b.fallbackDefaultWidth=b.$fallbackWrapper.width(),b.fallbackDefaultHeight=b.$fallbackWrapper.height(),b.fallbackRatio=b.fallbackDefaultWidth/b.fallbackDefaultHeight,b.startTime>0&&!b.startedPlaying&&(b.seekTo(b.startTime),b.startedPlaying=!0),b.refreshControls()}).onSeek(function(a){b.debug&&console.log("Seeking to "+a.position+"; target: "+a.offset),b.jwSeekPause&&(b.jwSeekPause=!1,b.playMedia()),setTimeout(function(){b.refreshControls()},300)}).onPlay(function(){b.debug,b.refreshControls()}).onPause(function(){b.onMediaPause()}).onBuffer(function(){b.debug,b.refreshControls()}).onBufferChange(function(){b.refreshControls()}).onIdle(function(a){b.debug,b.refreshControls()}).onMeta(function(){b.debug}).onPlaylist(function(){b.debug,b.onMediaNewSourceLoad()})},AblePlayer.prototype.addEventListeners=function(){var b;if(b=this,a(window).resize(function(){b.onWindowResize()}),window.MutationObserver){var c=this.$ableDiv[0],d=new MutationObserver(function(a){a.forEach(function(a){"attributes"===a.type&&"style"===a.attributeName&&b.$ableDiv.is(":visible")&&b.refreshControls()})}),e={attributes:!0,childList:!0,characterData:!0};d.observe(c,e)}this.addSeekbarListeners(),this.$controllerDiv.find("button").on("click",function(a){a.stopPropagation(),b.onClickPlayerButton(this)}),a(document).on("click",function(c){return 0!==c.button?!1:void((a(".able-popup:visible").length||a(".able-volume-popup:visible"))&&b.closePopups())}),this.$ableDiv.on("mousemove",function(){b.controlsHidden&&(b.fadeControls("in"),b.controlsHidden=!1,b.hidingControls=!0,b.hideControlsTimeout=window.setTimeout(function(){"undefined"!=typeof b.playing&&b.playing===!0&&(b.fadeControls("out"),b.controlsHidden=!0,b.hidingControls=!1)},3e3))}),a(document).keydown(function(){b.controlsHidden&&(b.fadeControls("in"),b.controlsHidden=!1)}),this.$ableDiv.keydown(function(a){AblePlayer.nextIndex>1&&b.onPlayerKeyPress(a)}),this.$transcriptArea&&this.$transcriptArea.keydown(function(a){AblePlayer.nextIndex>1&&b.onPlayerKeyPress(a)}),this.$playlist&&this.$playlist.click(function(){b.playlistIndex=a(this).index(),b.swapSource(b.playlistIndex)}),this.$media.click(function(){b.handlePlay()}),"html5"===this.player?this.addHtml5MediaListeners():"jw"===this.player?this.addJwMediaListeners():"youtube"===this.player&&setInterval(function(){b.onMediaUpdateTime()},300)}}(jQuery),function(a){AblePlayer.prototype.initDragDrop=function(b){var c,d,e,f,g,h;c=this,"transcript"===b?(d=this.$transcriptArea,f="transcript-window",e=this.$transcriptToolbar):"sign"===b&&(d=this.$signWindow,f="sign-window",e=this.$signToolbar),e.addClass("able-draggable"),g=a("<div>",{"class":"able-resizable"}),h=parseInt(d.css("z-index"))+100,g.css("z-index",h),d.append(g),e.on("mousedown",function(a){return a.stopPropagation(),c.windowMenuClickRegistered||(c.windowMenuClickRegistered=!0,c.startMouseX=a.pageX,c.startMouseY=a.pageY,c.dragDevice="mouse",c.startDrag(b,d)),!1}),e.on("mouseup",function(a){return a.stopPropagation(),c.dragging&&"mouse"===c.dragDevice&&c.endDrag(b),!1}),g.on("mousedown",function(a){return a.stopPropagation(),c.windowMenuClickRegistered?void 0:(c.windowMenuClickRegistered=!0,c.startMouseX=a.pageX,c.startMouseY=a.pageY,c.startResize(b,d),!1)}),g.on("mouseup",function(a){return a.stopPropagation(),c.resizing&&c.endResize(b),!1}),d.on("click",function(){c.windowMenuClickRegistered||c.finishingDrag||c.updateZIndex(b),c.finishingDrag=!1}),this.addWindowMenu(b,d,f)},AblePlayer.prototype.addWindowMenu=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,g;e=this,this.windowMenuClickRegistered=!1,this.finishingDrag=!1,f=a('<div role="alert"></div>'),f.addClass("able-alert"),f.hide(),f.appendTo(this.$activeWindow),f.css({top:c.offset().top}),g=this.mediaId+"-"+d+"-menu",h=a("<button>",{type:"button",tabindex:"0","aria-label":this.tt.windowButtonLabel,"aria-haspopup":"true","aria-controls":g,"class":"able-button-handler-preferences"}),"font"===this.iconType?(i=a("<span>",{"class":"icon-preferences","aria-hidden":"true"}),h.append(i)):(j=this.rootPath+"button-icons/"+this.toolbarIconColor+"/preferences.png",k=a("<img>",{src:j,alt:"",role:"presentation"}),h.append(k)),l=a("<span>",{"class":"able-clipped"}).text(this.tt.windowButtonLabel),h.append(l),m=this.mediaId+"-"+d+"-tooltip",n=a("<div>",{"class":"able-tooltip",id:m}).hide(),h.on("mouseenter focus",function(b){var c=a(this).attr("aria-label"),d=a(this).position(),f=a(this).height(),g=(a(this).width(),d.top-f-5),i=0,j={left:"",right:i+"px",top:g+"px"},k=AblePlayer.localGetElementById(h[0],m).text(c).css(j);e.showTooltip(k),a(this).on("mouseleave blur",function(){AblePlayer.localGetElementById(h[0],m).text("").hide()})}),o=this.setupPopups(d),"transcript"===b?(this.$transcriptAlert=f,this.$transcriptPopupButton=h,this.$transcriptPopup=o,this.$transcriptToolbar.append(f,h,n,o)):"sign"===b&&(this.$signAlert=f,this.$signPopupButton=h,this.$signPopup=o,this.$signToolbar.append(f,h,n,o)),h.on("click mousedown keydown",function(a){a.stopPropagation(),e.windowMenuClickRegistered||e.finishingDrag||e.handleWindowButtonClick(b,a),
e.finishingDrag=!1}),this.addResizeDialog(b,c)},AblePlayer.prototype.addResizeDialog=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;d=this,"transcript"===b?(e=this.$transcriptPopup,f=this.$transcriptPopupButton):"sign"===b&&(e=this.$signPopup,f=this.$signPopupButton),g=this.mediaId+"-resize-"+b+"-width",h=this.mediaId+"-resize-"+b+"-height",i=c.width(),j=c.height(),k=i/j,l=a("<div></div>",{"class":"able-resize-form"}),m=a("<div></div>"),n=a("<div></div>"),o=a("<input>",{type:"text",id:g,value:i}),p=a("<label>",{"for":g}).text(this.tt.width),q=a("<div></div>"),r=a("<input>",{type:"text",id:h,value:j}),s=a("<label>",{"for":h}).text(this.tt.height),"sign"===b&&(r.prop("readonly",!0),o.on("input",function(){t=a(this).val(),u=Math.round(t/k,0),r.val(u)})),v=a('<button class="modal-button">'+this.tt.save+"</button>"),w=a('<button class="modal-button">'+this.tt.cancel+"</button>"),v.on("click",function(){x=a("#"+g).val(),y=a("#"+h).val(),(x!==i||y!==j)&&(c.css({width:x+"px",height:y+"px"}),d.updateCookie(b)),z.hide(),e.hide(),f.focus()}),w.on("click",function(){z.hide(),e.hide(),f.focus()}),n.append(p,o),q.append(s,r),m.append(n,q),l.append(m,"<hr>",v,w),a("body").append(l),z=new AccessibleDialog(l,f,"alert",this.tt.windowResizeHeading,m,this.tt.closeButtonLabel,"20em"),"transcript"===b?this.transcriptResizeDialog=z:"sign"===b&&(this.signResizeDialog=z)},AblePlayer.prototype.handleWindowButtonClick=function(b,c){var d,e,f,g,h;if(d=this,"transcript"===b?(e=this.$transcriptPopup,f=this.$transcriptPopupButton,g=this.$transcriptToolbar):"sign"===b&&(e=this.$signPopup,f=this.$signPopupButton,g=this.$signToolbar),"keydown"===c.type)if(32===c.which||13===c.which)this.windowMenuClickRegistered=!0;else{if(27!==c.which)return!1;e.hide("fast",function(){d.windowMenuClickRegistered=!1,e.find("li").removeClass("able-focus").attr("tabindex","-1"),f.focus()})}else this.windowMenuClickRegistered=!0;e.is(":visible")?(e.hide(200,"",function(){d.windowMenuClickRegistered=!1}),e.find("li").removeClass("able-focus"),f.attr("aria-expanded","false").focus()):(this.updateZIndex(b),h=f.position().top+f.outerHeight(),e.css("top",h),e.show(200,"",function(){f.attr("aria-expanded","true"),a(this).find("li").first().focus().addClass("able-focus"),d.windowMenuClickRegistered=!1}))},AblePlayer.prototype.handleMenuChoice=function(a,b,c){var d,e,f,g,h;return d=this,"transcript"===a?(e=this.$transcriptArea,f=this.$transcriptPopup,g=this.$transcriptPopupButton,h=this.transcriptResizeDialog):"sign"===a&&(e=this.$signWindow,f=this.$signPopup,g=this.$signPopupButton,h=this.signResizeDialog),"keydown"===c.type?27===c.which?(f.hide("fast",function(){d.windowMenuClickRegistered=!1,f.find("li").removeClass("able-focus").attr("tabindex","-1"),g.focus()}),!1):!1:(f.hide("fast",function(){d.windowMenuClickRegistered=!1,f.find("li").removeClass("able-focus").attr("tabindex","-1")}),"close"!==b&&g.focus(),void("move"===b?(this.showedAlert(a)||(this.showAlert(this.tt.windowMoveAlert,a),"transcript"===a?this.showedTranscriptAlert=!0:"sign"===a&&(this.showedSignAlert=!0)),"keydown"===c.type?this.dragDevice="keyboard":this.dragDevice="mouse",this.startDrag(a,e),f.hide().parent().focus()):"resize"==b?h.show():"close"==b&&("transcript"===a?this.handleTranscriptToggle():"sign"===a&&this.handleSignToggle())))},AblePlayer.prototype.startDrag=function(b,c){var d,e,f,g,h;return d=this,this.$activeWindow=c,this.dragging=!0,"transcript"===b?e=this.$transcriptPopup:"sign"===b&&(e=this.$signPopup),this.showedAlert(b)||(this.showAlert(this.tt.windowMoveAlert,b),"transcript"===b?this.showedTranscriptAlert=!0:"sign"===b&&(this.showedSignAlert=!0)),e.is(":visible")&&e.hide(),this.updateZIndex(b),f=this.$activeWindow.position(),this.dragStartX=f.left,this.dragStartY=f.top,"undefined"==typeof this.startMouseX?(this.dragDevice="keyboard",this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.startingDrag=!0):(this.dragDevice="mouse",this.dragOffsetX=this.startMouseX-this.dragStartX,this.dragOffsetY=this.startMouseY-this.dragStartY),this.$activeWindow.addClass("able-drag").css({position:"absolute",top:this.dragStartY+"px",left:this.dragStartX+"px"}).focus(),"mouse"===this.dragDevice?a(document).on("mousemove",function(a){d.dragging&&(g=a.pageX-d.dragOffsetX,h=a.pageY-d.dragOffsetY,d.resetDraggedObject(g,h))}):"keyboard"===this.dragDevice&&this.$activeWindow.on("keydown",function(a){d.dragging&&d.dragKeys(b,a)}),!1},AblePlayer.prototype.dragKeys=function(a,b){var c,d;if(this.startingDrag)return this.startingDrag=!1,!1;switch(c=b.which,d=10,c){case 37:case 63234:this.dragKeyX-=d;break;case 38:case 63232:this.dragKeyY-=d;break;case 39:case 63235:this.dragKeyX+=d;break;case 40:case 63233:this.dragKeyY+=d;break;case 13:case 27:return this.endDrag(a),!1;default:return!1}return this.resetDraggedObject(this.dragKeyX,this.dragKeyY),b.preventDefault&&b.preventDefault(),!1},AblePlayer.prototype.resetDraggedObject=function(a,b){this.$activeWindow.css({left:a+"px",top:b+"px"})},AblePlayer.prototype.resizeObject=function(a,b,c){var d;this.$activeWindow.css({width:b+"px",height:c+"px"}),"transcript"===a&&(d=c-50,this.$transcriptDiv.css("height",d+"px"))},AblePlayer.prototype.endDrag=function(b){var c,d;"transcript"===b?(c=this.$transcriptPopup,d=this.$transcriptPopupButton):"sign"===b&&(c=this.$signPopup,d=this.$signPopupButton),a(document).off("mousemove mouseup"),this.$activeWindow.off("keydown").removeClass("able-drag"),"keyboard"===this.dragDevice&&d.focus(),this.dragging=!1,this.updateCookie(b),this.startMouseX=void 0,this.startMouseY=void 0,this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){this.finishingDrag=!1},100)},AblePlayer.prototype.isCloseToCorner=function(a,b,c){var d,e,f,g,h,i,j,k;return d=10,e=a.offset(),f=e.top,g=e.left,h=a.width(),i=a.height(),j=f+i,k=g+h,Math.abs(j-c)<=d&&Math.abs(k-b)<=d?!0:!1},AblePlayer.prototype.startResize=function(b,c){var d,e,f,g,h;return d=this,this.$activeWindow=c,this.resizing=!0,"transcript"===b?e=this.$transcriptPopup:"sign"===b&&(e=this.$signPopup),e.is(":visible")&&e.hide().parent().focus(),f=this.$activeWindow.position(),this.dragKeyX=this.dragStartX,this.dragKeyY=this.dragStartY,this.dragStartWidth=this.$activeWindow.width(),this.dragStartHeight=this.$activeWindow.height(),a(document).on("mousemove",function(a){d.resizing&&(g=d.dragStartWidth+(a.pageX-d.startMouseX),h=d.dragStartHeight+(a.pageY-d.startMouseY),d.resizeObject(b,g,h))}),!1},AblePlayer.prototype.endResize=function(b){var c,d;"transcript"===b?(c=this.$transcriptPopup,d=this.$transcriptPopupButton):"sign"===b&&(c=this.$signPopup,d=this.$signPopupButton),a(document).off("mousemove mouseup"),this.$activeWindow.off("keydown"),d.show().focus(),this.resizing=!1,this.$activeWindow.removeClass("able-resize"),this.updateCookie(b),this.windowMenuClickRegistered=!1,this.finishingDrag=!0,setTimeout(function(){this.finishingDrag=!1},100)}}(jQuery),function(a){AblePlayer.prototype.initSignLanguage=function(){"html5"===this.player&&(this.signFile=this.$sources.first().attr("data-sign-src"),this.signFile?(this.debug,this.hasSignLanguage=!0,this.injectSignPlayerCode()):this.hasSignLanguage=!1)},AblePlayer.prototype.injectSignPlayerCode=function(){var b,c,d,e,f,g,h;for(b=this,d=this.getDefaultWidth("sign"),c=this.mediaId+"-sign",this.$signVideo=a("<video>",{id:c,tabindex:"-1"}),this.signVideo=this.$signVideo[0],e=0;e<this.$sources.length;e++){if(f=this.$sources[e].getAttribute("data-sign-src"),g=this.$sources[e].getAttribute("type"),!f){this.hasSignLanguage=!1;break}h=a("<source>",{src:f,type:g}),this.$signVideo.append(h)}this.$signWindow=a("<div>",{"class":"able-sign-window",tabindex:"-1"}),this.$signToolbar=a("<div>",{"class":"able-window-toolbar able-"+this.toolbarIconColor+"-controls"}),this.$signWindow.append(this.$signToolbar,this.$signVideo),this.$ableWrapper.append(this.$signWindow),this.initDragDrop("sign"),1===this.prefSign?this.positionDraggableWindow("sign",this.getDefaultWidth("sign")):this.$signWindow.hide()}}(jQuery),function(a){var b={ab:{name:"Abkhaz",nativeName:"аҧсуа"},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:"አማርኛ"},ar:{name:"Arabic",nativeName:"العربية"},an:{name:"Aragonese",nativeName:"Aragonés"},hy:{name:"Armenian",nativeName:"Հայերեն"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ, магӀарул мацӀ"},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:"Беларуская"},bn:{name:"Bengali",nativeName:"বাংলা"},bh:{name:"Bihari",nativeName:"भोजपुरी"},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:"български език"},my:{name:"Burmese",nativeName:"ဗမာစာ"},ca:{name:"Catalan",nativeName:"Català"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ny:{name:"Chichewa",nativeName:"chiCheŵa, chinyanja"},zh:{name:"Chinese",nativeName:"中文 (Zhōngwén), 汉语, 漢語"},"zh-tw":{name:"Chinese Traditional (Taiwan)",nativeName:"中文（台灣）"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"česky, čeština"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi",nativeName:"ދިވެހި"},nl:{name:"Dutch",nativeName:"Nederlands, Vlaams"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti, eesti keel"},ee:{name:"Ewe",nativeName:"Eʋegbe"},fo:{name:"Faroese",nativeName:"føroyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi, suomen kieli"},fr:{name:"French",nativeName:"français, langue française"},ff:{name:"Fula",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:"ქართული"},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek",nativeName:"Ελληνικά"},gn:{name:"Guaraní",nativeName:"Avañeẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},ht:{name:"Haitian",nativeName:"Kreyòl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, هَوُسَ"},he:{name:"Hebrew",nativeName:"עברית"},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:"हिन्दी, हिंदी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Originally called Occidental; then Interlingue after WWII"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ik:{name:"Inupiaq",nativeName:"Iñupiaq, Iñupiatun"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"Íslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語 (にほんご／にっぽんご)"},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी, كشميري‎"},kk:{name:"Kazakh",nativeName:"Қазақ тілі"},km:{name:"Khmer",nativeName:"ភាសាខ្មែរ"},ki:{name:"Kikuyu",nativeName:"Gĩkũyũ"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kyrgyz",nativeName:"кыргыз тили"},kv:{name:"Komi",nativeName:"коми кыв"},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:"한국어 (韓國語), 조선말 (朝鮮語)"},ku:{name:"Kurdish",nativeName:"Kurdî, كوردی‎"},kj:{name:"Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine, lingua latina"},lb:{name:"Luxembourgish",nativeName:"Lëtzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingála"},lo:{name:"Lao",nativeName:"ພາສາລາວ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latviešu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:"македонски јазик"},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu, بهاس ملايو‎"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Māori",nativeName:"te reo Māori"},mr:{name:"Marathi",nativeName:"मराठी"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mn:{name:"Mongolian",nativeName:"монгол"},na:{name:"Nauru",nativeName:"Ekakairũ Naoero"},nv:{name:"Navajo",nativeName:"Diné bizaad, Dinékʼehǰí"},nb:{name:"Norwegian Bokmål",nativeName:"Norsk bokmål"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},cu:{name:"Church Slavonic",nativeName:"ѩзыкъ словѣньскъ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian",nativeName:"ирон æвзаг"},pa:{name:"Punjabi",nativeName:"ਪੰਜਾਬੀ, پنجابی‎"},pi:{name:"Pāli",nativeName:"पाऴि"},fa:{name:"Persian",nativeName:"فارسی"},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"Português"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian",nativeName:"română"},ru:{name:"Russian",nativeName:"русский язык"},sa:{name:"Sanskrit",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी, سنڌي، سندھی‎"},se:{name:"Northern Sami",nativeName:"Davvisámegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yângâ tî sängö"},sr:{name:"Serbian",nativeName:"српски језик"},gd:{name:"Gaelic",nativeName:"Gàidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhalese",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovene",nativeName:"slovenščina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"español, castellano"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ, toğikī, تاجیکی‎"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},bo:{name:"Tibetan",nativeName:"བོད་ཡིག"},tk:{name:"Turkmen",nativeName:"Türkmen, Түркмен"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Türkçe"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татарча, tatarça, تاتارچا‎"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"Uyƣurqə, ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"zbek, Ўзбек, أۇزبېك‎"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volapük",nativeName:"Volapük"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yorùbá"},za:{name:"Zhuang",nativeName:"Saɯ cueŋƅ, Saw cuengh"}};AblePlayer.prototype.getLanguageName=function(a){a=a.slice(0,2);var c=b[a];return c?c.name:void 0},AblePlayer.prototype.getLanguageNativeName=function(a){a=a.slice(0,2);var c=b[a];return c?c.nativeName:void 0}}(jQuery),function($){AblePlayer.prototype.getSupportedLangs=function(){var a=["ca","de","en","es","fr","he","it","ja","nb","zh-tw"];return a},AblePlayer.prototype.getTranslationText=function(){var deferred,thisObj,lang,thisObj,msg,translationFile;return deferred=$.Deferred(),thisObj=this,lang=$("body").attr("lang")?$("body").attr("lang"):$("html").attr("lang")?$("html").attr("lang"):null,this.forceLang||lang&&lang!==this.lang&&(msg="Language of web page ("+lang+") ",-1!==$.inArray(lang,this.getSupportedLangs())?(msg+=" has a translation table available.",this.lang=lang):msg+=" is not currently supported. Using default language ("+this.lang+")",this.debug),this.searchLang||(this.searchLang=this.lang),translationFile=this.rootPath+"translations/"+this.lang+".js",this.importTranslationFile(translationFile).then(function(result){thisObj.tt=eval(thisObj.lang),deferred.resolve()}),deferred.promise()},AblePlayer.prototype.importTranslationFile=function(a){var b=$.Deferred();return $.getScript(a).done(function(a,c){b.resolve(a)}).fail(function(a,c,d){b.fail()}),b.promise()}}(jQuery),function(a){AblePlayer.prototype.computeEndTime=function(a,b){var c=0,d=1,e=a.split(":").reverse().map(function(a){return parseFloat(a)}),f=b.split(":").reverse().map(function(a){return parseFloat(a)}),g=e.reduce(function(a,b,e){var g=b+f[e];return e===c&&(g>60&&(f[e+1]+=1,g-=60),g=g.toFixed(3)),e===d&&g>60&&(f[e+1]+=1,g-=60),10>g&&(g="0"+g),a.push(g),a},[]).reverse().join(":");return g},AblePlayer.prototype.ttml2webvtt=function(a){var b=this,c=b.convert.xml2json(a,{ignoreComment:!0,alwaysChildren:!0,compact:!0,spaces:2}),d="WEBVTT\n\n\n",e=JSON.parse(c).tt.body.div.p,f=e.reduce(function(a,c,d){var e=c._text,f=Array.isArray(e),g=c._attributes,h=(b.computeEndTime(g.begin,g.dur),b.computeEndTime(g.begin,"00:00:0")+" --> "+b.computeEndTime(g.begin,g.dur)+"\n"+(f?e.join("\n"):e)+"\n\n");return a+h},d);return f}}(jQuery),function(a){a.doWhen=function(b){return a.Deferred(function(c){var d=a.extend({},{when:null,exec:function(){},interval:100,attempts:100,delayed:0},b,{checkId:null}),e=function(){return d.when()===!0?(d.exec.call(c.promise()),void c.resolve()):void(d.checkId=setInterval(function(){0===d.attempts?(clearInterval(d.checkId),c.reject()):(--d.attempts,d.when()===!0&&(d.attempts=0,clearInterval(d.checkId),d.exec.call(c.promise()),c.resolve()))},d.interval))};d.delayed>0?setTimeout(e,Number(d.delayed)):e()}).promise()}}(jQuery),function(a){AblePlayer.prototype.injectVTS=function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(b=this,a("#able-vts").length&&this.vtsTracks.length){this.langs=[],this.getAllLangs(this.vtsTracks),this.vtsLang=this.lang,c=a("<h2>").text("Video Transcript Sorter"),a("#able-vts").append(c),this.$vtsAlert=a("<div>",{id:"able-vts-alert","aria-live":"polite","aria-atomic":"true"}),a("#able-vts").append(this.$vtsAlert),d=a("<div>",{id:"able-vts-instructions"}),e=a("<p>").text("Use the Video Transcript Sorter to perform any of the following tasks:"),g=a("<ul>"),h=a("<li>").text("Reorder chapters, descriptions, captions, and/or subtitles so they appear in the proper sequence in Able Player's auto-generated transcript."),i=a("<li>").text("Modify content or start/end times (all are directly editable within the table)."),j=a("<li>").text("Insert new content, such as chapters or descriptions."),f=a("<p>").text('When finished editing, click the "Save Changes" button. This will auto-generate new content for all relevant timed text files (chapters, descriptions, captions, and/or subtitles), which can be copied and pasted into separate WebVTT files for use by Able Player.'),g.append(h,i,j),d.append(e,g,f),a("#able-vts").append(d),k=a("<fieldset>"),l=a("<legend>").text("Select a language"),k.append(l);for(m in this.langs)o="vts-lang-radio-"+this.langs[m],n=a("<div>",{}),q=a("<input>",{type:"radio",name:"vts-lang",id:o,value:this.langs[m]}).on("click",function(){b.vtsLang=a(this).val(),b.showVtsAlert("Loading "+b.getLanguageName(b.vtsLang)+" tracks"),b.injectVtsTable("update",b.vtsLang)}),this.langs[m]==this.lang&&q.prop("checked",!0),p=a("<label>",{"for":o}).text(this.getLanguageName(this.langs[m])),n.append(q,p),k.append(n);a("#able-vts").append(k),r=a("<button>",{type:"button",id:"able-vts-save",value:"save"}).text("Save Changes"),a("#able-vts").append(r),this.injectVtsTable("add",this.vtsLang);var t,u,v,w,m;t=["captions","chapters","descriptions","subtitles"],a('td[contenteditable="true"]').on("focus",function(){u=a(this).text()}).on("blur",function(){u!=a(this).text()&&(v=a(this).index(),w=a(this).text(),1===v?-1===a.inArray(w,t)&&("s"===w.substr(0,1)?a(this).text("subtitles"):"d"===w.substr(0,1)?a(this).text("descriptions"):"ch"===w.substr(0,2)?a(this).text("chapters"):a(this).text("captions")):(2===v||3===v)&&a(this).text(b.formatTimestamp(w)))}).on("keydown",function(a){a.stopPropagation()}),a("#able-vts-save").on("click",function(c){c.stopPropagation(),"save"==a(this).attr("value")?(a(this).attr("value","cancel").text("Return to Editor"),s=a("#able-vts table"),a("#able-vts-instructions").hide(),a("#able-vts > fieldset").hide(),a("#able-vts table").remove(),a("#able-vts-icon-credit").remove(),b.parseVtsOutput(s)):(a(this).attr("value","save").text("Save Changes"),a("#able-vts-output").remove(),a("#able-vts-instructions").show(),a("#able-vts > fieldset").show(),a("#able-vts").append(s),a("#able-vts").append(b.getIconCredit()),b.showVtsAlert("Cancelling saving. Any edits you made have been restored in the VTS table."))})}},AblePlayer.prototype.setupVtsTracks=function(a,b,c,d,e){var f,g;f=this.getFilenameFromPath(d),g=this.parseVtsTracks(e),this.vtsTracks.push({kind:a,language:b,label:c,srcFile:f,cues:g})},AblePlayer.prototype.getFilenameFromPath=function(a){var b;return b=a.lastIndexOf("/"),-1===b?a:a.substr(b+1)},AblePlayer.prototype.getFilenameFromTracks=function(a,b){for(var c=0;c<this.vtsTracks.length;c++)if(this.vtsTracks[c].kind===a&&this.vtsTracks[c].language===b)return this.vtsTracks[c].srcFile;return!1},AblePlayer.prototype.parseVtsTracks=function(a){var b,c,d,e,f,g,h,i,j;for(b=a.split("\n"),d=[],e=0;e<b.length;)if(g=b[e],-1!==g.indexOf(" --> ")){if(c=g.trim().split(" "),this.isValidTimestamp(c[0])&&this.isValidTimestamp(c[2])){for(i="",f=e+1,j=!1;f<b.length&&!j;)h=b[f].trim(),h.length>0?i+=i.length>0?"\n"+h:h:j=!0,f++;d.push({start:c[0],end:c[2],content:i}),e=f}}else e++;return d},AblePlayer.prototype.isValidTimestamp=function(a){return/^[0-9:,.]*$/.test(a)?!0:!1},AblePlayer.prototype.formatTimestamp=function(a){var b,c,b=a.substr(0,a.lastIndexOf(".")+1),c=a.substr(a.lastIndexOf(".")+1);if(c.length>3)c=c.substr(0,3);else if(c.length<3)for(;c.length<3;)c+="0";return b+c},AblePlayer.prototype.injectVtsTable=function(b,c){var d,e,f,g,h,i,j,k,l;for("update"===b&&(a("#able-vts table").remove(),a("#able-vts-icon-credit").remove()),d=a("<table>",{lang:c}),g=a("<tr>",{lang:"en"}),e=["Row #","Kind","Start","End","Content","Actions"],f=0;f<e.length;f++)h=a("<th>",{scope:"col"}).text(e[f]),"Actions"===e[f]&&h.addClass("actions"),g.append(h);for(d.append(g),j=this.getAllRows(c),f=0;f<j.length;f++)k=f+1,l="able-vts-row-"+k,g=a("<tr>",{id:l,"class":"kind-"+j[f].kind}),i=a("<td>").text(k),g.append(i),i=a("<td>",{contenteditable:"true"}).text(j[f].kind),g.append(i),i=a("<td>",{contenteditable:"true"}).text(j[f].start),g.append(i),i=a("<td>",{contenteditable:"true"}).text(j[f].end),g.append(i),i=a("<td>",{contenteditable:"true"}).text(j[f].content),g.append(i),i=this.addVtsActionButtons(k,j.length),g.append(i),d.append(g);a("#able-vts").append(d),a("#able-vts").append(this.getIconCredit())},AblePlayer.prototype.addVtsActionButtons=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o;for(d=this,e=a("<td>"),f=["up","down","insert","delete"],g=0;g<f.length;g++)h=f[g],"up"===h?b>1&&(i=a("<button>",{id:"able-vts-button-up-"+b,title:"Move up","aria-label":"Move Row "+b+" up"}).on("click",function(a){d.onClickVtsActionButton(a.currentTarget)}),j=a("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"254.296px",height:"254.296px",viewBox:"0 0 254.296 254.296",style:"enable-background:new 0 0 254.296 254.296"}),l="M249.628,176.101L138.421,52.88c-6.198-6.929-16.241-6.929-22.407,0l-0.381,0.636L4.648,176.101c-6.198,6.897-6.198,18.052,0,24.981l0.191,0.159c2.892,3.305,6.865,5.371,11.346,5.371h221.937c4.577,0,8.613-2.161,11.41-5.594l0.064,0.064C255.857,194.153,255.857,182.998,249.628,176.101z",n=a("<path>",{d:l}),k=a("<g>").append(n),j.append(k),i.append(j),i.html(i.html()),e.append(i)):"down"===h?c>b&&(i=a("<button>",{id:"able-vts-button-down-"+b,title:"Move down","aria-label":"Move Row "+b+" down"}).on("click",function(a){d.onClickVtsActionButton(a.currentTarget)}),j=a("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"292.362px",height:"292.362px",viewBox:"0 0 292.362 292.362",style:"enable-background:new 0 0 292.362 292.362"}),l="M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424C1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428s9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z",n=a("<path>",{d:l}),k=a("<g>").append(n),j.append(k),i.append(j),i.html(i.html()),e.append(i)):"insert"===h?(i=a("<button>",{id:"able-vts-button-insert-"+b,title:"Insert row below","aria-label":"Insert row before Row "+b}).on("click",function(a){d.onClickVtsActionButton(a.currentTarget)}),j=a("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"401.994px",height:"401.994px",viewBox:"0 0 401.994 401.994",style:"enable-background:new 0 0 401.994 401.994"}),l="M394,154.175c-5.331-5.33-11.806-7.994-19.417-7.994H255.811V27.406c0-7.611-2.666-14.084-7.994-19.414C242.488,2.666,236.02,0,228.398,0h-54.812c-7.612,0-14.084,2.663-19.414,7.993c-5.33,5.33-7.994,11.803-7.994,19.414v118.775H27.407c-7.611,0-14.084,2.664-19.414,7.994S0,165.973,0,173.589v54.819c0,7.618,2.662,14.086,7.992,19.411c5.33,5.332,11.803,7.994,19.414,7.994h118.771V374.59c0,7.611,2.664,14.089,7.994,19.417c5.33,5.325,11.802,7.987,19.414,7.987h54.816c7.617,0,14.086-2.662,19.417-7.987c5.332-5.331,7.994-11.806,7.994-19.417V255.813h118.77c7.618,0,14.089-2.662,19.417-7.994c5.329-5.325,7.994-11.793,7.994-19.411v-54.819C401.991,165.973,399.332,159.502,394,154.175z",n=a("<path>",{d:l}),k=a("<g>").append(n),j.append(k),i.append(j),i.html(i.html()),e.append(i)):"delete"===h&&(i=a("<button>",{id:"able-vts-button-delete-"+b,title:"Delete row ","aria-label":"Delete Row "+b}).on("click",function(a){d.onClickVtsActionButton(a.currentTarget)}),j=a("<svg>",{focusable:"false","aria-hidden":"true",x:"0px",y:"0px",width:"508.52px",height:"508.52px",viewBox:"0 0 508.52 508.52",style:"enable-background:new 0 0 508.52 508.52"}),l="M397.281,31.782h-63.565C333.716,14.239,319.478,0,301.934,0h-95.347c-17.544,0-31.782,14.239-31.782,31.782h-63.565c-17.544,0-31.782,14.239-31.782,31.782h349.607C429.063,46.021,414.825,31.782,397.281,31.782z",n=a("<path>",{d:l}),m="M79.456,476.737c0,17.544,14.239,31.782,31.782,31.782h286.042c17.544,0,31.782-14.239,31.782-31.782V95.347H79.456V476.737z M333.716,174.804c0-8.772,7.151-15.891,15.891-15.891c8.74,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.151,15.891-15.891,15.891c-8.74,0-15.891-7.151-15.891-15.891V174.804zM238.369,174.804c0-8.772,7.119-15.891,15.891-15.891c8.74,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.151,15.891-15.891,15.891c-8.772,0-15.891-7.151-15.891-15.891V174.804z M143.021,174.804c0-8.772,7.119-15.891,15.891-15.891c8.772,0,15.891,7.119,15.891,15.891v254.26c0,8.74-7.119,15.891-15.891,15.891c-8.772,0-15.891-7.151-15.891-15.891V174.804z",o=a("<path>",{d:m}),k=a("<g>").append(n,o),j.append(k),i.append(j),i.html(i.html()),e.append(i));return e},AblePlayer.prototype.updateVtsActionButtons=function(a,b){var c,d,e,f,g,h;for(c=0;c<a.length;c++)d=a.eq(c),e=d.attr("id"),f=d.attr("aria-label"),g=e.replace(/[0-9]+/g,b),h=f.replace(/[0-9]+/g,b),d.attr("id",g),d.attr("aria-label",h)},AblePlayer.prototype.getIconCredit=function(){var a;return a='<div id="able-vts-icon-credit">Action buttons made by <a href="https://www.flaticon.com/authors/elegant-themes">Elegant Themes</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> are licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>'},AblePlayer.prototype.getAllLangs=function(b){var c;for(c in b)b[c].hasOwnProperty("language")&&-1===a.inArray(b[c].language,this.langs)&&(this.langs[this.langs.length]=b[c].language)},AblePlayer.prototype.getAllRows=function(a){var b,c,d,e;for(e=[],b=0;b<this.vtsTracks.length;b++)if(c=this.vtsTracks[b],c.language==a)for(d in c.cues)e.push({kind:c.kind,lang:a,id:c.cues[d].id,start:c.cues[d].start,end:c.cues[d].end,content:c.cues[d].content});return e.sort(function(a,b){return a.start>b.start?1:-1}),e},AblePlayer.prototype.onClickVtsActionButton=function(b){var c,d,e;c=a(b).attr("id").split("-"),d=c[3],e=c[4],"up"==d?this.moveRow(e,"up"):"down"==d?this.moveRow(e,"down"):"insert"==d?this.insertRow(e):"delete"==d&&this.deleteRow(e)},AblePlayer.prototype.insertRow=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,l,q,r;for(c=a("#able-vts table"),d=c.find("tr"),e=d.length-1,f=parseInt(b)+1,g="able-vts-row-"+f,h=a("<tr>",{id:g}),i=a("<td>").text(f),h.append(i),n=null,j=a("<select>",{id:"able-vts-kind-"+f,"aria-label":"What kind of track is this?",placeholder:"Select a kind"}).on("change",function(){n=a(this).val(),o="kind-"+n,p=a(this).closest("tr"),a(this).parent().text(n),p.addClass(o)}),k=["","captions","chapters","descriptions","subtitles"],l=0;l<k.length;l++)m=a("<option>",{value:k[l]}).text(k[l]),j.append(m);for(i=a("<td>").append(j),h.append(i),i=a("<td>",{contenteditable:"true"}),h.append(i),i=a("<td>",{contenteditable:"true"}),h.append(i),i=a("<td>",{contenteditable:"true"}),h.append(i),i=this.addVtsActionButtons(f,e),h.append(i),c.find("tr").eq(b).after(h),l=f;e>=l;l++)q=l+1,d.eq(l).attr("id","able-vts-row-"+q),d.eq(l).find("td").eq(0).text(q),r=d.eq(l).find("button"),this.updateVtsActionButtons(r,q);this.adjustTimes(f),this.showVtsAlert("A new row "+f+" has been inserted"),j.focus()},AblePlayer.prototype.deleteRow=function(b){var c,d,e,f,g,h;for(c=a("#able-vts table"),c[0].deleteRow(b),d=c.find("tr"),e=d.length-1,f=b;e>=f;f++)g=f,d.eq(f).attr("id","able-vts-row-"+g),d.eq(f).find("td").eq(0).text(g),h=d.eq(f).find("button"),this.updateVtsActionButtons(h,g);this.showVtsAlert("Row "+b+" has been deleted")},AblePlayer.prototype.moveRow=function(b,c){var d,e,f,g,h;d=a("#able-vts table").find("tr"),e=a("#able-vts table").find("tr").eq(b),"up"==c?(f=parseInt(b)-1,g=a("#able-vts table").find("tr").eq(f),g.before(e)):"down"==c&&(f=parseInt(b)+1,g=a("#able-vts table").find("tr").eq(f),g.after(e)),e.attr("id","able-vts-row-"+f),e.find("td").eq(0).text(f),this.updateVtsActionButtons(e.find("button"),f),g.attr("id","able-vts-row-"+b),g.find("td").eq(0).text(b),this.updateVtsActionButtons(g.find("button"),b),this.adjustTimes(f),h="Row "+b+" has been moved "+c,h+=" and is now Row "+f,this.showVtsAlert(h)},AblePlayer.prototype.adjustTimes=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;c=[],c.captions=.001,c.descriptions=.001,c.chapters=.001,d=a("#able-vts table").find("tr"),g=d.eq(b),j=g.is('[class^="kind-"]')?this.getKindFromClass(g.attr("class")):"captions",m=this.getSecondsFromColonTime(g.find("td").eq(2).text()),
p=this.getSecondsFromColonTime(g.find("td").eq(3).text()),b>1?(e=b-1,h=d.eq(e),k=h.is('[class^="kind-"]')?this.getKindFromClass(h.attr("class")):null,n=this.getSecondsFromColonTime(h.find("td").eq(2).text()),q=this.getSecondsFromColonTime(h.find("td").eq(3).text())):(e=null,h=null,k=null,n=null,q=null),b<d.length-1?(f=b+1,i=d.eq(f),l=i.is('[class^="kind-"]')?this.getKindFromClass(i.attr("class")):null,o=this.getSecondsFromColonTime(i.find("td").eq(2).text()),r=this.getSecondsFromColonTime(i.find("td").eq(3).text())):(f=null,i=null,l=null,o=null,r=null),isNaN(m)?(null==k&&(k="captions",h.attr("class","kind-captions"),h.find("td").eq(1).html("captions")),"captions"===k?(m=(parseFloat(q)+.001).toFixed(3),p=o?(parseFloat(o)-.001).toFixed(3):(parseFloat(m)+c[j]).toFixed(3)):"chapters"===k?(m=(parseFloat(n)+.001).toFixed(3),p=o?(parseFloat(o)-.001).toFixed(3):(parseFloat(m)+minDurartion[j]).toFixed(3)):"descriptions"===k&&(m=(parseFloat(n)+c.descriptions).toFixed(3),p=(parseFloat(m)+c.descriptions).toFixed(3))):n?m>n?o>m||(o=(parseFloat(m)+c[j]).toFixed(3),r=(parseFloat(o)+c[l]).toFixed(3)):(m=(parseFloat(n)+c[k]).toFixed(3),p=(parseFloat(m)+c[j]).toFixed(3)):o>m||(o=(parseFloat(m)+c[j]).toFixed(3),r=(parseFloat(o)+c[l]).toFixed(3)),p-m<c[j]&&(p=(parseFloat(m)+c[j]).toFixed(3),o&&(o=(parseFloat(p)+.001).toFixed(3))),g.find("td").eq(2).text(this.formatSecondsAsColonTime(m,!0)),g.find("td").eq(3).text(this.formatSecondsAsColonTime(p,!0)),h&&(h.find("td").eq(2).text(this.formatSecondsAsColonTime(n,!0)),h.find("td").eq(3).text(this.formatSecondsAsColonTime(q,!0))),i&&(i.find("td").eq(2).text(this.formatSecondsAsColonTime(o,!0)),i.find("td").eq(3).text(this.formatSecondsAsColonTime(r,!0)))},AblePlayer.prototype.getKindFromClass=function(a){var b,c,d,e;return b=a.indexOf("kind-")+5,c=a.indexOf(" ",b),d=-1==c?a.length-b:c-b,e=a.substr(b,d)},AblePlayer.prototype.showVtsAlert=function(a){this.$vtsAlert.text(a).show().delay(3e3).fadeOut("slow")},AblePlayer.prototype.parseVtsOutput=function(b){var c,d,e,f,g,h,i,j,k,l;for(c=b.attr("lang"),e=["captions","chapters","descriptions","subtitles"],g={},d=0;d<e.length;d++)f=e[d],g[f]="WEBVTT\n\n";if(h=b.find("tr"),h.length>0)for(d=0;d<h.length;d++)f=h.eq(d).find("td").eq(1).text(),-1!==a.inArray(f,e)&&(i=h.eq(d).find("td").eq(2).text(),j=h.eq(d).find("td").eq(3).text(),k=h.eq(d).find("td").eq(4).text(),void 0!==i&&void 0!==j&&(g[f]+=i+" --> "+j+"\n","undefined"!==k&&(g[f]+=k),g[f]+="\n\n"));for(l=a("<div>",{id:"able-vts-output"}),a("#able-vts").append(l),d=0;d<e.length;d++)f=e[d],g[f].length>8&&this.showWebVttOutput(f,g[f],c)},AblePlayer.prototype.showWebVttOutput=function(b,c,d){var e,f,g,h,i;e=a("<h3>").text(b.charAt(0).toUpperCase()+b.slice(1)),f=this.getFilenameFromTracks(b,d),h="If you made changes, copy/paste the following content ",f?(h+="to replace the original content of your "+this.getLanguageName(d)+" ",h+="<em>"+b+"</em> WebVTT file (<strong>"+f+"</strong>)."):h+="into a new "+this.getLanguageName(d)+" <em>"+b+"</em> WebVTT file.",g=a("<p>",{"class":"able-vts-output-instructions"}).html(h),i=a("<textarea>").text(c),a("#able-vts-output").append(e,g,i)}}(jQuery);